Capped data/simdial/train/restaurant-MixSpec-2000.json data to 1000
Capped data/simdial/train/movie-MixSpec-2000.json data to 1000
Read 3 domain metas
Max utt len 53, mean utt len 15.47, 20 covers 0.83
Max dialog len 104, mean dialog len 29.20
Max utt len 53, mean utt len 15.69, 20 covers 0.83
Max dialog len 104, mean dialog len 32.55
Loaded Corpus with 2000, test 500
Raw vocab 529, vocab size 529, cut_off 1, train UNK rate 0.0000 For both speaker
Test vocabulary UNK rate 0.0000
Done loading corpus
38 templates for restaurant
46 templates for rest_slots
46 templates for movie
Filter 0 samples from Extra
Filter 0 samples from Extra
Collected 200 extra samples
[('restaurant', 100), ('movie', 100)]
Loaded Corpus with train 1800, valid 200, test 500
Filter 900 samples from train
Filter 100 samples from valid
Filter 0 samples from test
Train a new intent tagger
[('request', 1042), ('query', 561), ('inform', 561), ('implicit_confirm', 466), ('explicit_confirm', 265), ('greet', 134), ('goodbye', 132)]
F1: request -> 1.000000
F1: query -> 0.993711
F1: inform -> 1.000000
F1: implicit_confirm -> 0.992424
F1: explicit_confirm -> 1.000000
F1: greet -> 1.000000
F1: goodbye -> 1.000000
Initialized Train Max len 104 Min len 10 Avg len 26.453333333333333 Max ctx 20 covers 0.30444444444444446
Initialized Valid Max len 56 Min len 10 Avg len 24.98 Max ctx 20 covers 0.35
Initialized Test Max len 104 Min len 12 Avg len 32.548 Max ctx 20 covers 0.172
ZeroShotPtrHRED (
  (embedding): Embedding(534, 200, padding_idx=0), parameters=106800
  (embedding1): Embedding(534, 200, padding_idx=0), parameters=106800
  (utt_encoder): RnnUttEncoder(
    (embedding): Embedding(534, 200, padding_idx=0)
    (rnn): EncoderRNN(
      (input_dropout): Dropout(p=0.0)
      (rnn): GRU(201, 256, batch_first=True, dropout=0.3, bidirectional=True)
    )
  ), parameters=811824
  (Semantic_guide): Semantic_guide(
    (embedding): Embedding(534, 200, padding_idx=0)
  ), parameters=106800
  (ctx_encoder): EncoderRNN(
    (input_dropout): Dropout(p=0.0)
    (rnn): LSTM(512, 512, batch_first=True, dropout=0.3)
  ), parameters=2101248
  (policy): Linear(in_features=512, out_features=512, bias=True), parameters=262656
  (connector): LinearConnector(
    (linear_h): Linear(in_features=512, out_features=512, bias=True)
    (linear_c): Linear(in_features=512, out_features=512, bias=True)
  ), parameters=525312
  (connector_f): LinearConnector_f(
    (linear): Linear(in_features=512, out_features=512, bias=True)
    (Relu): ReLU()
  ), parameters=262656
  (connector_vg): LinearConnector_vg(
    (linear_enc): Linear(in_features=512, out_features=200, bias=True)
    (linear_dec): Linear(in_features=200, out_features=512, bias=True)
    (Relu): ReLU()
    (tanh): Tanh()
    (Sigmoid): Sigmoid()
  ), parameters=205512
  (calculate_T): calculate_T(
    (embedding): Embedding(534, 200, padding_idx=0)
  ), parameters=106800
  (decoder): DecoderPointerGen(
    (input_dropout): Dropout(p=0.3)
    (rnn): LSTM(200, 512, batch_first=True, dropout=0.3)
    (embedding): Embedding(534, 200, padding_idx=0)
    (attention): Attention(
      (linear_out): Linear(in_features=1024, out_features=512, bias=True)
      (dec_w): Linear(in_features=512, out_features=512, bias=True)
      (attn_w): Linear(in_features=512, out_features=512, bias=True)
      (query_w): Linear(in_features=512, out_features=1, bias=True)
    )
    (project): Linear(in_features=512, out_features=534, bias=True)
  ), parameters=2894151
  (nll_loss): NLLEntropy(), parameters=0
  (l2_loss): L2Loss(), parameters=0
  (l2_loss1): L2Loss(), parameters=0
  (softmaxfn): fn_softmax(
    (linear): Linear(in_features=512, out_features=512, bias=False)
    (softmax): Softmax()
  ), parameters=262144
  (softmax): Softmax(), parameters=0
  (softmax1): Softmax(), parameters=0
) Total Parameters=7752703
**** Training Begins ****
**** Epoch 0/100 ****
Train init with 517 batches with 0 left over samples
Train add with 10 warm up batches
200/1000-(0.000): Train nll 1.219 PPL 3.384 attn_loss 4.234 distance 0.161 distance_semantic 2.280 loss_pack_warm 4.086 distance1 0.037
400/1000-(0.000): Train nll 0.251 PPL 1.286 attn_loss 3.757 distance 0.170 distance_semantic 1.487 loss_pack_warm 3.929 distance1 0.041
Train init with 517 batches with 0 left over samples
Train add with 10 warm up batches
600/1000-(0.000): Train nll 0.359 PPL 1.432 attn_loss 3.110 distance 0.177 distance_semantic 0.970 loss_pack_warm 3.178 distance1 0.035
800/1000-(0.000): Train nll 0.170 PPL 1.185 attn_loss 2.071 distance 0.191 distance_semantic 0.708 loss_pack_warm 2.297 distance1 0.024
0/1000-(0.000): Train nll 0.161 PPL 1.175 attn_loss 1.453 distance 0.202 distance_semantic 0.525 loss_pack_warm 2.459 distance1 0.025

=== Evaluating Model ===
Train nll 0.432 PPL 1.541 attn_loss 2.925 distance 0.180 distance_semantic 1.194 loss_pack_warm 3.190 distance1 0.032
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.387 PPL 1.473 attn_loss 0.866 distance 0.245 distance_semantic 0.224 loss_pack_warm 0.224 distance1 0.224
Total valid loss 0.4406123459339142
Generation: 50 batches
Source: ything else? </s>|<s> <usr> movie Whatever is good . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# default ": " 182 "}} </s>
movie:: True: <sys> movie Movie 182 is a good choice . Anything else? ||| Pred: <sys> movie Restaurant 182 is a good choice . What else can I do?
[[Attention: <sys>(0.31770947575569153) movie(0.25217893719673157) 182(0.9283486008644104) a(0.13411405682563782) .(0.21656125783920288) I(0.12473942339420319) do(0.10458769649267197) ?(0.27616646885871887) </s>(0.2719263434410095)]]
-
Source: se? </s>|<s> <usr> movie Movie from Germany </s>|<s> <sys> movie I believe you said Germany . {" QUERY ": {"# genre ": " Action ", "# </s>|<s> <usr> movie Yes . {" RET ": {"# default ": " 148 "}} </s>
movie:: True: <sys> movie Movie 148 is a good choice . Anything else? ||| Pred: <sys> movie Restaurant 148 is a good choice . Are you happy about my answer?
[[Attention: <sys>(0.3003385066986084) movie(0.29379838705062866) 148(0.9533634781837463) a(0.15779300034046173) .(0.18757759034633636) you(0.1796136051416397) ?(0.3438398540019989) </s>(0.1979486346244812)]]
-
Source:  ", "# years ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# default ": " 144 "}} </s>|<s> <sys> movie Movie 144 is a good choice . What else can I do? </s>|<s> <usr> movie From Thailand . </s>
movie:: True: <sys> movie I believe you said Thailand . {" QUERY ": {"# genre ": " dont_care ", "# years ": " 2010 - present ", "# country ": " Thailand "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.34139111638069153) movie(0.1608477085828781) ":(0.1851242631673813) {"#(0.2871881127357483) ":(0.2420559823513031) "(0.402899831533432) dont_care(0.8082811236381531) ",(0.22677423059940338) ":(0.15668751299381256) "(0.3480472266674042) dont_care(0.2618001401424408) "(0.2880452871322632) ":(0.16732479631900787) </s>(0.2659074366092682)]]
-
Source: movie {" RET ": {"# director ": " A "}} </s>|<s> <sys> movie No, The director is A . What else can I do? </s>|<s> <usr> movie New request . I like Comedy movies . Uhm uhm sorry, I love Drama ones </s>
movie:: True: <sys> movie I believe you said Drama . Do you mean 2000 - 2010? ||| Pred: <sys> movie Do you mean dont_care?
[[Attention: <sys>(0.33315107226371765) movie(0.21200168132781982) you(0.10718610137701035) dont_care(0.18235214054584503) ?(0.197877436876297) </s>(0.19600386917591095)]]
-
Source: >|<s> <usr> movie That' s wrong . </s>|<s> <sys> movie Okay, you dont_care, do you? </s>|<s> <usr> movie No . </s>|<s> <sys> movie What' s the time period? </s>|<s> <usr> movie Anything is fine . </s>
movie:: True: <sys> movie Alright, dont_care . {" QUERY ": {"# genre ": " Western ", "# years ": " dont_care ", "# country ": " China "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.28245317935943604) movie(0.37412241101264954) ":(0.3817236125469208) {"#(0.12723004817962646) ":(0.49217042326927185) "(0.3007276654243469) dont_care(0.4790652096271515) ":(0.3931927978992462) "(0.30417752265930176) dont_care(0.351108193397522) "(0.274557888507843) ":(0.30642402172088623) </s>(0.21257728338241577)]]
-
Source: s ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 111 "}} </s>|<s> <sys> movie Movie 111 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie I love Action ones . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Romance ", "# years ": " 60s ", "# country ": " Germany "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# food_pref ": " 60s ", "# loc ": " Action "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.37223896384239197) movie(0.3331323266029358) QUERY(0.10400243103504181) ":(0.18982845544815063) {"#(0.30746525526046753) ":(0.24788448214530945) "(0.4671143591403961) 60s(0.894835889339447) ",(0.19955916702747345) ":(0.15302146971225739) "(0.37501102685928345) Action(0.2597416639328003) "(0.2986752688884735) ":(0.15640294551849365) </s>(0.21276190876960754)]]
-
Source: " Family ", "# years ": " dont_care ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 31 "}} </s>|<s> <sys> movie Movie 31 is a good choice . Anything else? </s>|<s> <usr> movie From France . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " dont_care ", "# country ": " Germany "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " Family "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.5847424268722534) movie(0.17659923434257507) ":(0.2979181408882141) {"#(0.4413100779056549) ":(0.348074734210968) "(0.5544430017471313) dont_care(0.8279410004615784) ",(0.30677688121795654) ":(0.22875727713108063) "(0.4701540470123291) Family(0.5654480457305908) "(0.4057345986366272) ":(0.22622127830982208) </s>(0.2886383831501007)]]
-
Source: years ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# default ": " 25 "}} </s>|<s> <sys> movie Movie 25 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie Movies in 60s </s>
movie:: True: <sys> movie I believe you said 60s . {" QUERY ": {"# genre ": " Crime ", "# years ": " 60s ", "# country ": " Russia "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# food_pref ": " 60s ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.43849286437034607) movie(0.2694457769393921) ":(0.2041645646095276) {"#(0.31557217240333557) ":(0.2689524292945862) "(0.4643747806549072) 60s(0.6328514218330383) ",(0.303038090467453) ":(0.16545765101909637) "(0.4633549153804779) 2010(0.12798413634300232) "(0.3471875488758087) ":(0.1806677281856537) </s>(0.2125665694475174)]]
-
Source: sr> movie Not done yet . How people rate this movie? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# rating ": " 4 "}} </s>
movie:: True: <sys> movie This movie has a rating of 4 . Are you happy about my answer? ||| Pred: <sys> movie The movie is 4 . Are you happy about my answer?
[[Attention: <sys>(0.5082377195358276) rating(0.34253913164138794) rating(0.23864449560642242) 4(0.9658095240592957) .(0.2123531550168991) you(0.11167703568935394) ?(0.31607162952423096) </s>(0.24986772239208221)]]
-
Source: : " dont_care ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# director ": " Q "}} </s>|<s> <sys> movie The director is Q . Anything else? </s>|<s> <usr> movie All good . Thank you . </s>
movie:: True: <sys> movie Goodbye. ||| Pred: <sys> movie {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " Thank "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.501882016658783) movie(0.3661286234855652) ":(0.27578961849212646) {"#(0.4302181601524353) ":(0.3208884000778198) "(0.492472380399704) dont_care(0.6339857578277588) ",(0.25634127855300903) ":(0.2040378600358963) "(0.4189387261867523) Thank(0.33488813042640686) "(0.3613479733467102) ":(0.20558656752109528) </s>(0.27170848846435547)]]
-
Source:  years ": " 2000 - 2010 </s>|<s> <usr> movie {" RET ": {"# director ": " E "}} </s>|<s> <sys> movie No, It' s director by E . Anything else? </s>|<s> <usr> movie I have all I need . That' s all . </s>
movie:: True: <sys> movie See you next time. ||| Pred: <sys> movie {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.3835495412349701) movie(0.33908167481422424) ":(0.20576319098472595) {"#(0.35097000002861023) ":(0.31540894508361816) "(0.49395984411239624) dont_care(0.7896054983139038) ",(0.3142906427383423) ":(0.19924932718276978) "(0.4588737189769745) dont_care(0.4908425509929657) "(0.3615850806236267) ":(0.19410184025764465) </s>(0.28875643014907837)]]
-
Source: ears ": " dont_care </s>|<s> <usr> movie {" RET ": {"# default ": " 147 "}} </s>|<s> <sys> movie Movie 147 is a good choice . Anything else? </s>|<s> <usr> movie No more questions . That' s all . </s>
movie:: True: <sys> movie See you next time. ||| Pred: <sys> movie {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# price "]}
[[Attention: <sys>(0.5561298131942749) movie(0.341957151889801) ":(0.2504574656486511) {"#(0.3262096345424652) ":(0.21981576085090637) "(0.2978358566761017) dont_care(0.7557151913642883) ":(0.1811019331216812) "(0.24971434473991394) dont_care(0.9361483454704285) "(0.1676410585641861) ":(0.19565974175930023) </s>(0.3026862144470215)]]
-
Source:  years ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# rating ": " 3 "}} </s>|<s> <sys> movie The rating is 3 . What else can I do? </s>|<s> <usr> movie No more questions . hmm...See you . </s>
movie:: True: <sys> movie See you next time. ||| Pred: <sys> movie {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.5254896879196167) movie(0.2676379382610321) ":(0.21000126004219055) {"#(0.34946632385253906) ":(0.31917858123779297) "(0.4862261414527893) dont_care(0.795151948928833) ",(0.30680856108665466) ":(0.20978957414627075) "(0.45933231711387634) dont_care(0.20033836364746094) "(0.36557695269584656) ":(0.20080174505710602) </s>(0.32078734040260315)]]
-
Source: nre ": " Romance ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 1 "}} </s>|<s> <sys> movie Movie 1 is a good choice . What else can I do? </s>|<s> <usr> movie No more questions . See you . </s>
movie:: True: <sys> movie See you next time. ||| Pred: <sys> movie {" QUERY ": {"# food_pref ": " Romance ", "# loc ": " 90s "}, " GOALS ": ["# price "]}
[[Attention: <sys>(0.6335101127624512) movie(0.432017058134079) QUERY(0.15925686061382294) ":(0.5267691016197205) {"#(0.6489689946174622) ":(0.545773446559906) "(0.9069840312004089) Romance(0.42029815912246704) ",(0.42989593744277954) ":(0.4430708885192871) "(0.876899003982544) 90s(0.24765075743198395) "(0.6967652440071106) ":(0.435362845659256) </s>(0.35587939620018005)]]
-
Source: ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# default ": " 106 "}} </s>|<s> <sys> movie Movie 106 is a good choice . Anything else? </s>|<s> <usr> movie I have all uhm I need . See you . </s>
movie:: True: <sys> movie See you next time. ||| Pred: <sys> movie {" QUERY ": {"# food_pref ": " Music ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.4491809010505676) movie(0.28371819853782654) ":(0.2933419644832611) {"#(0.37208130955696106) ":(0.48299896717071533) "(0.7501197457313538) Music(0.29042699933052063) ",(0.1090487614274025) ":(0.3068818151950836) "(0.7030720114707947) "(0.4871077835559845) ":(0.24150237441062927) </s>(0.31024008989334106)]]
-
Source: rs ": " dont_care ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 142 "}} </s>|<s> <sys> movie Movie 142 is a good choice . Anything else? </s>|<s> <usr> movie No more questions . See you . </s>
movie:: True: <sys> movie See you next time. ||| Pred: <sys> movie {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# price "]}
[[Attention: <sys>(0.7782694697380066) movie(0.2389918714761734) ":(0.2892000079154968) {"#(0.3603617250919342) ":(0.4890283942222595) "(0.5744706988334656) dont_care(0.9377363920211792) ",(0.1764780879020691) ":(0.30457010865211487) "(0.5062709450721741) dont_care(0.3373589813709259) "(0.3777293860912323) ":(0.2616850733757019) </s>(0.3179236054420471)]]
-
Source: 2010 - present </s>|<s> <usr> movie {" RET ": {"# default ": " 188 "}} </s>|<s> <sys> movie Movie 188 is a good choice . What else can I do? </s>|<s> <usr> movie No more questions . That' s all . </s>
movie:: True: <sys> movie Goodbye. ||| Pred: <sys> movie {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# price "]}
[[Attention: <sys>(0.8200955986976624) movie(0.23864419758319855) ":(0.2895716726779938) {"#(0.37894731760025024) ":(0.5133669376373291) "(0.6646379828453064) dont_care(0.6960788369178772) ",(0.21904870867729187) ":(0.3643014430999756) "(0.655472993850708) dont_care(0.1003255546092987) "(0.510728120803833) ":(0.3005901277065277) </s>(0.3537548780441284)]]
-
Source:  ": " Family ", "# years ": " 70s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 4 "}} </s>|<s> <sys> movie The rating is 4 . What else can I do? </s>|<s> <usr> movie All good . Thank you . </s>
movie:: True: <sys> movie See you next time. ||| Pred: <sys> movie {" QUERY ": {"# food_pref ": " Family ", "# loc ": " Universal "}, " GOALS ": ["# price "]}
[[Attention: <sys>(0.8412860631942749) movie(0.1976761370897293) ":(0.2960103750228882) {"#(0.4196969270706177) ":(0.5154568552970886) "(0.6380051374435425) Family(0.36573025584220886) ",(0.11384883522987366) ":(0.32226207852363586) "(0.5852161049842834) Universal(0.31794601678848267) "(0.4061685800552368) ":(0.28442224860191345) </s>(0.35760563611984253)]]
-
Source: # genre ": " Action ", "# years ": " 90s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 3 "}} </s>|<s> <sys> movie The rating is 3 . Anything else? </s>|<s> <usr> movie All good . See you . </s>
movie:: True: <sys> movie Goodbye. ||| Pred: <sys> movie {" QUERY ": {"# food_pref ": " Action ", "# loc ": " dont_care "}, " GOALS ": ["# price "]}
[[Attention: <sys>(0.44499075412750244) movie(0.3527365028858185) ":(0.3872778117656708) {"#(0.4575297236442566) ":(0.63728928565979) "(0.707050085067749) Action(0.2594900131225586) ",(0.20586642622947693) ":(0.43529438972473145) "(0.7316750884056091) "(0.5507797598838806) ":(0.3670240044593811) </s>(0.34285980463027954)]]
-
Source: nt </s>|<s> <usr> movie {" RET ": {"# company ": " Universal "}} </s>|<s> <sys> movie It' s made by Universal . Are you happy about my answer? </s>|<s> <usr> movie No more questions . Thank you . </s>
movie:: True: <sys> movie Goodbye. ||| Pred: <sys> movie {" QUERY ": {"# food_pref ": " Family ", "# loc ": " Family "}, " GOALS ": ["# price "]}
[[Attention: <sys>(0.3615821897983551) movie(0.15975609421730042) ":(0.3287125825881958) {"#(0.3555535674095154) ":(0.6518334150314331) "(0.696540892124176) Family(0.43575337529182434) ":(0.48515868186950684) "(0.7465425729751587) Family(0.4589877426624298) "(0.5329691171646118) ":(0.3663552701473236) </s>(0.4463643729686737)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.375300 recall 0.566004 and f1 0.451334
Intent precision 0.776098 recall 0.679269 and f1 0.724462
KB precision 0.937028 recall 0.545855 and f1 0.689847
BLEU 0.336464 BEAK 0.524869

request: 0.3577566968570332
inform: 0.4716912797921028
query: 0.30418303674047775
implicit_confirm: 0.16730154556687715
explicit_confirm: 0.156474748539989
goodbye: 0.0022542686745416784
greet: 0.12320985269620943

Generation Done
Update patience to 10
Model Saved.

**** Epcoch 1/100 ****
200/1000-(0.000): Train nll 0.203 PPL 1.225 attn_loss 0.894 distance 0.230 distance_semantic 0.369 loss_pack_warm 1.822 distance1 0.042
400/1000-(0.000): Train nll 0.130 PPL 1.139 attn_loss 0.564 distance 0.203 distance_semantic 0.307 loss_pack_warm 1.906 distance1 0.022
600/1000-(0.000): Train nll 0.174 PPL 1.190 attn_loss 0.400 distance 0.195 distance_semantic 0.222 loss_pack_warm 1.891 distance1 0.018
800/1000-(0.000): Train nll 0.133 PPL 1.142 attn_loss 0.399 distance 0.260 distance_semantic 0.192 loss_pack_warm 1.675 distance1 0.039
0/1000-(0.000): Train nll 0.113 PPL 1.119 attn_loss 0.300 distance 0.225 distance_semantic 0.162 loss_pack_warm 1.742 distance1 0.019

=== Evaluating Model ===
Train nll 0.150 PPL 1.162 attn_loss 0.511 distance 0.223 distance_semantic 0.250 loss_pack_warm 1.807 distance1 0.028
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.233 PPL 1.262 attn_loss 0.301 distance 0.202 distance_semantic 0.175 loss_pack_warm 0.175 distance1 0.175
Total valid loss 0.270552396774292
Generation: 50 batches
Source:  - 2010 Uhm sorry, Movies in 90s </s>|<s> <sys> movie I believe you said 90s . Do you mean Germany? </s>|<s> <usr> movie Yep . </s>|<s> <sys> movie Do you mean Germany? </s>|<s> <usr> movie Yep . </s>
movie:: True: <sys> movie I believe you said Germany . {" QUERY ": {"# genre ": " Drama ", "# years ": " 90s ", "# country ": " Germany "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie I believe you said Germany . {" QUERY ": {"# food_pref ": " Germany ", "# loc ": " 90s "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.4192575514316559) movie(0.5540598630905151) I(0.11797172576189041) believe(0.37984299659729004) you(0.31528720259666443) said(0.5410428643226624) Germany(0.5895801186561584) .(0.4360251724720001) 90s(0.3462527394294739) 90s(0.8870558738708496) </s>(0.2273210883140564)]]
-
Source: y, I love Action ones . </s>|<s> <sys> movie I believe you said Action . I believe you said Japan . {" QUERY ": {"# </s>|<s> <usr> movie No . I love Drama ones . Nope . {" RET ": {"# default ": " </s>
movie:: True: <sys> movie Movie 22 is a good choice . Are you happy about my answer? ||| Pred: <sys> restaurant Restaurant 48 is a good choice . Are you happy about my answer?
[[Attention: <sys>(0.48406916856765747) is(0.7592960596084595) a(0.9968296885490417) good(0.9729669690132141) choice(0.9723027348518372) .(0.8966159820556641) you(0.2635565996170044) ?(0.6186218857765198) </s>(0.446026474237442)]]
-
Source: ssia . Do you mean Family? </s>|<s> <usr> movie Uh - huh . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 80s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 83 "}} </s>
movie:: True: <sys> movie Movie 83 is a good choice . Anything else? ||| Pred: <sys> movie Restaurant 83 is a good choice . Are you happy about my answer?
[[Attention: <sys>(0.7704837322235107) movie(0.6092078685760498) 83(0.9999896287918091) a(0.9332058429718018) .(0.5739161372184753) you(0.4984820783138275) ?(0.6481397747993469) </s>(0.37519994378089905)]]
-
Source: 2000 - 2010 . Oh sorry, In 80s . </s>|<s> <sys> movie I believe you said 80s . {" QUERY ": {"# genre ": " Family ", "# </s>|<s> <usr> movie Yes . In 90s . {" RET ": hmm...{"# default ": " 191 "}} </s>
movie:: True: <sys> movie Movie 191 is a good choice . What else can I do? ||| Pred: <sys> movie Movie 191 is a good choice . Are you happy about my answer?
[[Attention: <sys>(0.6371870040893555) movie(0.32433825731277466) 191(0.9191713929176331) is(0.8365560173988342) a(0.955023467540741) good(0.9632705450057983) choice(0.9831379652023315) .(0.8010023236274719) you(0.20920097827911377) ?(0.47674500942230225) </s>(0.3716212809085846)]]
-
Source: don' t care . </s>|<s> <sys> movie Okay, you dont_care . Do you mean 2010 - present? </s>|<s> <usr> movie Nope . Nay . </s>|<s> <sys> movie Do you mean 2010 - present? </s>|<s> <usr> movie Nope . </s>
movie:: True: <sys> movie Movie in what years? ||| Pred: <sys> movie Do you mean 2010?
[[Attention: <sys>(0.5052512884140015) movie(0.7422418594360352) you(0.27082881331443787) 2010(0.4435570240020752) ?(0.3025875985622406) </s>(0.2595601975917816)]]
-
Source: {" QUERY ": {"# genre </s>|<s> <usr> movie Nay . hmm Japan . {" RET ": {"# default ": " 157 "}} </s>|<s> <sys> movie Movie 157 is a good choice . Anything else? </s>|<s> <usr> movie Movies in 70s </s>
movie:: True: <sys> movie I believe you said 70s . {" QUERY ": {"# genre ": " Family ", "# years ": " 70s ", "# country ": " Japan "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie I believe you said 70s . {" QUERY ": {"# food_pref ": " Family ", "# loc ": " 2000 "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.6034078001976013) movie(0.25879597663879395) believe(0.3434748649597168) you(0.39763855934143066) said(0.38612762093544006) 70s(0.40745213627815247) .(0.23577633500099182) {"(0.2807312309741974) QUERY(0.9702334403991699) ":(0.98954176902771) {"#(0.9492709040641785) ":(0.9864398837089539) "(0.7176446318626404) Family(0.38091880083084106) ":(0.9924412965774536) "(0.7850121855735779) 2000(0.4800756573677063) "(0.6118735074996948) ":(0.9873843193054199) default(0.7072117924690247) </s>(0.4862664043903351)]]
-
Source: <s> <usr> movie Wrong . From France . </s>|<s> <sys> movie I believe you said France . Do you mean 90s? </s>|<s> <usr> movie Yeah . </s>|<s> <sys> movie Do you mean 90s? </s>|<s> <usr> movie No . </s>
movie:: True: <sys> movie Movie in what years? ||| Pred: <sys> movie Do you mean 90s?
[[Attention: <sys>(0.4529688358306885) movie(0.8437387943267822) you(0.19278721511363983) mean(0.13474997878074646) 90s(0.22957941889762878) ?(0.27714046835899353) </s>(0.2951115071773529)]]
-
Source: > <sys> movie I believe you said Family . Do you mean Mexico? </s>|<s> <usr> movie That' s wrong . </s>|<s> <sys> movie Movie from what country? </s>|<s> <usr> movie I don' t care . Movies in 60s </s>
movie:: True: <sys> movie I believe you said 60s . Okay, you dont_care . {" QUERY ": {"# genre ": " Family ", "# years ": " 60s ", "# country ": " dont_care "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# food_pref ": " 60s ", "# loc ": " Family "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.6039422750473022) movie(0.6833187341690063) 60s(0.9340486526489258) Family(0.43918097019195557) </s>(0.2868046164512634)]]
-
Source: r> movie Japan . </s>|<s> <sys> movie I believe you said Japan . {" QUERY ": {"# genre ": " Family ", "# </s>|<s> <usr> movie Nope . Thailand . uhm yeah Nope . Thailand . {" RET ": {"# default ": </s>
movie:: True: <sys> movie Movie 87 is a good choice . Are you happy about my answer? ||| Pred: <sys> restaurant Restaurant 48 is a good choice . Are you happy about my answer?
[[Attention: <sys>(0.6438912153244019) is(0.6626232862472534) a(0.9804849028587341) good(0.9566082954406738) choice(0.9671101570129395) .(0.6912921071052551) you(0.2766261100769043) ?(0.3609517812728882) </s>(0.4069874882698059)]]
-
Source: usr> movie Music . </s>|<s> <sys> movie I believe you said Music . {" QUERY ": {"# genre ": " Music ", "# </s>|<s> <usr> movie That' s wrong . I like Documentary movies . {" RET ": {"# default ": </s>
movie:: True: <sys> movie Movie 87 is a good choice . Are you happy about my answer? ||| Pred: <sys> restaurant Restaurant 48 is a good choice . Are you happy about my answer?
[[Attention: <sys>(0.5427801012992859) .(0.3453601002693176) you(0.4490795433521271) ?(0.45120856165885925) </s>(0.368015855550766)]]
-
Source: usr> movie Yeah . That' s wrong . </s>|<s> <sys> movie You dont_care, right? </s>|<s> <usr> movie That' s wrong . </s>|<s> <sys> movie Okay, you dont_care, do you? </s>|<s> <usr> movie Uh - huh . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Romance ", "# years ": " 80s ", "# country ": " dont_care "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie I believe you said dont_care . {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.6163464784622192) movie(0.6815865635871887) I(0.12627804279327393) believe(0.5229790210723877) you(0.38135451078414917) said(0.3980723023414612) dont_care(0.36124730110168457) .(0.28132447600364685) dont_care(0.47634127736091614) dont_care(0.2777669429779053) </s>(0.28314444422721863)]]
-
Source: . {" QUERY ": {"# genre ": " Documentary ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 27 "}} </s>|<s> <sys> movie Movie 27 is a good choice . Anything else? </s>|<s> <usr> movie In 60s . </s>
movie:: True: <sys> movie I believe you said 60s . {" QUERY ": {"# genre ": " Documentary ", "# years ": " 60s ", "# country ": " USA "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie I believe you said 60s . {" QUERY ": {"# food_pref ": " 60s ", "# loc ": " 60s "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.8403152227401733) movie(0.45923325419425964) believe(0.3407615125179291) you(0.34801122546195984) said(0.43492451310157776) 60s(0.9875182509422302) .(0.3627058267593384) {"(0.20427174866199493) QUERY(0.9689197540283203) ":(0.903153121471405) {"#(0.9856306910514832) genre(0.47477400302886963) ":(0.5864939093589783) "(0.9922951459884644) 60s(0.9712319374084473) ",(0.9190041422843933) "#(0.9768906831741333) ":(0.6709585785865784) "(0.977603018283844) 60s(0.5137490034103394) "(0.987647533416748) ":(0.8164095878601074) default(0.6870133876800537) </s>(0.5268928408622742)]]
-
Source: from what country? </s>|<s> <usr> movie From Russia . </s>|<s> <sys> movie Do you mean 60s? </s>|<s> <usr> movie Yep . </s>|<s> <sys> movie Do you mean 60s? </s>|<s> <usr> movie That' s correct . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 60s ", "# country ": " Russia "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie I believe you said 60s . {" QUERY ": {"# food_pref ": " 60s ", "# loc ": " Russia "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.41496914625167847) movie(0.4550996422767639) believe(0.8668878078460693) you(0.439205527305603) said(0.9313064813613892) 60s(0.7416441440582275) .(0.37368035316467285) 60s(0.5997021794319153) Russia(0.7006041407585144) </s>(0.21249262988567352)]]
-
Source: ET ": {"# default ": " 134 "}} </s>|<s> <sys> movie Movie 134 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie I uhm yeah I like Horror movies . Oh sorry, Whatever is good . </s>
movie:: True: <sys> movie I believe you said Sport . {" QUERY ": {"# genre ": " Sport ", "# years ": " 90s ", "# country ": " Korea "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# food_pref ": " Sport ", "# loc ": " Korea "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.7522479891777039) movie(0.29821711778640747) QUERY(0.950722873210907) ":(0.8713424205780029) {"#(0.9855067729949951) genre(0.4078710675239563) ":(0.5110199451446533) "(0.9848545789718628) Sport(0.7894470691680908) ",(0.942337155342102) "#(0.9837212562561035) ":(0.5633351802825928) "(0.9630991220474243) Korea(0.47610390186309814) "(0.9878262877464294) ":(0.7471485137939453) </s>(0.3737216889858246)]]
-
Source: > <usr> movie No . </s>|<s> <sys> movie Do you mean 70s? </s>|<s> <usr> movie Nope . </s>|<s> <sys> movie Movie in what years? </s>|<s> <usr> movie Movies in 2010 - present Oh sorry, hmm In 70s . </s>
movie:: True: <sys> movie I believe you said 70s . Do you mean Germany? ||| Pred: <sys> movie I believe you said 70s . {" QUERY ": {"# food_pref ": " 70s ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.45771336555480957) movie(0.4639507830142975) I(0.1256844699382782) believe(0.8758438229560852) you(0.5135161280632019) said(0.9198462963104248) 70s(0.7626968026161194) .(0.3581930696964264) 70s(0.6702499985694885) Fantasy(0.1220325455069542) </s>(0.31340110301971436)]]
-
Source: > <usr> movie In 2010 - present . From France . </s>|<s> <sys> movie I believe you said 2010 - present . I believe you said France . {" QUERY </s>|<s> <usr> movie {" RET ": {"# default ": " 8 "}} </s>
movie:: True: <sys> movie Movie 8 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie Movie 8 is a good choice . Are you happy about my answer?
[[Attention: <sys>(0.4000653922557831) movie(0.5949620008468628) 8(0.9982696771621704) a(0.8777005672454834) .(0.4411138892173767) you(0.38906028866767883) ?(0.6019772887229919) </s>(0.382982075214386)]]
-
Source: Do you mean War? </s>|<s> <usr> movie Wrong . </s>|<s> <sys> movie Do you mean War? </s>|<s> <usr> movie Nope . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie Documentary movies . </s>
movie:: True: <sys> movie I believe you said Documentary . Do you mean 80s? ||| Pred: <sys> movie I believe you said War . {" QUERY ": {"# food_pref ": " War ", "# loc ": " Russia "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.36499571800231934) movie(0.6973791122436523) you(0.3737817704677582) War(0.35328927636146545) .(0.41619154810905457) War(0.3398706912994385) Russia(0.501130998134613) </s>(0.3040049374103546)]]
-
Source: 127 is a good choice . Anything else? </s>|<s> <usr> movie Not done yet . How people rate hmm...this movie? </s>|<s> <sys> movie What do you need? </s>|<s> <usr> movie How people rate this movie? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " dont_care ", "# country ": " France "}, " GOALS ": ["# rating "]} ||| Pred: <sys> restaurant {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.7147269248962402) movie(0.16037660837173462) QUERY(0.9788317680358887) ":(0.8867462277412415) {"#(0.9869385957717896) genre(0.23031029105186462) ":(0.6118355393409729) "(0.985808789730072) dont_care(0.8501988649368286) ",(0.8187209367752075) "#(0.4456002712249756) ":(0.5201522707939148) "(0.972453773021698) dont_care(0.3560739755630493) "(0.9918388724327087) ":(0.690161943435669) default(0.17131119966506958) </s>(0.41794827580451965)]]
-
Source: <s> <sys> movie I believe you said Mexico . Do you mean Sci - Fi? </s>|<s> <usr> movie Wrong . Russia . Nay . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I like Family movies . </s>
movie:: True: <sys> movie I believe you said Family . {" QUERY ": {"# genre ": " Family ", "# years ": " 60s ", "# country ": " Russia "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie I believe you said Russia . {" QUERY ": {"# food_pref ": " Russia ", "# loc ": " Russia "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.4417177140712738) movie(0.9358105063438416) I(0.15718206763267517) believe(0.4953811466693878) you(0.45160529017448425) said(0.5175904035568237) Russia(0.555408239364624) .(0.4343571364879608) Russia(0.5658031105995178) Russia(0.9170657992362976) </s>(0.37136194109916687)]]
-
Source: ic? </s>|<s> <usr> movie Yeah . </s>|<s> <sys> movie Do you mean France? </s>|<s> <usr> movie That' s wrong . </s>|<s> <sys> movie Movie from what country? </s>|<s> <usr> movie Anything is fine . </s>
movie:: True: <sys> movie Okay, you dont_care . {" QUERY ": {"# genre ": " Music ", "# years ": " 90s ", "# country ": " dont_care "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie I believe you said 90s . {" QUERY ": {"# food_pref ": " 90s ", "# loc ": " 90s "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.7116108536720276) movie(0.39780062437057495) believe(0.8868849277496338) you(0.5227491855621338) said(0.9280315637588501) 90s(0.46425753831863403) .(0.333462119102478) 90s(0.4317684471607208) 90s(0.5587092041969299) </s>(0.30422526597976685)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.461426 recall 0.640404 and f1 0.536379
Intent precision 0.814165 recall 0.865508 and f1 0.839052
KB precision 0.924103 recall 0.698991 and f1 0.795936
BLEU 0.437314 BEAK 0.629119

query: 0.4836645462325252
implicit_confirm: 0.4130799983256008
request: 0.336707502375995
inform: 0.5708044949932044
explicit_confirm: 0.20907894498787688
goodbye: 0.11686046348163033
greet: 0.13693314719456454

Generation Done
Update patience to 10
Model Saved.

**** Epcoch 2/100 ****
200/1000-(0.000): Train nll 0.144 PPL 1.154 attn_loss 0.321 distance 0.220 distance_semantic 0.125 loss_pack_warm 1.545 distance1 0.024
400/1000-(0.000): Train nll 0.105 PPL 1.111 attn_loss 0.242 distance 0.220 distance_semantic 0.114 loss_pack_warm 1.637 distance1 0.017
600/1000-(0.000): Train nll 0.108 PPL 1.114 attn_loss 0.248 distance 0.214 distance_semantic 0.096 loss_pack_warm 1.709 distance1 0.017
800/1000-(0.000): Train nll 0.136 PPL 1.145 attn_loss 0.256 distance 0.219 distance_semantic 0.071 loss_pack_warm 1.451 distance1 0.023
0/1000-(0.000): Train nll 0.100 PPL 1.105 attn_loss 0.208 distance 0.217 distance_semantic 0.068 loss_pack_warm 1.598 distance1 0.017

=== Evaluating Model ===
Train nll 0.118 PPL 1.126 attn_loss 0.255 distance 0.218 distance_semantic 0.095 loss_pack_warm 1.588 distance1 0.020
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.171 PPL 1.186 attn_loss 0.190 distance 0.208 distance_semantic 0.175 loss_pack_warm 0.175 distance1 0.175
Total valid loss 0.2076825499534607
Generation: 50 batches
Source: . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie Western . </s>|<s> <sys> movie I believe you said Western . What' s the time period? </s>|<s> <usr> movie Movies in 2010 - present </s>
movie:: True: <sys> movie I believe you said 2010 - present . Which country' s movie? ||| Pred: <sys> movie Do you mean 2010?
[[Attention: <sys>(0.9886549711227417) movie(0.30753642320632935) you(0.5726690292358398) 2010(0.6880401968955994) ?(0.8565747737884521) </s>(0.7005987763404846)]]
-
Source: ch now </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I love Fantasy ones . </s>|<s> <sys> movie I believe you said Fantasy . Movie in what years? </s>|<s> <usr> movie In 70s . </s>
movie:: True: <sys> movie Movie from what country? ||| Pred: <sys> movie I believe you said 70s . {" QUERY ": {"# food_pref ": " Fantasy ", "# loc ": " 70s ", "# country ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9723339676856995) movie(0.30288374423980713) believe(0.9558765292167664) you(0.9253132939338684) said(0.9146428108215332) 70s(0.5387799739837646) .(0.578667938709259) Fantasy(0.8130966424942017) 70s(0.28843221068382263) </s>(0.44453832507133484)]]
-
Source: e Hello robot . What should I watch now </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Family . </s>|<s> <sys> movie What' s the time period? </s>|<s> <usr> movie Movies in 60s </s>
movie:: True: <sys> movie I believe you said 60s . Which country' s movie? ||| Pred: <sys> movie What type of movie?
[[Attention: <sys>(0.9805579781532288) movie(0.41079896688461304) movie(0.5660155415534973) ?(0.8088555932044983) </s>(0.6033913493156433)]]
-
Source: ke? </s>|<s> <usr> movie I love Drama ones . </s>|<s> <sys> movie I believe you said Drama . What' s the time period? </s>|<s> <usr> movie Uh - huh . Crime . uhm yeah Uh - huh . Crime . Movies in </s>
movie:: True: <sys> movie I believe you said Drama . I believe you said 90s . Which country' s movie? ||| Pred: <sys> movie Do you mean Russian?
[[Attention: <sys>(0.9696713089942932) movie(0.4807310700416565) you(0.4259311258792877) ?(0.7083288431167603) </s>(0.7114639282226562)]]
-
Source: e . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Action ones . From USA . Uhm sorry, France . </s>|<s> <sys> movie Movie in what years? </s>|<s> <usr> movie Movies in 80s </s>
movie:: True: <sys> movie I believe you said 80s . Do you mean Action? ||| Pred: <sys> movie Alright, dont_care . Do you mean Action?
[[Attention: <sys>(0.9840829968452454) movie(0.2757880389690399) .(0.6036326289176941) you(0.9993565678596497) Action(0.7459794878959656) ?(0.7584177851676941) </s>(0.7351973056793213)]]
-
Source: d suggestions about movies . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I love Family ones . </s>|<s> <sys> movie Movie in what years? </s>|<s> <usr> movie In 2000 - 2010 . </s>
movie:: True: <sys> movie I believe you said 2000 - 2010 . Movie from what country? ||| Pred: <sys> movie Do you mean 2000 -?
[[Attention: <sys>(0.9642177820205688) movie(0.5888030529022217) you(0.6582861542701721) 2000(0.9351017475128174) -(0.9290876388549805) ?(0.4562813341617584) </s>(0.6503136157989502)]]
-
Source: es . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I like Drama movies . </s>|<s> <sys> movie I believe you said Drama . What' s the time period? </s>|<s> <usr> movie In 70s . </s>
movie:: True: <sys> movie I believe you said 70s . Movie from what country? ||| Pred: <sys> movie Do you mean 70s?
[[Attention: <sys>(0.9804596900939941) movie(0.6159960031509399) you(0.4039769768714905) 70s(0.9225448369979858) ?(0.7673038840293884) </s>(0.6645704507827759)]]
-
Source:  I love Action ones . Oh no, I like Drama movies . </s>|<s> <sys> movie I believe you said Drama . Movie in what years? </s>|<s> <usr> movie I don' t care . Uhm sorry, Movies in 90s From Russia . </s>
movie:: True: <sys> movie I believe you said 90s . I believe you said Russia . {" QUERY ": {"# genre ": " Drama ", "# years ": " 90s ", "# country ": " Russia "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie I believe you said Russia . {" QUERY ": {"# food_pref ": " Russia ", "# loc ": " Russia "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9818364977836609) movie(0.24579238891601562) believe(0.9453014731407166) you(0.9016551375389099) said(0.8776391744613647) Russia(0.3697059452533722) .(0.7135122418403625) Russia(0.5699414014816284) Russia(0.4878413677215576) </s>(0.42226362228393555)]]
-
Source: rry, I like Drama movies . Whatever </s>|<s> <sys> movie I believe you said Drama . I believe you said Korea . Movie in what years </s>|<s> <usr> movie Yes . Movies in 70s Oh sorry, Movies in 60s </s>
movie:: True: <sys> movie Do you mean 60s? ||| Pred: <sys> movie Movie is a good choice . What else can I do?
[[Attention: <sys>(0.9612239599227905) .(0.9460006952285767) can(0.9174925684928894) I(0.9801674485206604) do(0.970446765422821) ?(0.9464246034622192) </s>(0.7132747173309326)]]
-
Source: ovie What genre do you like? </s>|<s> <usr> movie I love Family ones . </s>|<s> <sys> movie I believe you said Family . What' s the time period? </s>|<s> <usr> movie In 80s . Movie hmm...from USA </s>
movie:: True: <sys> movie Do you mean 80s? ||| Pred: <sys> movie I believe you said 80s . {" QUERY ": {"# food_pref ": " Chinese ", "# loc ": " 80s "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9807573556900024) movie(0.3772403597831726) believe(0.9567374587059021) you(0.8224458694458008) said(0.906066358089447) 80s(0.9668372869491577) .(0.4362742602825165) 80s(0.7992236018180847) </s>(0.489159494638443)]]
-
Source: ou like? </s>|<s> <usr> movie I love Fantasy ones . </s>|<s> <sys> movie I believe you said Fantasy . Movie in what years? </s>|<s> <usr> movie Nope . Movies in 2000 - 2010 Oh no, I don' t care . </s>
movie:: True: <sys> movie Okay, you dont_care . Which country' s movie? ||| Pred: <sys> movie Alright, dont_care . {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9868603348731995) movie(0.11773185431957245) .(0.2425101101398468) Fantasy(0.18400253355503082) </s>(0.4034062922000885)]]
-
Source: s> movie Which type of movie? </s>|<s> <usr> movie I love Sport ones . </s>|<s> <sys> movie I believe you said Sport . What' s the time period? </s>|<s> <usr> movie Nay . Movies in 2010 - present </s>
movie:: True: <sys> movie I believe you said Sport . Movie from what country? ||| Pred: <sys> movie Do you mean Sport?
[[Attention: <sys>(0.9849554896354675) movie(0.4235331118106842) you(0.5318905711174011) Sport(0.5523453950881958) ?(0.8400976061820984) </s>(0.7480357885360718)]]
-
Source:  good uhm suggestions about movies . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Drama ones . </s>|<s> <sys> movie What' s the time period? </s>|<s> <usr> movie In 70s . </s>
movie:: True: <sys> movie Which country' s movie? ||| Pred: <sys> movie Do you mean 70s?
[[Attention: <sys>(0.9828152060508728) movie(0.5261639952659607) you(0.9962345957756042) 70s(0.9217686057090759) ?(0.8399441838264465) </s>(0.7447507381439209)]]
-
Source:  . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie Action . Oh no, I love hmm...Crime ones . </s>|<s> <sys> movie Movie in what years? </s>|<s> <usr> movie Movies in 2010 - present </s>
movie:: True: <sys> movie Which country' s movie? ||| Pred: <sys> movie Do you mean 2010?
[[Attention: <sys>(0.9716758728027344) movie(0.5285838842391968) you(0.9958286881446838) 2010(0.8269245624542236) ?(0.711324155330658) </s>(0.7084283232688904)]]
-
Source:  Recommend a movie . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Action . Movies in 60s </s>|<s> <sys> movie Movie from what country? </s>|<s> <usr> movie Movie from Germany </s>
movie:: True: <sys> movie Do you mean Action? ||| Pred: <sys> movie What type of movie?
[[Attention: <sys>(0.9551783204078674) movie(0.4135341942310333) movie(0.4229802191257477) ?(0.7339519262313843) </s>(0.5350464582443237)]]
-
Source: e Which type of movie? </s>|<s> <usr> movie I like Drama movies . </s>|<s> <sys> movie What' s the time period? </s>|<s> <usr> movie In 2010 - present . Oh no, In 60s . Romance movies . Uhm sorry </s>
movie:: True: <sys> movie I believe you said War . I believe you said 60s . Which country' s movie? ||| Pred: <sys> movie Do you mean 60s?
[[Attention: <sys>(0.974090576171875) movie(0.7599050402641296) you(0.9805553555488586) 60s(0.9534083008766174) ?(0.9113378524780273) </s>(0.8463079929351807)]]
-
Source: , I like Crime movies . In 60s . Uhm hmm </s>|<s> <sys> movie I believe you said Crime . I believe you said 2010 - present . Which country </s>|<s> <usr> movie Nope . France . In 2010 - present . </s>
movie:: True: <sys> movie I believe you said Crime . {" QUERY ": {"# genre ": " Crime ", "# years ": " 2010 - present ", "# country ": " France "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie Movie from is a good choice . Anything else?
[[Attention: <sys>(0.9655693769454956) movie(0.14871534705162048) .(0.8648973107337952) ?(0.9709721207618713) </s>(0.7949184775352478)]]
-
Source: t . What should I watch now </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie Family movies . </s>|<s> <sys> movie What' s the time period? </s>|<s> <usr> movie Movies in 2000 - 2010 </s>
movie:: True: <sys> movie I believe you said 2000 - 2010 . Which country' s movie? ||| Pred: <sys> movie Do you mean 2000 -?
[[Attention: <sys>(0.9787519574165344) movie(0.5022822022438049) 2000(0.9171460866928101) -(0.8573183417320251) ?(0.4429229497909546) </s>(0.7912830114364624)]]
-
Source: sys> movie Which type of movie? </s>|<s> <usr> movie I love Action ones . Oh sorry, I like War movies . </s>|<s> <sys> movie What' s the time period? </s>|<s> <usr> movie Movies in 2010 - present </s>
movie:: True: <sys> movie I believe you said 2010 - present . Which country' s movie? ||| Pred: <sys> movie Do you mean 2010?
[[Attention: <sys>(0.9784359335899353) movie(0.498534232378006) you(0.9948552846908569) 2010(0.5484229922294617) ?(0.8090602159500122) </s>(0.7673836350440979)]]
-
Source: watch now </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I like Family movies . </s>|<s> <sys> movie I believe you said Family . Movie in what years? </s>|<s> <usr> movie In 80s . </s>
movie:: True: <sys> movie Movie from what country? ||| Pred: <sys> movie I believe you said 80s . {" QUERY ": {"# food_pref ": " Chinese ", "# loc ": " 80s "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9805622696876526) movie(0.2573724687099457) believe(0.9450495839118958) you(0.9992269277572632) said(0.9129417538642883) 80s(0.8738695979118347) .(0.47540318965911865) 80s(0.6677848696708679) </s>(0.5902364253997803)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.470672 recall 0.602564 and f1 0.528514
Intent precision 0.808421 recall 0.735632 and f1 0.770311
KB precision 0.921478 recall 0.570000 and f1 0.704325
BLEU 0.428465 BEAK 0.592042

request: 0.47225719955146295
implicit_confirm: 0.2540726392678858
explicit_confirm: 0.0936329721813044
query: 0.38034174963365
inform: 0.6510880137827575
goodbye: 0.6258542730547
greet: 0.28792844889992164

Generation Done
Update patience to 10
Model Saved.

**** Epcoch 3/100 ****
200/1000-(0.000): Train nll 0.119 PPL 1.127 attn_loss 0.219 distance 0.210 distance_semantic 0.054 loss_pack_warm 1.481 distance1 0.020
400/1000-(0.000): Train nll 0.095 PPL 1.099 attn_loss 0.231 distance 0.206 distance_semantic 0.050 loss_pack_warm 1.407 distance1 0.017
600/1000-(0.000): Train nll 0.098 PPL 1.103 attn_loss 0.220 distance 0.216 distance_semantic 0.044 loss_pack_warm 1.470 distance1 0.018
800/1000-(0.000): Train nll 0.112 PPL 1.119 attn_loss 0.207 distance 0.219 distance_semantic 0.036 loss_pack_warm 1.347 distance1 0.022
0/1000-(0.000): Train nll 0.091 PPL 1.095 attn_loss 0.182 distance 0.223 distance_semantic 0.032 loss_pack_warm 1.484 distance1 0.018

=== Evaluating Model ===
Train nll 0.103 PPL 1.109 attn_loss 0.212 distance 0.215 distance_semantic 0.043 loss_pack_warm 1.438 distance1 0.019
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.156 PPL 1.169 attn_loss 0.203 distance 0.202 distance_semantic 0.169 loss_pack_warm 0.169 distance1 0.169
Total valid loss 0.19224990904331207
Generation: 50 batches
Source: <sys> movie Want to know about movies? How can I help? </s>|<s> <usr> movie What' s up? Recommend a movie . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I like Crime movies . </s>
movie:: True: <sys> movie I believe you said Crime . What' s the time period? ||| Pred: <sys> restaurant I believe you said
[[Attention: <sys>(0.9986281394958496) you(0.9870763421058655)]]
-
Source: /s>|<s> <sys> movie Want to know about movies? What do you need? </s>|<s> <usr> movie Hi . Recommend a movie . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I like Sport movies . </s>
movie:: True: <sys> movie Movie in what years? ||| Pred: <sys> restaurant I believe you said Sport . What type of movie?
[[Attention: <sys>(0.99657142162323) you(0.9867345094680786) Sport(0.9636668562889099) .(0.7671319246292114) movie(0.7879156470298767) ?(0.7681169509887695) </s>(0.6062391996383667)]]
-
Source: <s> <sys> movie Want to know about movies? What do you need? </s>|<s> <usr> movie Hi . What should I watch now </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Anything is fine . </s>
movie:: True: <sys> movie Okay, you dont_care . What' s the time period? ||| Pred: <sys> restaurant Alright, dont_care . What type of restaurant?
[[Attention: <sys>(0.9986212253570557) .(0.6906077861785889) What(0.10603354871273041) movie(0.40620046854019165) ?(0.8039194941520691) </s>(0.5755020976066589)]]
-
Source: t movies? What do you need? </s>|<s> <usr> movie Hello robot . Give me uhm some good suggestions about movies . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Action ones . </s>
movie:: True: <sys> movie I believe you said Action . What' s the time period? ||| Pred: <sys> restaurant I believe you said Action . What type of restaurant?
[[Attention: <sys>(0.9974085688591003) you(0.9813439846038818) Action(0.8718955516815186) .(0.9174734354019165) What(0.2602797746658325) movie(0.343826025724411) ?(0.8312039375305176) </s>(0.6454735398292542)]]
-
Source: >|<s> <sys> movie Want to know about movies? What do you need? </s>|<s> <usr> movie Hello robot . What should I watch now </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Crime . </s>
movie:: True: <sys> movie I believe you said Crime . What' s the time period? ||| Pred: <sys> restaurant I believe you said
[[Attention: <sys>(0.998842179775238) you(0.659267008304596) movie(0.11218825727701187)]]
-
Source: What can I do for you? </s>|<s> <usr> movie What' s up? Recommend a movie . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I like Action movies . uhm Oh no, I love Sport ones . </s>
movie:: True: <sys> movie I believe you said Sport . Movie in what years? ||| Pred: <sys> restaurant I believe you said Sport . What type of movie?
[[Attention: <sys>(0.9975544810295105) you(0.7766063809394836) Sport(0.9918184280395508) .(0.833809494972229) movie(0.7186073660850525) ?(0.7702324986457825) </s>(0.6017760038375854)]]
-
Source: ? What do you need? </s>|<s> <usr> movie Hi . What should I watch now </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Comedy ones . hmm Oh sorry, I like Documentary movies . </s>
movie:: True: <sys> movie Movie in what years? ||| Pred: <sys> movie I believe you said movie . What type of movie?
[[Attention: <sys>(0.9959650039672852) you(0.942969560623169) movie(0.34480494260787964) .(0.8002398610115051) movie(0.509853184223175) ?(0.7175810933113098) </s>(0.5981840491294861)]]
-
Source: d> </s>|<s> <sys> movie Want to know about movies? How can I help? </s>|<s> <usr> movie Hi . Recommend a movie . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Western movies . </s>
movie:: True: <sys> movie What' s the time period? ||| Pred: <sys> movie I believe you said
[[Attention: <sys>(0.9986674785614014) you(0.9884325861930847)]]
-
Source: ow can I help? </s>|<s> <usr> movie Hello robot . Give me some good hmm...suggestions about movies . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Family . Movie from Thailand </s>
movie:: True: <sys> movie I believe you said Family . I believe you said Thailand . Movie in what years? ||| Pred: <sys> restaurant I believe you said Thailand . What type of movie?
[[Attention: <sys>(0.9982800483703613) you(0.99048912525177) Thailand(0.6041795015335083) .(0.9573730826377869) movie(0.5354534387588501) ?(0.6416864395141602) </s>(0.5810546278953552)]]
-
Source:  <sys> movie Want to know about movies? How can I help? </s>|<s> <usr> movie Hello robot . What should I watch now </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Crime movies . </s>
movie:: True: <sys> movie I believe you said Crime . What' s the time period? ||| Pred: <sys> restaurant I believe you said
[[Attention: <sys>(0.9988515377044678) you(0.9893473386764526)]]
-
Source: s> movie <d> </s>|<s> <sys> movie Want to know about movies? What do you need? </s>|<s> <usr> movie Hi . Recommend a movie . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie Drama . </s>
movie:: True: <sys> movie What' s the time period? ||| Pred: <sys> movie I believe you said movie . What type of movie?
[[Attention: <sys>(0.9949565529823303) you(0.9801586270332336) movie(0.2597280442714691) .(0.6972434520721436) movie(0.6897669434547424) ?(0.7202984690666199) </s>(0.5887119770050049)]]
-
Source:  to know about movies? What can I do for you? </s>|<s> <usr> movie Hi . uhm yeah Hi . What should I watch now </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Sci - Fi ones . </s>
movie:: True: <sys> movie I believe you said Sci - Fi . What' s the time period? ||| Pred: <sys> restaurant I believe you said movie . What type of movie?
[[Attention: <sys>(0.997109591960907) you(0.9575790762901306) movie(0.26566386222839355) .(0.3486008942127228) movie(0.7316057085990906) ?(0.7547527551651001) </s>(0.6188061237335205)]]
-
Source: bout movies? How can I help? </s>|<s> <usr> movie What' s up? Recommend hmm a movie . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I like Romance movies . Movie from Thailand </s>
movie:: True: <sys> movie I believe you said Romance . I believe you said Thailand . Movie in what years? ||| Pred: <sys> restaurant I believe you said Thailand . What type of movie?
[[Attention: <sys>(0.9984346032142639) you(0.9911823272705078) Thailand(0.8250485062599182) .(0.9822383522987366) movie(0.49106740951538086) ?(0.6839817762374878) </s>(0.597426176071167)]]
-
Source: > <sys> movie Want to know about movies? How can I help? </s>|<s> <usr> movie What' s up? Recommend a movie . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I love Drama ones . </s>
movie:: True: <sys> movie I believe you said Drama . What' s the time period? ||| Pred: <sys> restaurant What type of movie?
[[Attention: <sys>(0.9983983635902405) movie(0.512396514415741) ?(0.6265853643417358) </s>(0.5228965878486633)]]
-
Source: ovie Want to know about movies? What can I do for you? </s>|<s> <usr> movie Hello robot . Recommend a movie . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I like Action movies . </s>
movie:: True: <sys> movie I believe you said Action . Movie in what years? ||| Pred: <sys> restaurant I believe you said Action . What type of restaurant?
[[Attention: <sys>(0.9959167838096619) you(0.9771401882171631) Action(0.9393274188041687) .(0.7261644601821899) What(0.212195485830307) movie(0.34531229734420776) ?(0.8092947602272034) </s>(0.6091393828392029)]]
-
Source: s> movie Want to know about movies? What do you need? </s>|<s> <usr> movie Hello robot . uhm Recommend a movie . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Music ones . </s>
movie:: True: <sys> movie I believe you said Music . What' s the time period? ||| Pred: <sys> restaurant I believe you said movie . What type of movie?
[[Attention: <sys>(0.9972004890441895) you(0.9815095663070679) movie(0.22762835025787354) .(0.8485971689224243) movie(0.7292690873146057) ?(0.7713577151298523) </s>(0.5960893034934998)]]
-
Source:  <sys> movie Want to know about movies? What can I do for you? </s>|<s> <usr> movie What' s up? What should I watch now </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Fantasy . </s>
movie:: True: <sys> movie I believe you said Fantasy . What' s the time period? ||| Pred: <sys> movie I believe you said Fantasy . What type of movie?
[[Attention: <sys>(0.997593343257904) you(0.7259654402732849) Fantasy(0.9861406087875366) .(0.4002249538898468) What(0.10481902956962585) movie(0.5606668591499329) ?(0.7409524917602539) </s>(0.5608616471290588)]]
-
Source: at can I do for you? </s>|<s> <usr> movie Hello robot . Give me some hmm...good suggestions about movies . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I like Action movies . </s>
movie:: True: <sys> movie I believe you said Action . What' s the time period? ||| Pred: <sys> restaurant I believe you said Action . What type of restaurant?
[[Attention: <sys>(0.9982730150222778) you(0.7386645078659058) Action(0.9603084325790405) .(0.6003084182739258) What(0.1839475929737091) movie(0.33994948863983154) ?(0.7248653769493103) </s>(0.5238532423973083)]]
-
Source: movie Want to know about movies? What can I do for you? </s>|<s> <usr> movie What' s up? Recommend uhm a movie . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Music ones . </s>
movie:: True: <sys> movie I believe you said Music . Movie in what years? ||| Pred: <sys> movie I believe you said movie . What type of movie?
[[Attention: <sys>(0.9950879216194153) you(0.9461444020271301) movie(0.34285351634025574) .(0.7014145851135254) movie(0.6978389024734497) ?(0.7031869292259216) </s>(0.6366622447967529)]]
-
Source: /s>|<s> <sys> movie Want to know about movies? How can I help? </s>|<s> <usr> movie Hello robot . Recommend a movie . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie Music movies . </s>
movie:: True: <sys> movie I believe you said Music . What' s the time period? ||| Pred: <sys> movie I believe you said movie . What type of movie?
[[Attention: <sys>(0.9946936964988708) movie(0.25971075892448425) .(0.509560227394104) movie(0.6826518774032593) ?(0.8169789910316467) </s>(0.6109982132911682)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.425532 recall 0.652921 and f1 0.515254
Intent precision 0.798832 recall 0.788597 and f1 0.793681
KB precision 0.896867 recall 0.626825 and f1 0.737916
BLEU 0.393540 BEAK 0.587038

request: 0.2976616809320475
implicit_confirm: 0.3758380494996675
explicit_confirm: 0.10189855782054598
inform: 0.43023537027124814
query: 0.5164147069881846
greet: 0.1349276733341255
goodbye: 0.33877246659883303

Generation Done
Update patience to 10
Model Saved.

**** Epcoch 4/100 ****
200/1000-(0.000): Train nll 0.094 PPL 1.099 attn_loss 0.201 distance 0.218 distance_semantic 0.030 loss_pack_warm 1.523 distance1 0.020
400/1000-(0.000): Train nll 0.102 PPL 1.107 attn_loss 0.195 distance 0.226 distance_semantic 0.027 loss_pack_warm 1.349 distance1 0.025
600/1000-(0.000): Train nll 0.092 PPL 1.096 attn_loss 0.211 distance 0.237 distance_semantic 0.025 loss_pack_warm 1.398 distance1 0.025
800/1000-(0.000): Train nll 0.098 PPL 1.103 attn_loss 0.185 distance 0.237 distance_semantic 0.020 loss_pack_warm 1.316 distance1 0.026
0/1000-(0.000): Train nll 0.081 PPL 1.084 attn_loss 0.174 distance 0.234 distance_semantic 0.021 loss_pack_warm 1.351 distance1 0.025

=== Evaluating Model ===
Train nll 0.094 PPL 1.098 attn_loss 0.193 distance 0.230 distance_semantic 0.025 loss_pack_warm 1.387 distance1 0.024
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.129 PPL 1.138 attn_loss 0.227 distance 0.235 distance_semantic 0.195 loss_pack_warm 0.195 distance1 0.195
Total valid loss 0.1706622987985611
Generation: 50 batches
Source:  - present </s>|<s> <usr> movie {" RET ": {"# default ": " 1 "}} </s>|<s> <sys> movie Movie 1 is a good choice . What else can I do? </s>|<s> <usr> movie Movie from USA Uhm sorry, I don' t care . </s>
movie:: True: <sys> movie I believe you said Germany . {" QUERY ": {"# genre ": " Family ", "# years ": " 2010 - present ", "# country ": " Germany "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 2010 - present ", "# country ": " Los Angeles "}, " GOALS ": ["# company "]}
[[Attention: <sys>(0.6146061420440674) movie(0.410494863986969) QUERY(0.5981550812721252) ":(0.38460975885391235) {"#(0.5303956866264343) ":(0.21729454398155212) "(0.3315369188785553) Family(0.9896444082260132) ",(0.872492253780365) "#(0.6444505453109741) "(0.2232929766178131) 2010(0.7899874448776245) -(0.9864034652709961) "(0.1161491647362709) "(0.5071726441383362) ":(0.34611818194389343) </s>(0.3520286977291107)]]
-
Source: ERY ": {"# genre ": " Action ", "# </s>|<s> <usr> movie Yes . {" RET ": {"# default ": " 128 "}} </s>|<s> <sys> movie Movie 128 is a good choice . Anything else? </s>|<s> <usr> movie From Korea . </s>
movie:: True: <sys> movie I believe you said France . {" QUERY ": {"# genre ": " Action ", "# years ": " 80s ", "# country ": " France "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie I believe you said Korea . {" QUERY ": {"# genre ": " Action ", "# years ": " Korea ", "# country ": " Korea "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.7779136300086975) movie(0.4302976131439209) believe(0.6820385456085205) you(0.582317590713501) said(0.7138603329658508) Korea(0.5385208129882812) .(0.3756585419178009) {"(0.38677722215652466) QUERY(0.5297052264213562) ":(0.5783702731132507) {"#(0.6789381504058838) ":(0.2444421947002411) "(0.6609816551208496) Action(0.9796375632286072) ",(0.4185526669025421) "#(0.47888657450675964) "(0.5300315022468567) Korea(0.9541106820106506) "(0.18235646188259125) Korea(0.8958039879798889) "(0.7020934224128723) ":(0.49611905217170715) </s>(0.5082984566688538)]]
-
Source: bout my answer? </s>|<s> <usr> movie Whatever is good . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 80s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 18 "}} </s>
movie:: True: <sys> movie Movie 18 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie Movie 18 is a good choice . Are you happy about my answer?
[[Attention: <sys>(0.35549619793891907) movie(0.7228797674179077) 18(0.9764294624328613) is(0.4188799560070038) a(0.35978472232818604) good(0.27071836590766907) choice(0.28951895236968994) .(0.36796727776527405) you(0.3825095593929291) happy(0.4403604567050934) about(0.4319320619106293) my(0.543352484703064) answer(0.5042936205863953) ?(0.42644745111465454) </s>(0.5591303706169128)]]
-
Source:  about my answer? </s>|<s> <usr> movie I don' t care . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " dont_care ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 1 "}} </s>
movie:: True: <sys> movie Movie 1 is a good choice . What else can I do? ||| Pred: <sys> movie Movie 1 is a good choice . Anything else?
[[Attention: <sys>(0.43358463048934937) movie(0.3858727514743805) 1(0.9891758561134338) is(0.5202196836471558) a(0.2784346640110016) good(0.2803366184234619) choice(0.29566848278045654) .(0.3054656684398651) else(0.9439747333526611) ?(0.3137347400188446) </s>(0.37579482793807983)]]
-
Source:  about my answer? </s>|<s> <usr> movie A new search . From China . </s>|<s> <sys> movie I believe you said China . Do you mean Western? </s>|<s> <usr> movie That' s correct . hmm From USA . Yes . </s>
movie:: True: <sys> movie Do you mean Western? ||| Pred: <sys> movie I believe you said China . {" QUERY ": {"# genre ": " dont_care ", "# years ": " China ", "# country ": " China "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9468659162521362) movie(0.25084614753723145) believe(0.9084544777870178) you(0.6248769164085388) said(0.9382491707801819) China(0.5820002555847168) .(0.4103032350540161) {"(0.27821794152259827) QUERY(0.2918141782283783) ":(0.321105033159256) {"#(0.42886587977409363) ":(0.1864362359046936) "(0.34116777777671814) dont_care(0.8662169575691223) ",(0.16671165823936462) "#(0.35806387662887573) "(0.3208250105381012) China(0.8148029446601868) "(0.23808002471923828) China(0.7029439806938171) "(0.43616336584091187) ":(0.394001305103302) </s>(0.3113376498222351)]]
-
Source: oice . What else can I do? </s>|<s> <usr> movie Family . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Romance ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 154 "}} </s>
movie:: True: <sys> movie Movie 154 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie Movie 154 is a good choice . Anything else?
[[Attention: <sys>(0.3599146604537964) movie(0.7597216367721558) 154(0.9258248209953308) is(0.5275505185127258) a(0.27384117245674133) good(0.2924472689628601) choice(0.3437025249004364) .(0.3851795494556427) else(0.6599672436714172) ?(0.30973178148269653) </s>(0.29000943899154663)]]
-
Source:  . Movie from Thailand Uhm sorry, France . No . </s>|<s> <sys> movie Do you mean Family? </s>|<s> <usr> movie Yep . </s>|<s> <sys> movie Do you mean Family? </s>|<s> <usr> movie That' s correct . </s>
movie:: True: <sys> movie I believe you said Family . Do you mean 2010 - present? ||| Pred: <sys> movie I believe you said Family . {" QUERY ": {"# genre ": " Family ", "# years ": " Family ", "# country ": " Los Angeles "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.4021257162094116) movie(0.8118330240249634) believe(0.8524591326713562) you(0.6105823516845703) said(0.7945389747619629) Family(0.7833343744277954) .(0.41126102209091187) {"(0.27801936864852905) QUERY(0.5223281979560852) ":(0.4908234179019928) {"#(0.7711134552955627) ":(0.35733991861343384) "(0.6274359226226807) Germany(0.44540533423423767) ",(0.37555286288261414) "#(0.6397797465324402) "(0.5563704371452332) Family(0.7141151428222656) "(0.3729873597621918) "(0.731370210647583) ":(0.5536330938339233) </s>(0.3608781099319458)]]
-
Source: I do? </s>|<s> <usr> movie I like Crime movies . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Documentary ", "# years ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# default ": " 20 "}} </s>
movie:: True: <sys> movie Movie 20 is a good choice . Anything else? ||| Pred: <sys> movie Movie 20 is a good choice . Anything else?
[[Attention: <sys>(0.5489708185195923) movie(0.7567719221115112) 20(0.9344720840454102) is(0.2851446270942688) a(0.5864367485046387) good(0.5745787620544434) choice(0.45736372470855713) .(0.4547818601131439) else(0.4811086356639862) ?(0.41978076100349426) </s>(0.3423565626144409)]]
-
Source: # </s>|<s> <usr> movie Wrong . {" RET ": {"# default ": " 34 "}} </s>|<s> <sys> movie Movie 34 is a good choice . Anything else? </s>|<s> <usr> movie In 70s . Uhm sorry, hmm...In 2010 - present . </s>
movie:: True: <sys> movie I believe you said 2010 - present . {" QUERY ": {"# genre ": " dont_care ", "# years ": " 2010 - present ", "# country ": " Germany "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 2010 - present ", "# country ": " 80s "}, " GOALS ": ["# company "]}
[[Attention: <sys>(0.5233146548271179) QUERY(0.33107566833496094) ":(0.29828792810440063) {"#(0.36631104350090027) ":(0.2643621563911438) "(0.3874831199645996) dont_care(0.972212016582489) ",(0.36599165201187134) "#(0.4264838397502899) "(0.25392770767211914) 2010(0.9242591857910156) -(0.9805850386619568) "(0.22598180174827576) 80s(0.2321767657995224) "(0.42632606625556946) ":(0.32456347346305847) </s>(0.39260053634643555)]]
-
Source: edy? </s>|<s> <usr> movie That' s wrong . </s>|<s> <sys> movie Okay, you dont_care, do you? </s>|<s> <usr> movie That' s correct . </s>|<s> <sys> movie Do you mean 60s? </s>|<s> <usr> movie Nay . </s>
movie:: True: <sys> movie Movie in what years? ||| Pred: <sys> movie What genre do you like?
[[Attention: <sys>(0.44358202815055847) movie(0.1670817732810974) you(0.35341158509254456) </s>(0.5748914480209351)]]
-
Source: 2000 - 2010 </s>|<s> <usr> movie {" RET ": {"# default ": " 109 "}} </s>|<s> <sys> movie Movie 109 is a good choice . What else can I do? </s>|<s> <usr> movie One more thing . What' s the rating? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 2000 - 2010 ", "# country ": " Russia "}, " GOALS ": ["# rating "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 2000 - present ", "# country ": " 2000 - present ", "# country ": " Los Angeles "}, " GOALS ": ["# price "]}
[[Attention: <sys>(0.4927867352962494) QUERY(0.5311347842216492) ":(0.22008702158927917) {"#(0.3811514377593994) ":(0.14084720611572266) "(0.2964266240596771) dont_care(0.9863150119781494) ",(0.4582653045654297) "#(0.3832022249698639) "(0.30425339937210083) 2000(0.9528810381889343) -(0.9575375318527222) "(0.22640511393547058) 2000(0.6465769410133362) -(0.23498651385307312) "(0.28447142243385315)]]
-
Source: <s> <usr> movie {" RET ": {"# default ": " 5 "}} </s>|<s> <sys> movie Movie 5 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie In uhm yeah In 70s . Oh no, Anything is fine . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Sci - Fi ", "# years ": " 60s ", "# country ": " USA "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " 60s ", "# years ": " 60s ", "# country ": " dont_care "}, " GOALS ": ["# company "]}
[[Attention: <sys>(0.8340673446655273) movie(0.22526365518569946) QUERY(0.5076920390129089) ":(0.35547998547554016) {"#(0.5962545871734619) "(0.2742100954055786) 60s(0.5819459557533264) ",(0.3711370527744293) "#(0.13989630341529846) "(0.37771570682525635) 60s(0.8929979801177979) "(0.1848675012588501) "(0.19739513099193573) ":(0.3974902033805847) </s>(0.3617994487285614)]]
-
Source:  2010 - present </s>|<s> <usr> movie {" RET ": {"# default ": " 14 "}} </s>|<s> <sys> movie Movie 14 is a good choice . Anything else? </s>|<s> <usr> movie I have more requests . Who directed it? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 2010 - present ", "# country ": " Thailand "}, " GOALS ": ["# director "]} ||| Pred: <sys> restaurant {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " 2010 "}, " GOALS ": ["# price "]}
[[Attention: <sys>(0.45677220821380615) QUERY(0.30859148502349854) ":(0.33757928013801575) {"#(0.29022377729415894) ":(0.2536897659301758) "(0.34129050374031067) dont_care(0.9982604384422302) ",(0.4377363920211792) "#(0.5153799057006836) ":(0.3091167211532593) "(0.4406350255012512) 2010(0.7000901699066162) -(0.17848369479179382) "(0.2651556730270386) ":(0.5120409727096558) </s>(0.27406635880470276)]]
-
Source: ovie A new search . Romance movies . </s>|<s> <sys> movie Do you mean 2010 - present? </s>|<s> <usr> movie Wrong . </s>|<s> <sys> movie What' s the time period? </s>|<s> <usr> movie Movies in 90s </s>
movie:: True: <sys> movie I believe you said 90s . Do you mean Japan? ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 90s - present ", "# country ": " 90s "}, " GOALS ": ["# price "]}
[[Attention: <sys>(0.25780990719795227) movie(0.14987827837467194) QUERY(0.35097426176071167) ":(0.33077436685562134) {"#(0.4700517952442169) ":(0.16241537034511566) "(0.3388063609600067) Action(0.6486459970474243) ",(0.38817518949508667) "#(0.3003336191177368) "(0.37148013710975647) 90s(0.940065860748291) -(0.30181047320365906) "(0.1666892170906067) 90s(0.9923495054244995) "(0.5314428210258484) ":(0.15878023207187653) </s>(0.2791629135608673)]]
-
Source: ern ", "# years ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# default ": " 67 "}} </s>|<s> <sys> movie Movie 67 is a good choice . Anything else? </s>|<s> <usr> movie I love Music ones . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Music ", "# years ": " 2010 - present ", "# country ": " Germany "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Western ", "# years ": " 2010 - present ", "# country ": " Boston "}, " GOALS ": ["# company "]}
[[Attention: <sys>(0.5983284711837769) movie(0.368172287940979) QUERY(0.5945279002189636) ":(0.37856706976890564) {"#(0.5042500495910645) ":(0.4493882358074188) "(0.45509377121925354) Western(0.9250643253326416) ",(0.38792112469673157) "#(0.6145204305648804) "(0.5051220655441284) 2010(0.9393954873085022) -(0.9948733448982239) "(0.1972990781068802) 2010(0.13077853620052338) "(0.45535340905189514) ":(0.27121806144714355) </s>(0.27340516448020935)]]
-
Source: se can I do? </s>|<s> <usr> movie Whatever is good . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " dont_care ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 142 "}} </s>
movie:: True: <sys> movie Movie 142 is a good choice . Anything else? ||| Pred: <sys> movie Movie 142 is a good choice . Anything else?
[[Attention: <sys>(0.3828892409801483) movie(0.5813470482826233) 142(0.9724991917610168) is(0.36472055315971375) a(0.31200847029685974) good(0.32333576679229736) choice(0.37514111399650574) .(0.35784968733787537) else(0.33011648058891296) ?(0.27090129256248474) </s>(0.3129429817199707)]]
-
Source: ything else? </s>|<s> <usr> movie I don' t care . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# default ": " 188 "}} </s>
movie:: True: <sys> movie Movie 188 is a good choice . What else can I do? ||| Pred: <sys> movie Movie 188 is a good choice . Anything else?
[[Attention: <sys>(0.25369030237197876) movie(0.5789591670036316) 188(0.9243878722190857) is(0.31206586956977844) a(0.3381606936454773) good(0.37501049041748047) choice(0.38416412472724915) .(0.34399011731147766) else(0.4139745533466339) ?(0.3051481246948242) </s>(0.2775469422340393)]]
-
Source: ie One uhm yeah One more thing . How people rate this movie? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 70s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 4 "}} </s>
movie:: True: <sys> movie The rating is 4 . What else can I do? ||| Pred: <sys> movie No, The movie is 4 . Are you happy about my answer?
[[Attention: <sys>(0.5358835458755493) movie(0.7684507369995117) ,(0.4299698770046234) movie(0.8123968839645386) is(0.1854465752840042) 4(0.9999921321868896) .(0.9609660506248474) you(0.9545668959617615) happy(0.9356810450553894) about(0.9128958582878113) my(0.863694965839386) answer(0.6347696185112) ?(0.5298057794570923) </s>(0.5437548160552979)]]
-
Source: u need? </s>|<s> <usr> movie How people hmm rate this movie? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 90s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 3 "}} </s>
movie:: True: <sys> movie The rating is 3 . Anything else? ||| Pred: <sys> movie No, The movie is 3 . Are you happy about my answer?
[[Attention: <sys>(0.7398868203163147) movie(0.5062276721000671) ,(0.44853633642196655) movie(0.6781707406044006) 3(0.999995231628418) .(0.8585628271102905) you(0.8370062708854675) ?(0.6204144358634949) </s>(0.5549870133399963)]]
-
Source: nt </s>|<s> <usr> movie {" RET ": {"# company ": " Universal "}} </s>|<s> <sys> movie It' s made by Universal . Are you happy about my answer? </s>|<s> <usr> movie No more questions . Thank you . </s>
movie:: True: <sys> movie Goodbye. ||| Pred: <sys> movie See you next time.
[[Attention: <sys>(0.826012372970581) movie(0.5700157880783081) you(0.7581894397735596) .(0.5222631096839905) </s>(0.293046236038208)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.474886 recall 0.754991 and f1 0.583041
Intent precision 0.825046 recall 0.828096 and f1 0.826568
KB precision 0.927197 recall 0.736702 and f1 0.821045
BLEU 0.528211 BEAK 0.676142

query: 0.6516803628212166
implicit_confirm: 0.4487246547750075
request: 0.4076877610871087
inform: 0.5513940643199357
explicit_confirm: 0.15220949222543634
goodbye: 0.5161595876421842
greet: 0.6754550221270696

Generation Done
Update patience to 10
Model Saved.

**** Epcoch 5/100 ****
200/1000-(0.000): Train nll 0.087 PPL 1.090 attn_loss 0.170 distance 0.249 distance_semantic 0.020 loss_pack_warm 1.436 distance1 0.025
400/1000-(0.000): Train nll 0.089 PPL 1.093 attn_loss 0.159 distance 0.252 distance_semantic 0.016 loss_pack_warm 1.293 distance1 0.027
600/1000-(0.000): Train nll 0.082 PPL 1.086 attn_loss 0.163 distance 0.254 distance_semantic 0.018 loss_pack_warm 1.418 distance1 0.031
800/1000-(0.000): Train nll 0.087 PPL 1.091 attn_loss 0.164 distance 0.249 distance_semantic 0.015 loss_pack_warm 1.346 distance1 0.030
0/1000-(0.000): Train nll 0.073 PPL 1.076 attn_loss 0.143 distance 0.251 distance_semantic 0.015 loss_pack_warm 1.412 distance1 0.031

=== Evaluating Model ===
Train nll 0.084 PPL 1.087 attn_loss 0.160 distance 0.251 distance_semantic 0.017 loss_pack_warm 1.381 distance1 0.029
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.131 PPL 1.140 attn_loss 0.147 distance 0.239 distance_semantic 0.197 loss_pack_warm 0.197 distance1 0.197
Total valid loss 0.17206253111362457
Generation: 50 batches
Source: Drama ", "# years ": " 2000 - 2010 </s>|<s> <usr> movie {" RET ": {"# default ": " 163 "}} </s>|<s> <sys> movie Movie 163 is a good choice . What else can I do? </s>|<s> <usr> movie Movies in 90s </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " 2000 - 2010 ", "# country ": " Mexico "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " 90s - present ", "# country ": " 90s "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.52693772315979) movie(0.8302250504493713) {"(0.36688628792762756) QUERY(0.7835679650306702) ":(0.31672799587249756) {"#(0.3467790484428406) genre(0.33430349826812744) ":(0.2860352396965027) "(0.3260878622531891) Drama(0.8633144497871399) ",(0.7710340023040771) "#(0.5006545782089233) ":(0.19669082760810852) "(0.35463568568229675) 90s(0.8705824613571167) -(0.8802461624145508) "(0.18990278244018555) 90s(0.504754364490509) -(0.1312272995710373) "(0.2689082622528076) ":(0.26252150535583496) default(0.13588270545005798) </s>(0.27177101373672485)]]
-
Source: sr> movie {" RET ": {"# company ": " 20th Century Fox "}} </s>|<s> <sys> movie No, The movie is from 20th Century Fox . Anything else? </s>|<s> <usr> movie One hmm...more thing . Who directed it? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " 90s ", "# country ": " Mexico "}, " GOALS ": ["# director "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " 90s ", "# country ": " Pittsburgh "}, " GOALS ": ["# price "]}
[[Attention: <sys>(0.38039159774780273) movie(0.41357186436653137) {"(0.27914664149284363) QUERY(0.4117167890071869) ":(0.35151082277297974) {"#(0.39958757162094116) genre(0.3311707377433777) ":(0.3241516947746277) "(0.4122268855571747) Drama(0.8814252614974976) ",(0.4968898594379425) "#(0.5913670063018799) ":(0.20824342966079712) "(0.24926885962486267) 90s(0.9799054265022278) ":(0.11711938679218292) "(0.3485623598098755) 90s(0.16444209218025208) "(0.510302722454071) ":(0.31491634249687195) </s>(0.37368279695510864)]]
-
Source: ce . What else can I do? </s>|<s> <usr> movie From Japan . </s>|<s> <sys> movie Do you mean France? </s>|<s> <usr> movie Nope . </s>|<s> <sys> movie Do you mean Japan? </s>|<s> <usr> movie Nope . </s>
movie:: True: <sys> movie Movie from what country? ||| Pred: <sys> movie Do you mean Russia?
[[Attention: <sys>(0.7810515761375427) movie(0.4499763250350952) you(0.5121569037437439) mean(0.37771227955818176) Russia(0.42672595381736755) ?(0.49040716886520386) </s>(0.5796532034873962)]]
-
Source: <s> <sys> movie Do you mean Japan? </s>|<s> <usr> movie That' s wrong . </s>|<s> <sys> movie Which country' s movie? </s>|<s> <usr> movie Movie hmm uhm yeah Movie hmm...from USA Oh sorry, Korea . </s>
movie:: True: <sys> movie I believe you said Korea . {" QUERY ": {"# genre ": " Documentary ", "# years ": " 90s ", "# country ": " Korea "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie I believe you said Japan . {" QUERY ": {"# food_pref ": " Korea ", "# loc ": " Korea "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.4746914505958557) movie(0.3128748834133148) believe(0.6700212359428406) you(0.4752148687839508) said(0.5679681301116943) Japan(0.545681357383728) .(0.4683707356452942) {"(0.10480154305696487) QUERY(0.9985666871070862) ":(0.9241039156913757) {"#(0.9458582997322083) ":(0.8398511409759521) "(0.9889510273933411) Korea(0.7089118957519531) ",(0.570584237575531) "#(0.6876364946365356) ":(0.9596213698387146) "(0.9601885080337524) Korea(0.9738985300064087) "(0.9622983932495117) ":(0.9562048316001892) default(0.9925124645233154) </s>(0.5703230500221252)]]
-
Source: e Do you mean France? </s>|<s> <usr> movie Nay . </s>|<s> <sys> movie Movie from what country? </s>|<s> <usr> movie Korea . </s>|<s> <sys> movie Do you mean Korea? </s>|<s> <usr> movie Uh - huh . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Music ", "# years ": " 2010 - present ", "# country ": " Korea "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Korea ", "# years ": " Korea ", "# country ": " Korea "}, " GOALS ": ["# rating "]}
[[Attention: <sys>(0.6804884076118469) movie(0.7476199269294739) Korea(0.9317460060119629) Korea(0.9967341423034668) -(0.12591303884983063) Korea(0.4935605227947235) </s>(0.5446379780769348)]]
-
Source: y ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 115 "}} </s>|<s> <sys> movie Movie 115 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie Family . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Fantasy ", "# years ": " 60s ", "# country ": " Japan "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Fantasy ", "# years ": " 60s ", "# country ": " <sys> "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.33126702904701233) movie(0.891200840473175) {"(0.283005952835083) QUERY(0.3362685739994049) ":(0.3618949353694916) {"#(0.422148197889328) genre(0.41021016240119934) ":(0.285848468542099) "(0.3349418640136719) Fantasy(0.5605596303939819) ",(0.3703720271587372) "#(0.38178884983062744) ":(0.16189417243003845) "(0.2784900367259979) 60s(0.6296363472938538) "(0.32545340061187744) <sys>(0.43824347853660583) "(0.37575069069862366) ":(0.30110904574394226) default(0.26536068320274353) </s>(0.3208320438861847)]]
-
Source: QUERY ": {"# genre ": " Crime ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 150 "}} </s>|<s> <sys> movie Movie 150 is a good choice . Anything else? </s>|<s> <usr> movie Sci - Fi movies . </s>
movie:: True: <sys> movie I believe you said Crime . {" QUERY ": {"# genre ": " Crime ", "# years ": " 2010 - present ", "# country ": " France "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " 2010 - present ", "# country ": " Pittsburgh "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.8311524391174316) movie(0.7878502607345581) {"(0.20085828006267548) QUERY(0.6403802633285522) ":(0.7831329107284546) {"#(0.808670699596405) genre(0.7565473914146423) ":(0.48877671360969543) "(0.9546968340873718) Crime(0.535585343837738) ",(0.7971144914627075) "#(0.9857715368270874) ":(0.20140881836414337) "(0.7671048641204834) 2010(0.5948511362075806) -(0.8985840082168579) "(0.6349344849586487) "(0.7069740891456604) ":(0.7891786098480225) default(0.24179650843143463) </s>(0.4869551658630371)]]
-
Source: happy about my answer? </s>|<s> <usr> movie From Mexico . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 90s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 163 "}} </s>
movie:: True: <sys> movie Movie 163 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie Movie 163 is a good choice . Anything else?
[[Attention: <sys>(0.400967538356781) movie(0.8132767677307129) 163(0.9454290866851807) is(0.20283503830432892) a(0.40788063406944275) good(0.31880444288253784) choice(0.3122609257698059) .(0.4543170928955078) else(0.3935404419898987) ?(0.33826979994773865) </s>(0.3762330710887909)]]
-
Source: at years? </s>|<s> <usr> movie Movies in 2000 - 2010 </s>|<s> <sys> movie I believe you said 2000 - 2010 . {" QUERY ": {"# genre ": " Family </s>|<s> <usr> movie {" RET ": {"# default ": " 18 "}} </s>
movie:: True: <sys> movie Movie 18 is a good choice . What else can I do? ||| Pred: <sys> movie 18 18 is a good choice . Anything else?
[[Attention: <sys>(0.7026112079620361) movie(0.6946603059768677) 18(0.46620380878448486) 18(0.9888640642166138) a(0.7104994058609009) good(0.6604416966438293) choice(0.9886745810508728) .(0.5946696996688843) else(0.7102023959159851) ?(0.7405957579612732) </s>(0.47255146503448486)]]
-
Source: /s>|<s> <usr> movie Fantasy . </s>|<s> <sys> movie I believe you said Music . {" QUERY ": {"# genre ": " Music ", "# </s>|<s> <usr> movie Nope . Family movies . Oh no, I love War ones . {" RET ": </s>
movie:: True: <sys> movie Movie 181 is a good choice . What else can I do? ||| Pred: <sys> movie Restaurant 57 is a good choice . What else can I do?
[[Attention: <sys>(0.3517652750015259) movie(0.5827255249023438) 57(0.7180027961730957) is(0.41955843567848206) a(0.3672354817390442) good(0.3503391742706299) choice(0.3870224058628082) .(0.37292999029159546) else(0.5252577662467957) can(0.5642820000648499) I(0.5294610261917114) do(0.6000288128852844) ?(0.35487279295921326) </s>(0.3210795819759369)]]
-
Source: happy about my answer? </s>|<s> <usr> movie Music movies . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Music ", "# years ": " 80s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 123 "}} </s>
movie:: True: <sys> movie Movie 123 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie Movie 123 is a good choice . Anything else?
[[Attention: <sys>(0.3723471760749817) movie(0.8251729011535645) 123(0.9947570562362671) is(0.34103018045425415) a(0.274599552154541) good(0.31697753071784973) choice(0.3171108663082123) .(0.2932736873626709) else(0.681931734085083) ?(0.3952310085296631) </s>(0.4467518627643585)]]
-
Source: |<s> <usr> movie {" RET ": {"# default ": " 178 "}} </s>|<s> <sys> movie Movie 178 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie I have more uhm requests . Which company? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Documentary ", "# years ": " 60s ", "# country ": " USA "}, " GOALS ": ["# company "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " 60s ", "# years ": " 60s ", "# country ": " Pittsburgh "}, " GOALS ": ["# price "]}
[[Attention: <sys>(0.530466616153717) movie(0.8975721597671509) {"(0.3119899332523346) QUERY(0.3008551299571991) ":(0.4540523588657379) {"#(0.4631161391735077) genre(0.4113481640815735) ":(0.3041509687900543) "(0.41478028893470764) 60s(0.7197825312614441) ",(0.2949273884296417) "#(0.4961051940917969) ":(0.20614024996757507) "(0.30725809931755066) 60s(0.43580934405326843) "(0.31814438104629517) <sys>(0.19320029020309448) "(0.3480917811393738) ":(0.28905144333839417) </s>(0.3069975674152374)]]
-
Source: r? </s>|<s> <usr> movie One more thing . What' s the rating? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 4 "}} </s>
movie:: True: <sys> movie This movie has a rating of 4 . Anything else? ||| Pred: <sys> movie No, The movie is 4 . What else can I do?
[[Attention: <sys>(0.30219846963882446) movie(0.6641678810119629) ,(0.5542535185813904) movie(0.6266435980796814) is(0.1643717736005783) 4(0.999897837638855) .(0.2928445339202881) else(0.5181373953819275) can(0.5682947635650635) I(0.5367534160614014) do(0.6123051643371582) ?(0.43817266821861267) </s>(0.43725451827049255)]]
-
Source: out my answer? </s>|<s> <usr> movie Whatever is good . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 90s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 161 "}} </s>
movie:: True: <sys> movie Movie 161 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie Movie 161 is a good choice . Anything else?
[[Attention: <sys>(0.30266618728637695) movie(0.7783182859420776) 161(0.9993821382522583) is(0.2705095708370209) a(0.30437275767326355) good(0.2982887923717499) choice(0.3021858036518097) .(0.3727506101131439) else(0.36961260437965393) ?(0.3034919202327728) </s>(0.4167088270187378)]]
-
Source: Do you mean Korea? </s>|<s> <usr> movie That' s correct . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Fantasy ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 82 "}} </s>
movie:: True: <sys> movie Movie 82 is a good choice . Anything else? ||| Pred: <sys> movie Movie 82 is a good choice . What else can I do?
[[Attention: <sys>(0.5114831924438477) movie(0.908780574798584) 82(0.9998666048049927) is(0.9002764821052551) .(0.529086709022522) ?(0.9846035838127136) </s>(0.464697927236557)]]
-
Source: ie from Mexico </s>|<s> <sys> movie I believe you said Thailand . {" QUERY ": {"# genre ": " Western ", "# </s>|<s> <usr> movie Wrong . uhm yeah Wrong . hmm From France . {" RET ": {"# default ": </s>
movie:: True: <sys> movie Movie 184 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie Movie 193 is a good choice . What else can I do?
[[Attention: <sys>(0.6002897620201111) movie(0.5351672768592834) 193(0.5750412940979004) is(0.5403888821601868) a(0.38912689685821533) good(0.36756518483161926) choice(0.34744641184806824) .(0.3137299120426178) else(0.5610185265541077) can(0.6881927251815796) I(0.6075912714004517) do(0.7640861868858337) ?(0.40462008118629456) </s>(0.43454301357269287)]]
-
Source: m...search a new one . China . </s>|<s> <sys> movie I believe you said China . Do you mean Music? </s>|<s> <usr> movie Uh - huh . </s>|<s> <sys> movie Do you mean 80s? </s>|<s> <usr> movie Nope . </s>
movie:: True: <sys> movie Do you mean 60s? ||| Pred: <sys> movie Movie from what country?
[[Attention: <sys>(0.6523397564888) movie(0.7724205851554871) ?(0.41484180092811584) </s>(0.2528034448623657)]]
-
Source: <usr> movie I have more requests . What' s the rating? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " dont_care ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 4 "}} </s>
movie:: True: <sys> movie The rating is 4 . Anything else? ||| Pred: <sys> movie No, The movie is 4 . What else can I do?
[[Attention: <sys>(0.3139614760875702) movie(0.6677206754684448) ,(0.29866668581962585) movie(0.5802567005157471) 4(0.9997414946556091) .(0.3762316405773163) What(0.11251213401556015) else(0.6303017139434814) can(0.9961267113685608) I(0.9956371188163757) do(0.9971851706504822) ?(0.44326508045196533) </s>(0.4862610995769501)]]
-
Source: s> <usr> movie Movies in 2000 - 2010 </s>|<s> <sys> movie Do you mean 2000 - 2010? </s>|<s> <usr> movie No . </s>|<s> <sys> movie What' s the time period? </s>|<s> <usr> movie In 2010 - present . </s>
movie:: True: <sys> movie I believe you said 2010 - present . Do you mean Russia? ||| Pred: <sys> movie Do you mean movie?
[[Attention: <sys>(0.6124838590621948) movie(0.797980785369873) you(0.41405966877937317) mean(0.36180633306503296) movie(0.4035916030406952) ?(0.8297537565231323) </s>(0.43308398127555847)]]
-
Source: hoice . What else can I do? </s>|<s> <usr> movie Germany . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Music ", "# years ": " 90s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 197 "}} </s>
movie:: True: <sys> movie Movie 197 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie Movie 197 is a good choice . Anything else?
[[Attention: <sys>(0.33234506845474243) movie(0.7490173578262329) 197(0.9730700254440308) is(0.41366592049598694) a(0.3210945129394531) good(0.2922656834125519) choice(0.30070942640304565) .(0.3117002248764038) else(0.4040636718273163) ?(0.2880251407623291) </s>(0.448871374130249)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.525168 recall 0.658947 and f1 0.584500
Intent precision 0.877060 recall 0.822809 and f1 0.849069
KB precision 0.945973 recall 0.696174 and f1 0.802074
BLEU 0.530461 BEAK 0.677874

query: 0.6304853729078137
request: 0.39489772882307766
implicit_confirm: 0.43031310476932677
inform: 0.6109844775573361
explicit_confirm: 0.11690896082209504
greet: 0.21744031208729991
goodbye: 0.5623413251903491

Generation Done

**** Epcoch 6/100 ****
200/1000-(0.000): Train nll 0.077 PPL 1.080 attn_loss 0.152 distance 0.246 distance_semantic 0.013 loss_pack_warm 1.427 distance1 0.032
400/1000-(0.000): Train nll 0.082 PPL 1.085 attn_loss 0.148 distance 0.253 distance_semantic 0.014 loss_pack_warm 1.404 distance1 0.032
600/1000-(0.000): Train nll 0.073 PPL 1.076 attn_loss 0.146 distance 0.254 distance_semantic 0.013 loss_pack_warm 1.542 distance1 0.029
800/1000-(0.000): Train nll 0.075 PPL 1.078 attn_loss 0.164 distance 0.278 distance_semantic 0.013 loss_pack_warm 1.524 distance1 0.039
0/1000-(0.000): Train nll 0.074 PPL 1.076 attn_loss 0.127 distance 0.273 distance_semantic 0.009 loss_pack_warm 1.349 distance1 0.032

=== Evaluating Model ===
Train nll 0.076 PPL 1.079 attn_loss 0.148 distance 0.261 distance_semantic 0.012 loss_pack_warm 1.449 distance1 0.033
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.123 PPL 1.131 attn_loss 0.256 distance 0.266 distance_semantic 0.219 loss_pack_warm 0.219 distance1 0.219
Total valid loss 0.16968345642089844
Generation: 50 batches
Source:  you like? </s>|<s> <usr> movie I like Crime movies . </s>|<s> <sys> movie I believe you said Crime . What' s the time period? </s>|<s> <usr> movie In 60s . Sport . Oh sorry, hmm...Crime movies . </s>
movie:: True: <sys> movie I believe you said 60s . Which country' s movie? ||| Pred: <sys> movie I believe you said 60s . {" QUERY ": {"# genre ": " 60s ", "# years ": " 60s ", "# country ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9806446433067322) believe(0.7658877968788147) you(0.9580820202827454) said(0.2907469570636749) 60s(0.9982554316520691) .(0.5565398335456848) 60s(0.5350289940834045) 60s(0.9063233137130737) </s>(0.5135685205459595)]]
-
Source: ie Hi . Recommend a movie . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I like Sport movies . </s>|<s> <sys> movie Movie in what years? </s>|<s> <usr> movie In 2010 - present . </s>
movie:: True: <sys> movie Movie from what country? ||| Pred: <sys> movie {" QUERY ": {"# genre ": " - ", "# years ": " 2010 - present ", "# country ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9800475239753723) movie(0.18552076816558838) -(0.49748241901397705) 2010(0.9735411405563354) -(0.9319714307785034) </s>(0.37267228960990906)]]
-
Source: do you like? </s>|<s> <usr> movie Anything is fine . </s>|<s> <sys> movie Okay, you dont_care . What' s the time period? </s>|<s> <usr> movie Nope . I love Crime ones . Whatever is good . Crime . </s>
movie:: True: <sys> movie Okay, you dont_care . Movie from what country? ||| Pred: <sys> movie Alright, dont_care . I believe you said Mexican . {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9699556231498718) movie(0.8252410292625427) ,(0.27547121047973633) .(0.5806630849838257) you(0.8530973792076111) dont_care(0.10789190232753754) .(0.5793494582176208) dont_care(0.2078571617603302) dont_care(0.6115298271179199) </s>(0.6691672801971436)]]
-
Source:  <sys> movie Which type of movie? </s>|<s> <usr> movie I love Action ones . </s>|<s> <sys> movie I believe you said Action . What' s the time period? </s>|<s> <usr> movie Movies in 2010 - present </s>
movie:: True: <sys> movie I believe you said 2010 - present . Movie from what country? ||| Pred: <sys> movie Do you mean 2010 - present?
[[Attention: <sys>(0.9958817958831787) movie(0.7216801047325134) you(0.9231467843055725) 2010(0.4772869348526001) -(0.9791892766952515) ?(0.3032921850681305) </s>(0.5411862134933472)]]
-
Source: ys> movie What genre do you like? </s>|<s> <usr> movie Crime . </s>|<s> <sys> movie I believe you said Crime . What' s the time period? </s>|<s> <usr> movie In 90s . Oh hmm sorry, I don' t care . </s>
movie:: True: <sys> movie Okay, you dont_care . Movie from what country? ||| Pred: <sys> movie Alright, dont_care . {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.987636387348175) movie(0.7353106141090393) ,(0.13171404600143433) .(0.6402562856674194) </s>(0.5618292689323425)]]
-
Source: on movies . uhm Oh no, I love Sport ones . </s>|<s> <sys> movie I believe you said Sport . Movie in what years? </s>|<s> <usr> movie In 2000 - 2010 . Oh sorry, Anything is fine . Western movies . </s>
movie:: True: <sys> movie I believe you said Sport . Which country' s movie? ||| Pred: <sys> movie Alright, dont_care . I believe you said Sport . {" QUERY ": {"# food_pref ": " Sport ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9934822916984558) movie(0.4792177975177765) ,(0.49669650197029114) .(0.5153550505638123) believe(0.1423872411251068) you(0.5771996974945068) Sport(0.6974226236343384) .(0.43477463722229004) Sport(0.4900359511375427) </s>(0.40683281421661377)]]
-
Source: s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Comedy ones . hmm Oh sorry, I like Documentary movies . </s>|<s> <sys> movie Movie in what years? </s>|<s> <usr> movie In 60s . </s>
movie:: True: <sys> movie I believe you said 60s . Movie from what country? ||| Pred: <sys> movie Do you mean 60s?
[[Attention: <sys>(0.969887912273407) movie(0.4304425120353699) you(0.9735055565834045) 60s(0.9871910810470581) ?(0.6927211880683899) </s>(0.3368260860443115)]]
-
Source: e Hi . Recommend a movie . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Western movies . </s>|<s> <sys> movie What' s the time period? </s>|<s> <usr> movie Whatever is good . </s>
movie:: True: <sys> movie Okay, you dont_care . Which country' s movie? ||| Pred: <sys> movie Alright, dont_care . Do you mean Indian?
[[Attention: <sys>(0.9647971391677856) movie(0.6514379978179932) .(0.5124503374099731) you(0.9902029037475586) ?(0.805232048034668) </s>(0.8258959650993347)]]
-
Source: <s> <usr> movie Family . Movie from Thailand </s>|<s> <sys> movie I believe you said Family . I believe you said Thailand . Movie in what years </s>|<s> <usr> movie Movies in 2000 - 2010 Family . </s>
movie:: True: <sys> movie I believe you said 2000 - 2010 . {" QUERY ": {"# genre ": " Family ", "# years ": " 2000 - 2010 ", "# country ": " Thailand "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie I believe you said 2000 - 2010 . I believe you said 2000 - 2010 . Which country' s movie?
[[Attention: <sys>(0.950573205947876) you(0.6533858180046082) 2000(0.9039486050605774) -(0.9551326036453247) you(0.682468593120575) 2000(0.5141441226005554) -(0.9628737568855286) </s>(0.6483678817749023)]]
-
Source: I watch now </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Crime movies . </s>|<s> <sys> movie I believe you said Crime . What' s the time period? </s>|<s> <usr> movie In 60s . </s>
movie:: True: <sys> movie I believe you said 60s . Movie from what country? ||| Pred: <sys> movie Do you mean 60s?
[[Attention: <sys>(0.9848495721817017) movie(0.7358239889144897) you(0.8888736367225647) 60s(0.9943881630897522) ?(0.7200931906700134) </s>(0.538536787033081)]]
-
Source: e Hi . Recommend a movie . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie Drama . </s>|<s> <sys> movie What' s the time period? </s>|<s> <usr> movie Movies in 90s Movie from Korea </s>
movie:: True: <sys> movie I believe you said 90s . I believe you said Korea . Do you mean Drama? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.9907971620559692) ?(0.8753600716590881) </s>(0.7225598692893982)]]
-
Source: ovie? </s>|<s> <usr> movie I love Sci - Fi ones . </s>|<s> <sys> movie I believe you said Sci - Fi . What' s the time period? </s>|<s> <usr> movie Wrong . I like Family movies . In 70s . France . </s>
movie:: True: <sys> movie I believe you said Family . I believe you said 70s . I believe you said France . {" QUERY ": {"# genre ": " Family ", "# years ": " 70s ", "# country ": " France "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie I believe you said 70s . {" QUERY ": {"# food_pref ": " France ", "# loc ": " 70s ", "# country ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9950608611106873) movie(0.19306637346744537) believe(0.3079158663749695) you(0.7456600069999695) 70s(0.979258120059967) .(0.4981331527233124) France(0.6872257590293884) 70s(0.9049249291419983) </s>(0.7501169443130493)]]
-
Source:  like Romance movies . Movie from Thailand </s>|<s> <sys> movie I believe you said Romance . I believe you said Thailand . Movie in what years </s>|<s> <usr> movie Nope . Comedy . I don' t care . </s>
movie:: True: <sys> movie I believe you said Romance . Okay, you dont_care, do you? ||| Pred: <sys> movie Alright, dont_care . I believe you said Thailand . {" QUERY ": {"# food_pref ": " Thailand ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9261306524276733) movie(0.7386705279350281) .(0.7751173377037048) you(0.5223231315612793) Thailand(0.927160918712616) .(0.9168789386749268) Thailand(0.35452350974082947) Thailand(0.36079564690589905) </s>(0.5600215196609497)]]
-
Source: . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I love Drama ones . </s>|<s> <sys> movie I believe you said Drama . What' s the time period? </s>|<s> <usr> movie Movies in 90s </s>
movie:: True: <sys> movie Which country' s movie? ||| Pred: <sys> movie Alright, dont_care . {" QUERY ": {"# genre ": " dont_care ", "# years ": " 90s ", "# country ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9726971387863159) movie(0.7345386743545532) .(0.8268587589263916) 90s(0.5641488432884216) </s>(0.5286929607391357)]]
-
Source:  </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I like Action movies . </s>|<s> <sys> movie I believe you said Action . Movie in what years? </s>|<s> <usr> movie In 60s . Action . </s>
movie:: True: <sys> movie I believe you said 60s . Movie from what country? ||| Pred: <sys> movie I believe you said 60s . {" QUERY ": {"# genre ": " Action ", "# years ": " Action ", "# country ": " Action "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9944319128990173) movie(0.6145752668380737) believe(0.8831058144569397) you(0.7795961499214172) said(0.2583761513233185) 60s(0.9636147022247314) .(0.3722129464149475) Action(0.5090848803520203) Action(0.36897560954093933) Action(0.5347675085067749) </s>(0.6212745308876038)]]
-
Source: </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Music ones . </s>|<s> <sys> movie I believe you said Music . What' s the time period? </s>|<s> <usr> movie Whatever is good . </s>
movie:: True: <sys> movie Alright, dont_care . Movie from what country? ||| Pred: <sys> movie Alright, dont_care . {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9932591915130615) movie(0.8569047451019287) .(0.610251247882843) </s>(0.44712716341018677)]]
-
Source: </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Fantasy . </s>|<s> <sys> movie I believe you said Fantasy . What' s the time period? </s>|<s> <usr> movie Movies in 90s Fantasy . </s>
movie:: True: <sys> movie I believe you said 90s . Movie from what country? ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Fantasy ", "# years ": " Fantasy ", "# country ": " 90s ", "# country ": " 90s "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9974695444107056) movie(0.14382041990756989) Fantasy(0.5020800232887268) Fantasy(0.5622196197509766) 90s(0.8354594111442566) 90s(0.34809282422065735) </s>(0.7165545225143433)]]
-
Source: > <sys> movie What genre do you like? </s>|<s> <usr> movie I like Action movies . </s>|<s> <sys> movie I believe you said Action . What' s the time period? </s>|<s> <usr> movie Anything is fine . </s>
movie:: True: <sys> movie Okay, you dont_care . Which country' s movie? ||| Pred: <sys> movie Alright, dont_care . {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " Action "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.993914783000946) movie(0.8416847586631775) .(0.40982216596603394) Action(0.510760486125946) </s>(0.6620497703552246)]]
-
Source: s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Music ones . </s>|<s> <sys> movie I believe you said Music . Movie in what years? </s>|<s> <usr> movie Movies in 2010 - present </s>
movie:: True: <sys> movie I believe you said 2010 - present . Movie from what country? ||| Pred: <sys> movie {" QUERY ": {"# genre ": " - ", "# years ": " 2010 - present ", "# country ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9879462122917175) movie(0.29080456495285034) -(0.610817551612854) 2010(0.9278092384338379) -(0.9720416069030762) Music(0.20002388954162598) </s>(0.6814845204353333)]]
-
Source: ? </s>|<s> <usr> movie Music movies . </s>|<s> <sys> movie I believe you said Music . What' s the time period? </s>|<s> <usr> movie That' s wrong . Horror movies . Uhm sorry, Crime movies . I don </s>
movie:: True: <sys> movie I believe you said Crime . Okay, you dont_care . Movie from what country? ||| Pred: <sys> movie Alright, dont_care . {" QUERY ": {"# genre ": " dont_care ", "# years ": " dont_care ", "# country ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9951570630073547) movie(0.8830888867378235) ,(0.4634137451648712) .(0.15188486874103546) Music(0.26042231917381287) </s>(0.507558286190033)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.440633 recall 0.631380 and f1 0.519037
Intent precision 0.852354 recall 0.772463 and f1 0.810444
KB precision 0.931206 recall 0.696495 and f1 0.796928
BLEU 0.541038 BEAK 0.652593

request: 0.44061680479904086
implicit_confirm: 0.4410113704777694
query: 0.6774551607391408
explicit_confirm: 0.14162905353047403
inform: 0.6245545849733526
greet: 0.5434330631093598
goodbye: 0.07875709753145171

Generation Done
Update patience to 14.0
Model Saved.

**** Epcoch 7/100 ****
200/1000-(0.000): Train nll 0.069 PPL 1.072 attn_loss 0.120 distance 0.269 distance_semantic 0.011 loss_pack_warm 1.456 distance1 0.027
400/1000-(0.000): Train nll 0.073 PPL 1.076 attn_loss 0.126 distance 0.268 distance_semantic 0.009 loss_pack_warm 1.437 distance1 0.027
600/1000-(0.000): Train nll 0.067 PPL 1.069 attn_loss 0.127 distance 0.267 distance_semantic 0.009 loss_pack_warm 1.519 distance1 0.030
800/1000-(0.000): Train nll 0.069 PPL 1.071 attn_loss 0.120 distance 0.275 distance_semantic 0.011 loss_pack_warm 1.533 distance1 0.030
0/1000-(0.000): Train nll 0.068 PPL 1.070 attn_loss 0.112 distance 0.281 distance_semantic 0.008 loss_pack_warm 1.502 distance1 0.029

=== Evaluating Model ===
Train nll 0.069 PPL 1.072 attn_loss 0.121 distance 0.272 distance_semantic 0.010 loss_pack_warm 1.489 distance1 0.029
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.122 PPL 1.130 attn_loss 0.164 distance 0.263 distance_semantic 0.219 loss_pack_warm 0.219 distance1 0.219
Total valid loss 0.16768589615821838
Generation: 50 batches
Source: t else can I do? </s>|<s> <usr> movie I like Crime movies . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " 90s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 76 "}} </s>
movie:: True: <sys> movie Movie 76 is a good choice . What else can I do? ||| Pred: <sys> movie Movie 76 is a good choice . What else can I do?
[[Attention: <sys>(0.9707980751991272) movie(0.33818233013153076) 76(0.9996063113212585) is(0.9225379228591919) a(0.845561683177948) good(0.9772096276283264) choice(0.9806874394416809) .(0.37388861179351807) else(0.9966239929199219) can(0.947736918926239) I(0.4728788137435913) do(0.9151934385299683) ?(0.41610926389694214) </s>(0.3936871290206909)]]
-
Source: <usr> movie Movie from Thailand hmm I like Action movies . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 61 "}} </s>
movie:: True: <sys> movie Movie 61 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie Movie 61 is a good choice . What else can I do?
[[Attention: <sys>(0.35140782594680786) movie(0.6778184175491333) 61(0.9997010827064514) .(0.4193955361843109) can(0.24970221519470215) I(0.6296959519386292) do(0.9928498268127441) ?(0.8332081437110901) </s>(0.36445853114128113)]]
-
Source: about my answer? </s>|<s> <usr> movie Fantasy movies . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 90s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 123 "}} </s>
movie:: True: <sys> movie Movie 123 is a good choice . Anything else? ||| Pred: <sys> movie Movie 123 is a good choice . What else can I do?
[[Attention: <sys>(0.9369466304779053) movie(0.7186827659606934) 123(0.9994010925292969) is(0.9685678482055664) a(0.9994531273841858) good(0.9962498545646667) choice(0.9915163516998291) .(0.6811493039131165) can(0.22541651129722595) I(0.4654357433319092) ?(0.8181198835372925) </s>(0.32725775241851807)]]
-
Source: s . Do you mean Germany? </s>|<s> <usr> movie Yep . </s>|<s> <sys> movie I believe you said Germany . {" QUERY ": {"# genre ": " Drama ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 25 "}} </s>
movie:: True: <sys> movie Movie 25 is a good choice . What else can I do? ||| Pred: <sys> movie Movie 25 is a good choice . What else can I do?
[[Attention: <sys>(0.6035864949226379) movie(0.4925437867641449) 25(0.9999995231628418) a(0.955072283744812) .(0.4485469162464142) can(0.3034941256046295) I(0.5488877296447754) do(0.9617969989776611) ?(0.7897937297821045) </s>(0.3997306227684021)]]
-
Source: care, right? </s>|<s> <usr> movie Yeah . </s>|<s> <sys> movie Alright, dont_care . {" QUERY ": {"# genre ": " Western ", "# years ": </s>|<s> <usr> movie Nope . {" RET ": {"# default ": " 106 "}} </s>
movie:: True: <sys> movie Movie 106 is a good choice . Anything else? ||| Pred: <sys> movie Movie 106 is a good choice . What else can I do?
[[Attention: <sys>(0.4362224340438843) movie(0.5028049945831299) 106(0.999993085861206) .(0.3930453360080719) I(0.6110420823097229) do(0.9984349608421326) ?(0.5424327850341797) </s>(0.44293272495269775)]]
-
Source: u dont_care, right? </s>|<s> <usr> movie That' s correct . </s>|<s> <sys> movie Do you mean 60s? </s>|<s> <usr> movie Yes . </s>|<s> <sys> movie Do you mean Thailand? </s>|<s> <usr> movie Wrong . </s>
movie:: True: <sys> movie Which country' s movie? ||| Pred: <sys> movie What genre do you like?
[[Attention: <sys>(0.3218315541744232) movie(0.28019583225250244) do(0.44010689854621887) you(0.849247932434082) ?(0.5624242424964905) </s>(0.584209680557251)]]
-
Source: resent </s>|<s> <usr> movie {" RET ": {"# default ": " 102 "}} </s>|<s> <sys> movie Movie 102 is a good choice . What else can I do? </s>|<s> <usr> movie One more uhm thing . Is it directed by J? </s>
movie:: True: <sys> movie What do you need? ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Music ", "# years ": " 2010 - - present ", "# country ": " Los - present ", "# country ": " Los Angeles "}, " GOALS ": ["# parking
[[Attention: <sys>(0.9413416385650635) movie(0.5498425364494324) QUERY(0.9704930186271667) ":(0.9410659074783325) {"#(0.9533683657646179) ":(0.1956547200679779) "(0.6530490517616272) Music(0.9558133482933044) ",(0.8635550141334534) "#(0.7031108140945435) "(0.4614057242870331) 2010(0.9254793524742126) -(0.538634181022644) -(0.46944892406463623) "(0.33009791374206543) -(0.5236551761627197) "(0.24240386486053467) "(0.4225156605243683) ":(0.9299641847610474)]]
-
Source:  <usr> movie One more thing . Does it have a very bad rating? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " 80s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 3 "}} </s>
movie:: True: <sys> movie No, The rating is 3 . What else can I do? ||| Pred: <sys> movie No, The movie is 3 . What else can I do?
[[Attention: <sys>(0.938348650932312) movie(0.34952664375305176) movie(0.47811415791511536) 3(0.9998443126678467) .(0.9619264006614685) else(0.9624351859092712) I(0.7050623893737793) do(0.9963977336883545) ?(0.7238227725028992) </s>(0.6105936169624329)]]
-
Source: ut my answer? </s>|<s> <usr> movie Movie from France </s>|<s> <sys> movie I believe you said France . {" QUERY ": {"# genre ": " Crime ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 83 "}} </s>
movie:: True: <sys> movie Movie 83 is a good choice . What else can I do? ||| Pred: <sys> movie Movie 83 is a good choice . What else can I do?
[[Attention: <sys>(0.8810772895812988) movie(0.37211355566978455) 83(0.9986874461174011) is(0.11370238661766052) a(0.9992948770523071) good(0.995902955532074) choice(0.9914060831069946) .(0.8636235594749451) can(0.2630947530269623) I(0.44163742661476135) do(0.9946702122688293) ?(0.43650057911872864) </s>(0.264599472284317)]]
-
Source: n USA? </s>|<s> <usr> movie Uh - huh . </s>|<s> <sys> movie I believe you said USA . {" QUERY ": {"# genre ": " Action ", "# </s>|<s> <usr> movie That' s wrong . {" RET ": {"# default ": " 45 "}} </s>
movie:: True: <sys> movie Movie 45 is a good choice . Anything else? ||| Pred: <sys> movie Movie 45 is a good choice . What else can I do?
[[Attention: <sys>(0.5279697179794312) movie(0.6091958284378052) 45(0.9999967813491821) a(0.9718319773674011) .(0.5730846524238586) can(0.814473032951355) I(0.5054700374603271) do(0.9996579885482788) ?(0.9400827288627625) </s>(0.5362163186073303)]]
-
Source: ovie 43 is a good choice . Anything else? </s>|<s> <usr> movie A new search . Mexico . </s>|<s> <sys> movie I believe you said Mexico . Do you mean Fantasy? </s>|<s> <usr> movie That' s correct . </s>
movie:: True: <sys> movie Do you mean 2010 - present? ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Fantasy ", "# years ": " 2010 - - present ", "# country ": " Los - present ", "# country ": " Los Angeles "}, " GOALS ": ["# default
[[Attention: <sys>(0.7181655764579773) movie(0.3784036636352539) {"(0.121213898062706) QUERY(0.9939101934432983) ":(0.929189145565033) {"#(0.8564602136611938) ":(0.15738168358802795) "(0.8100590109825134) Fantasy(0.9006544351577759) ",(0.9207690954208374) "#(0.6551564335823059) "#(0.18524375557899475) "(0.7892374992370605) 2010(0.6458660960197449) -(0.776616096496582) -(0.4987581968307495) "(0.434780091047287) said(0.26328060030937195) -(0.36264362931251526) "(0.35302338004112244) "(0.8885205984115601) ":(0.8971046209335327) default(0.6464189887046814)]]
-
Source: <sys> movie Do you mean 90s? </s>|<s> <usr> movie Yep . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 90s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 96 "}} </s>
movie:: True: <sys> movie Movie 96 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie Movie 96 is a good choice . What else can I do?
[[Attention: <sys>(0.39674341678619385) movie(0.422579288482666) 96(0.9999972581863403) is(0.4885900616645813) .(0.27552270889282227) can(0.20889009535312653) I(0.8175771236419678) ?(0.8615168929100037) </s>(0.49911150336265564)]]
-
Source: . Do you mean 90s? </s>|<s> <usr> movie That' s correct . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 90s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 175 "}} </s>
movie:: True: <sys> movie Movie 175 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie Movie 175 is a good choice . What else can I do?
[[Attention: <sys>(0.34493282437324524) movie(0.48500165343284607) 175(0.9999922513961792) .(0.40074774622917175) can(0.7966163158416748) I(0.6983348727226257) do(0.9996243715286255) ?(0.9567674398422241) </s>(0.5699554085731506)]]
-
Source: 8 is a good choice . What else can I do? </s>|<s> <usr> movie One more thing . Is this movie from 20th Century Fox? </s>|<s> <sys> movie What can I do for you? </s>|<s> <usr> movie Which company? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " 80s ", "# country ": " Korea "}, " GOALS ": ["# company "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " company ", "# years ": " Korea "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9822447896003723) movie(0.20164825022220612) {"(0.17183135449886322) QUERY(0.9949102997779846) ":(0.7815842032432556) {"#(0.9762943387031555) ":(0.3319351375102997) "(0.9057168364524841) company(0.9970877766609192) ",(0.9428373575210571) "#(0.9647772312164307) "(0.8921459913253784) Korea(0.5672404170036316) "(0.8059800863265991) ":(0.8181838989257812) default(0.8754984140396118) </s>(0.4245806336402893)]]
-
Source: "# default ": " 177 "}} </s>|<s> <sys> movie Movie 177 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie I uhm yeah I have more requests . Which company produced this movie?. </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 90s ", "# country ": " Russia "}, " GOALS ": ["# company "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " Russia - present ", "# country ": " Russia "}, " GOALS ": ["# director "]}
[[Attention: <sys>(0.9797487854957581) movie(0.40281182527542114) QUERY(0.9860605001449585) ":(0.9755629301071167) {"#(0.9967228770256042) ":(0.31990161538124084) "(0.7566993832588196) dont_care(0.9823054671287537) ",(0.8154200911521912) "#(0.9744850397109985) ":(0.1445208191871643) "(0.7028236389160156) Russia(0.951681911945343) -(0.8705112934112549) "(0.5071908235549927) Russia(0.9991515874862671) -(0.10722219198942184) "(0.6602217555046082) ":(0.7314733266830444) </s>(0.4648222029209137)]]
-
Source: sent </s>|<s> <usr> movie {" RET ": {"# rating ": " 3 "}} </s>|<s> <sys> movie This movie has a rating of 3 . What else can I do? </s>|<s> <usr> movie I want to search a new one . Family movies . </s>
movie:: True: <sys> movie Do you mean 2010 - present? ||| Pred: <sys> movie Do you mean 2010 - present?
[[Attention: <sys>(0.7962892651557922) movie(0.9187892079353333) you(0.6021593809127808) 2010(0.5564998388290405) -(0.7589526772499084) ?(0.1713533252477646) </s>(0.4968102276325226)]]
-
Source: else? </s>|<s> <usr> movie Not done yet . Who directed it? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Comedy ", "# years ": " 90s ", "# </s>|<s> <usr> movie {" RET ": {"# director ": " A "}} </s>
movie:: True: <sys> movie The director is A . What else can I do? ||| Pred: <sys> movie The movie is A . What else can I do?
[[Attention: <sys>(0.9348894953727722) movie(0.6106935143470764) movie(0.8077996969223022) A(0.9999973773956299) .(0.3673843741416931) else(0.987453043460846) can(0.8060641288757324) I(0.3080224096775055) do(0.975207507610321) ?(0.4175114631652832) </s>(0.3869466781616211)]]
-
Source: # </s>|<s> <usr> movie Uh - huh . {" RET ": {"# default ": " 74 "}} </s>|<s> <sys> movie Movie 74 is a good choice . What else can I do? </s>|<s> <usr> movie Sci - Fi movies . uhm Oh no, Comedy . </s>
movie:: True: <sys> movie I believe you said Comedy . {" QUERY ": {"# genre ": " Comedy ", "# years ": " 60s ", "# country ": " dont_care "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Fantasy ", "# years ": " Fantasy ", "# country ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9705455899238586) movie(0.4641282260417938) {"(0.25147658586502075) QUERY(0.5859467387199402) ":(0.5376911759376526) {"#(0.5387738943099976) ":(0.4830320477485657) "(0.5313162207603455) Fantasy(0.8231282830238342) ",(0.8660526871681213) "#(0.9703285694122314) ":(0.11133880168199539) "(0.43527722358703613) Fantasy(0.6930769085884094) Fantasy(0.22791992127895355) "(0.3146170973777771) dont_care(0.8878490328788757) "(0.621093213558197) ":(0.7383682131767273) default(0.41043511033058167) </s>(0.3369925022125244)]]
-
Source: right? </s>|<s> <usr> movie No . </s>|<s> <sys> movie Okay, you dont_care, do you? </s>|<s> <usr> movie Nay . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I love Sport ones . </s>
movie:: True: <sys> movie I believe you said Sport . {" QUERY ": {"# genre ": " Sport ", "# years ": " 80s ", "# country ": " Thailand "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie Alright, dont_care . {" QUERY ": {"# food_pref ": " Thailand ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.39681050181388855) movie(0.2602047324180603) ,(0.424256831407547) dont_care(0.11864427477121353) Thailand(0.6010303497314453) 80s(0.20470094680786133) </s>(0.39801082015037537)]]
-
Source: amily ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 176 "}} </s>|<s> <sys> movie Movie 176 is a good choice . Anything else? </s>|<s> <usr> movie Not done yet . Is it directed hmm...by Z? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 60s ", "# country ": " Russia "}, " GOALS ": ["# director "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " Russia "}, " GOALS ": ["# director "]}
[[Attention: <sys>(0.8357921838760376) movie(0.14772965013980865) {"(0.607643187046051) QUERY(0.9980239868164062) ":(0.9821767807006836) {"#(0.9922608733177185) ":(0.27220532298088074) "(0.7824775576591492) Family(0.7574809193611145) ",(0.9759254455566406) "#(0.9852433204650879) "(0.7288362383842468) Russia(0.5840321779251099) "(0.6035866737365723) ":(0.8810114860534668) </s>(0.40543895959854126)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.506173 recall 0.670757 and f1 0.576957
Intent precision 0.858156 recall 0.784187 and f1 0.819506
KB precision 0.915888 recall 0.638957 and f1 0.752760
BLEU 0.519967 BEAK 0.655891

request: 0.41981802203338303
inform: 0.655502512173134
explicit_confirm: 0.17503248078667993
query: 0.570911698256523
implicit_confirm: 0.3767738267919837
goodbye: 0.24157071778855266
greet: 0.5461503650230637

Generation Done
Update patience to 16.0
Model Saved.

**** Epcoch 8/100 ****
200/1000-(0.000): Train nll 0.068 PPL 1.070 attn_loss 0.143 distance 0.288 distance_semantic 0.010 loss_pack_warm 1.568 distance1 0.042
400/1000-(0.000): Train nll 0.066 PPL 1.069 attn_loss 0.136 distance 0.293 distance_semantic 0.008 loss_pack_warm 1.705 distance1 0.035
600/1000-(0.000): Train nll 0.071 PPL 1.073 attn_loss 0.186 distance 0.303 distance_semantic 0.009 loss_pack_warm 1.384 distance1 0.045
800/1000-(0.000): Train nll 0.061 PPL 1.063 attn_loss 0.110 distance 0.314 distance_semantic 0.009 loss_pack_warm 1.536 distance1 0.031
0/1000-(0.000): Train nll 0.068 PPL 1.070 attn_loss 0.114 distance 0.301 distance_semantic 0.007 loss_pack_warm 1.478 distance1 0.025

=== Evaluating Model ===
Train nll 0.067 PPL 1.069 attn_loss 0.138 distance 0.300 distance_semantic 0.009 loss_pack_warm 1.534 distance1 0.036
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.119 PPL 1.126 attn_loss 0.141 distance 0.280 distance_semantic 0.231 loss_pack_warm 0.231 distance1 0.231
Total valid loss 0.16620303690433502
Generation: 50 batches
Source: : " Crime ", "# years ": " dont_care ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 60 "}} </s>|<s> <sys> movie Movie 60 is a good choice . What else can I do? </s>|<s> <usr> movie Drama . </s>
movie:: True: <sys> movie I believe you said Drama . {" QUERY ": {"# genre ": " Drama ", "# years ": " dont_care ", "# country ": " Germany "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " dont_care ", "# country ": " dont_care "}, " GOALS ": ["# company "]}
[[Attention: <sys>(0.5289949774742126) movie(0.6070980429649353) {"(0.21867167949676514) QUERY(0.6273784041404724) ":(0.48150187730789185) {"#(0.33087119460105896) ":(0.30274975299835205) "(0.47645577788352966) dont_care(0.5139873027801514) ",(0.3772074282169342) "#(0.32831043004989624) ":(0.3417845666408539) "(0.41505855321884155) dont_care(0.8165812492370605) ",(0.38926833868026733) ":(0.4325428903102875) "(0.41003212332725525) dont_care(0.3447251617908478) "(0.3711274564266205) ":(0.559472918510437) </s>(0.41899940371513367)]]
-
Source: r> movie {" RET ": {"# company ": " Walt Disney "}} </s>|<s> <sys> movie No, It' s made by Walt Disney . Anything else? </s>|<s> <usr> movie I have more requests . How people hmm rate this movie? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 80s ", "# country ": " France "}, " GOALS ": ["# rating "]} ||| Pred: <sys> movie Goodbye.
[[Attention: <sys>(0.4551149010658264) movie(0.3878542482852936) .(0.3592480719089508) </s>(0.2838391959667206)]]
-
Source: <usr> movie I love Action ones . Oh no, Whatever is good . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 80s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 88 "}} </s>
movie:: True: <sys> movie Movie 88 is a good choice . What else can I do? ||| Pred: <sys> movie Movie 88 is a good choice . Are you happy about my answer?
[[Attention: <sys>(0.28351396322250366) movie(0.2636243999004364) 88(0.9967897534370422) is(0.3303444981575012) a(0.40017104148864746) good(0.319847047328949) choice(0.680267333984375) .(0.6677488684654236) Are(0.1359207183122635) you(0.8805248737335205) happy(0.9925985336303711) about(0.9790568351745605) my(0.9991088509559631) answer(0.9806369543075562) ?(0.3833751082420349) </s>(0.3087007701396942)]]
-
Source: at else can I do? </s>|<s> <usr> movie I love Crime ones . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " 70s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 181 "}} </s>
movie:: True: <sys> movie Movie 181 is a good choice . What else can I do? ||| Pred: <sys> movie 181 181 is a good choice . Are you happy about my answer?
[[Attention: <sys>(0.7201030850410461) movie(0.7609949707984924) 181(0.6394650936126709) 181(0.8874892592430115) is(0.32968494296073914) a(0.5774669051170349) good(0.5715564489364624) choice(0.5511482357978821) .(0.6307300329208374) Are(0.12993855774402618) you(0.9919620156288147) happy(0.995983362197876) about(0.9875445365905762) my(0.9993756413459778) answer(0.9834520220756531) ?(0.3451773524284363) </s>(0.4050063490867615)]]
-
Source: y about my answer? </s>|<s> <usr> movie Western movies . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Western ", "# years ": " 90s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 142 "}} </s>
movie:: True: <sys> movie Movie 142 is a good choice . What else can I do? ||| Pred: <sys> movie Movie 142 is a good choice . Are you happy about my answer?
[[Attention: <sys>(0.9038061499595642) movie(0.5081354975700378) 142(0.9989282488822937) is(0.618751585483551) a(0.4839327335357666) good(0.41404086351394653) choice(0.4817334711551666) .(0.4528597891330719) Are(0.12081564962863922) you(0.6034124493598938) happy(0.6851456165313721) about(0.6768841743469238) my(0.5065979361534119) answer(0.7718434929847717) ?(0.32953545451164246) </s>(0.4743441939353943)]]
-
Source:  Do you mean 80s? </s>|<s> <usr> movie No . </s>|<s> <sys> movie Do you mean 60s? </s>|<s> <usr> movie That' s wrong . </s>|<s> <sys> movie Movie in what years? </s>|<s> <usr> movie Movies in 60s </s>
movie:: True: <sys> movie I believe you said 60s . Do you mean Germany? ||| Pred: <sys> movie Alright, dont_care . {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " Universal "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.8309922814369202) in(0.225493386387825) ,(0.5096698999404907) .(0.4093577563762665) {"(0.10797777771949768) QUERY(0.9168656468391418) ":(0.7981951236724854) {"#(0.9307512640953064) ":(0.9128872156143188) "(0.8241550922393799) 60s(0.21318908035755157) ",(0.4424498379230499) "#(0.8741207122802734) ":(0.8857195973396301) "(0.8076396584510803) Universal(0.8387667536735535) "(0.8685095310211182) ":(0.8677398562431335) </s>(0.5087230205535889)]]
-
Source: years ": " 2000 - 2010 </s>|<s> <usr> movie {" RET ": {"# default ": " 1 "}} </s>|<s> <sys> movie Movie 1 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie Anything is fine . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 2000 - 2010 ", "# country ": " France "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 2000 - 2010 ", "# country ": " <sys> "}, " GOALS ": ["# company "]}
[[Attention: <sys>(0.4226098656654358) movie(0.25680506229400635) {"(0.323311448097229) QUERY(0.692426323890686) ":(0.45100781321525574) {"#(0.4619067311286926) ":(0.2547517418861389) "(0.5307986736297607) Family(0.6189277172088623) ",(0.5745363831520081) ":(0.4143505394458771) "(0.5469165444374084) 2000(0.8891035914421082) -(0.8787533044815063) ":(0.5046014785766602) "(0.394965797662735) <sys>(0.36965397000312805) "(0.29942962527275085) ":(0.46696099638938904) </s>(0.264402836561203)]]
-
Source: , "# years ": " 80s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 174 "}} </s>|<s> <sys> movie Movie 174 is a good choice . Anything else? </s>|<s> <usr> movie Japan . Uhm sorry, Russia . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " 80s ", "# country ": " France "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " 80s ", "# country ": " Russia "}, " GOALS ": ["# company "]}
[[Attention: <sys>(0.9371646046638489) movie(0.2981718182563782) {"(0.3064541518688202) QUERY(0.515516459941864) ":(0.38211679458618164) {"#(0.3121906816959381) ":(0.34717628359794617) "(0.5694279670715332) Crime(0.9824605584144592) ",(0.404964804649353) "#(0.46648404002189636) ":(0.35997486114501953) "(0.7009685039520264) 80s(0.6983388662338257) ":(0.5346388220787048) "(0.34729641675949097) Russia(0.9979091286659241) "(0.41737258434295654) ":(0.4317884147167206) </s>(0.48946911096572876)]]
-
Source:  {" QUERY ": {"# genre ": " Sci </s>|<s> <usr> movie {" RET ": {"# default ": " 72 "}} </s>|<s> <sys> movie Movie 72 is a good choice . What else can I do? </s>|<s> <usr> movie Anything is fine . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Sci - Fi ", "# years ": " 60s ", "# country ": " Germany "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Sci ", "# years ": " 60s ", "# country ": " 60s ", "# country ": " 60s "}, " GOALS ": ["# company "]}
[[Attention: <sys>(0.31035298109054565) movie(0.5437930226325989) {"(0.6900678873062134) QUERY(0.8387752175331116) ":(0.5856972336769104) {"#(0.3878070116043091) QUERY(0.10692266374826431) ":(0.3159332573413849) "(0.39181405305862427) Sci(0.9640784859657288) ",(0.5759038925170898) ":(0.7031405568122864) "(0.3955639600753784) 60s(0.9495307207107544) ":(0.7551154494285583) "(0.3853466808795929) 60s(0.9936291575431824) ":(0.26843827962875366) "(0.24693627655506134) 60s(0.7608547210693359) "(0.34641677141189575) ":(0.7065185308456421) </s>(0.4038025140762329)]]
-
Source: at else can I do? </s>|<s> <usr> movie War movies . </s>|<s> <sys> movie I believe you said Comedy . {" QUERY ": {"# genre ": " Comedy ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 43 "}} </s>
movie:: True: <sys> movie Movie 43 is a good choice . Anything else? ||| Pred: <sys> movie Movie 43 is a good choice . Anything else?
[[Attention: <sys>(0.479774534702301) believe(0.12667293846607208) 43(0.9816043376922607) is(0.3482450544834137) a(0.3279397785663605) good(0.40911194682121277) choice(0.36209505796432495) .(0.3373737037181854) else(0.2679098844528198) ?(0.5240970253944397) </s>(0.5000782012939453)]]
-
Source: /s>|<s> <usr> movie That' s wrong . Nay . </s>|<s> <sys> movie Okay, you dont_care, do you? </s>|<s> <usr> movie Yep . </s>|<s> <sys> movie Okay, you dont_care, do you? </s>|<s> <usr> movie Yep . </s>
movie:: True: <sys> movie Okay, you dont_care . Do you mean Russia? ||| Pred: <sys> movie Alright, dont_care . {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " Universal "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.6987449526786804) <d>(0.476603239774704) ,(0.2064959704875946) .(0.4251047968864441) {"(0.571551501750946) QUERY(0.5898699760437012) ":(0.4406934082508087) {"#(0.6610536575317383) ":(0.4964425265789032) "(0.536126434803009) dont_care(0.3825276792049408) ",(0.555537223815918) "#(0.8530606031417847) ":(0.5071954727172852) "(0.5805351138114929) Universal(0.8359744548797607) "(0.614799439907074) ":(0.43448370695114136) default(0.9306724667549133) </s>(0.37295764684677124)]]
-
Source:  ": " Documentary ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 95 "}} </s>|<s> <sys> movie Movie 95 is a good choice . Anything else? </s>|<s> <usr> movie Sci - Fi . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Documentary ", "# years ": " 60s ", "# country ": " USA "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " 60s ", "# years ": " 60s ", "# country ": " 60s ", "# country ": " Los Angeles "}, " GOALS ": ["# company "]}
[[Attention: <sys>(0.41509509086608887) <d>(0.20092572271823883) {"(0.12198871374130249) QUERY(0.3712996244430542) ":(0.44339922070503235) {"#(0.5420421957969666) ":(0.36408278346061707) "(0.8389017581939697) 60s(0.8530989289283752) ",(0.3964878022670746) "#(0.6224503517150879) ":(0.4250190258026123) "(0.7226155400276184) 60s(0.7928798794746399) ":(0.5286282300949097) "(0.5539325475692749) 60s(0.7210770845413208) "(0.37428513169288635) "(0.6324023604393005) ":(0.5928998589515686) </s>(0.4587642550468445)]]
-
Source:  present </s>|<s> <usr> movie {" RET ": {"# default ": " 165 "}} </s>|<s> <sys> movie Movie 165 is a good choice . Anything else? </s>|<s> <usr> movie Family . Uhm hmm...sorry, Anything is fine . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " 2010 - present ", "# country ": " Thailand "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " 2010 - present ", "# country ": " Los Angeles "}, " GOALS ": ["# company "]}
[[Attention: <sys>(0.8943341970443726) movie(0.31339287757873535) {"(0.48584046959877014) QUERY(0.7607796788215637) ":(0.43870338797569275) {"#(0.5055975317955017) ":(0.49150705337524414) "(0.6613150835037231) Drama(0.9880771636962891) ",(0.5849341154098511) "#(0.9872246980667114) ":(0.5418305993080139) "(0.5335038304328918) 2010(0.940955400466919) -(0.9469351768493652) ":(0.12470205128192902) "(0.34393537044525146) "(0.4099133610725403) ":(0.4711187183856964) </s>(0.347525030374527)]]
-
Source:  - present </s>|<s> <usr> movie {" RET ": {"# default ": " 0 "}} </s>|<s> <sys> movie Movie 0 is a good choice . What else can I do? </s>|<s> <usr> movie Crime movies . Oh no, I like War movies . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Sport ", "# years ": " 2010 - present ", "# country ": " Japan "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Sport ", "# years ": " 2010 - present ", "# country ": " <sys> "}, " GOALS ": ["# company "]}
[[Attention: <sys>(0.872943103313446) movie(0.73558109998703) {"(0.28800392150878906) QUERY(0.3969990909099579) ":(0.3715824782848358) {"#(0.33674904704093933) ":(0.15990571677684784) "(0.5180951356887817) Sport(0.969504177570343) ",(0.3500244915485382) "#(0.8285161852836609) ":(0.3975730538368225) "(0.3983529508113861) 2010(0.8703568577766418) -(0.9345875382423401) ":(0.2712254524230957) "(0.44095176458358765) <sys>(0.29113879799842834) "(0.45820754766464233) ":(0.4913318455219269) </s>(0.33322733640670776)]]
-
Source:  Drama ", "# years ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# rating ": " 3 "}} </s>|<s> <sys> movie The rating is 3 . What else can I do? </s>|<s> <usr> movie New request . Western . </s>
movie:: True: <sys> movie I believe you said Western . Do you mean 2010 - present? ||| Pred: <sys> movie Do you mean 2010 - present?
[[Attention: <sys>(0.8829449415206909) you(0.5324638485908508) 2010(0.6320375800132751) -(0.7476564049720764) ?(0.38407498598098755) </s>(0.32161641120910645)]]
-
Source:  . What else can I do? </s>|<s> <usr> movie I don' t care . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " 80s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 30 "}} </s>
movie:: True: <sys> movie Movie 30 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie Movie 30 is a good choice . What else can I do?
[[Attention: <sys>(0.6830365061759949) movie(0.536916971206665) 30(0.10929257422685623) 30(0.9994827508926392) is(0.43858540058135986) a(0.38651007413864136) good(0.35707101225852966) choice(0.35181835293769836) .(0.25379523634910583) else(0.3290702998638153) can(0.38115188479423523) I(0.28789064288139343) do(0.5607929229736328) ?(0.32100388407707214) </s>(0.2684061527252197)]]
-
Source: can I do? </s>|<s> <usr> movie Movie from China </s>|<s> <sys> movie I believe you said France . {" QUERY ": {"# genre ": " dont_care ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 188 "}} </s>
movie:: True: <sys> movie Movie 188 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie Movie 188 is a good choice . Anything else?
[[Attention: <sys>(0.6074115633964539) movie(0.3844674527645111) 188(0.9655453562736511) is(0.5039921402931213) a(0.29380762577056885) good(0.28615817427635193) choice(0.4886782169342041) .(0.27606600522994995) Anything(0.11381570249795914) else(0.34622135758399963) ?(0.6341594457626343) </s>(0.4341686964035034)]]
-
Source: esent . uhm Uhm sorry, In 70s . </s>|<s> <sys> movie I believe you said 60s . {" QUERY ": {"# genre ": " Family ", "# </s>|<s> <usr> movie Wrong . Movies in 70s {" RET ": {"# default ": " 123 "}} </s>
movie:: True: <sys> movie Movie 123 is a good choice . Are you happy about my answer? ||| Pred: <sys> in Restaurant 123 is a good choice . Are you happy about my answer?
[[Attention: <sys>(0.7149067521095276) in(0.40259864926338196) 123(0.9990360736846924) is(0.602616548538208) a(0.5642528533935547) good(0.41326668858528137) choice(0.39569225907325745) .(0.5031124353408813) Are(0.12618671357631683) you(0.9286370873451233) happy(0.9942895174026489) about(0.9922412633895874) my(0.9995837807655334) answer(0.9963306784629822) ?(0.4122268557548523) </s>(0.4548574388027191)]]
-
Source:  director by X . Are you happy about my answer? </s>|<s> <usr> movie New request . hmm Movie from Japan </s>|<s> <sys> movie I believe you said Japan . Do you mean War? </s>|<s> <usr> movie Yes . </s>
movie:: True: <sys> movie Do you mean War? ||| Pred: <sys> movie Do you mean War?
[[Attention: <sys>(0.5574898719787598) <d>(0.20379087328910828) Do(0.3592126965522766) you(0.36770278215408325) mean(0.6200816631317139) War(0.857954740524292) ?(0.6371775269508362) </s>(0.5489150285720825)]]
-
Source: " 2010 - present </s>|<s> <usr> movie {" RET ": {"# default ": " 27 "}} </s>|<s> <sys> movie Movie 27 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie I like Family movies . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Horror ", "# years ": " 2010 - present ", "# country ": " France "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Horror ", "# years ": " 2010 - present ", "# country ": " Los Angeles "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.7205430269241333) movie(0.4210324287414551) {"(0.3567120432853699) QUERY(0.7042331695556641) ":(0.32663649320602417) {"#(0.2790282070636749) ":(0.28256866335868835) "(0.38844916224479675) Horror(0.9042502045631409) ",(0.33337992429733276) "#(0.9581204652786255) ":(0.3830799162387848) "(0.3395743668079376) 2010(0.9932827949523926) -(0.9089407920837402) ":(0.15817740559577942) "(0.3475380539894104) <sys>(0.1400761753320694) "(0.32753512263298035) ":(0.5134943723678589) </s>(0.5594686269760132)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.513605 recall 0.657952 and f1 0.576886
Intent precision 0.870588 recall 0.791973 and f1 0.829422
KB precision 0.938221 recall 0.705263 and f1 0.805232
BLEU 0.563258 BEAK 0.682533

query: 0.5916003632422768
implicit_confirm: 0.3859042773572567
request: 0.48163698240365926
inform: 0.5882635655796026
explicit_confirm: 0.16352563609915585
goodbye: 0.49667076498297325
greet: 0.5933506633604108

Generation Done
Update patience to 18.0
Model Saved.

**** Epcoch 9/100 ****
200/1000-(0.000): Train nll 0.058 PPL 1.060 attn_loss 0.103 distance 0.298 distance_semantic 0.008 loss_pack_warm 1.606 distance1 0.028
400/1000-(0.000): Train nll 0.059 PPL 1.060 attn_loss 0.113 distance 0.291 distance_semantic 0.008 loss_pack_warm 1.593 distance1 0.028
600/1000-(0.000): Train nll 0.064 PPL 1.067 attn_loss 0.099 distance 0.309 distance_semantic 0.007 loss_pack_warm 1.473 distance1 0.025
800/1000-(0.000): Train nll 0.060 PPL 1.062 attn_loss 0.126 distance 0.299 distance_semantic 0.008 loss_pack_warm 1.499 distance1 0.028
0/1000-(0.000): Train nll 0.056 PPL 1.057 attn_loss 0.110 distance 0.301 distance_semantic 0.007 loss_pack_warm 1.539 distance1 0.028

=== Evaluating Model ===
Train nll 0.059 PPL 1.061 attn_loss 0.110 distance 0.300 distance_semantic 0.007 loss_pack_warm 1.542 distance1 0.027
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.117 PPL 1.124 attn_loss 0.123 distance 0.289 distance_semantic 0.239 loss_pack_warm 0.239 distance1 0.239
Total valid loss 0.16570614278316498
Generation: 50 batches
Source: you said Documentary . Do you mean 60s? </s>|<s> <usr> movie No . </s>|<s> <sys> movie Do you mean 60s? </s>|<s> <usr> movie Yes . </s>|<s> <sys> movie Do you mean 60s? </s>|<s> <usr> movie Yes . </s>
movie:: True: <sys> movie Do you mean Germany? ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Documentary ", "# years ": " 60s ", "# country ": " Los Angeles "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.4349636435508728) Documentary(0.7095515727996826) 60s(0.501058042049408) </s>(0.6988238096237183)]]
-
Source: e you happy about my answer? </s>|<s> <usr> movie In 60s . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 97 "}} </s>
movie:: True: <sys> movie Movie 97 is a good choice . Anything else? ||| Pred: <sys> 97 Restaurant 97 is a good choice . Are you happy about my answer?
[[Attention: <sys>(0.4810135066509247) 97(0.36679449677467346) 97(0.9999521970748901) is(0.9995784163475037) a(0.9972022771835327) good(0.9995249509811401) choice(0.9966815114021301) .(0.501105546951294) you(0.9686680436134338) happy(0.9962621331214905) about(0.9980431795120239) my(0.9994213581085205) answer(0.9980525970458984) ?(0.882332444190979) </s>(0.4945266544818878)]]
-
Source: ou mean Japan? </s>|<s> <usr> movie That' s correct . </s>|<s> <sys> movie I believe you said Japan . {" QUERY ": {"# genre ": " Crime ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 42 "}} </s>
movie:: True: <sys> movie Movie 42 is a good choice . Anything else? ||| Pred: <sys> movie No, The director is Japan . What else can I do?
[[Attention: <sys>(0.5493373274803162) ,(0.3264446556568146) Japan(0.4276106655597687) .(0.8701738119125366) What(0.1721043884754181) can(0.8760826587677002) I(0.7203130125999451) do(0.9884160757064819) ?(0.963532567024231) </s>(0.7433569431304932)]]
-
Source: appy about my answer? </s>|<s> <usr> movie Germany . </s>|<s> <sys> movie I believe you said Germany . {" QUERY ": {"# genre ": " Crime ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 5 "}} </s>
movie:: True: <sys> movie Movie 5 is a good choice . Anything else? ||| Pred: <sys> 5 Restaurant 5 is a good choice . Are you happy about my answer?
[[Attention: <sys>(0.7023882865905762) 5(0.5382789373397827) 5(0.9999200105667114) is(0.991790771484375) a(0.9999772310256958) good(0.9996968507766724) choice(0.9978129863739014) .(0.8655171990394592) you(0.8550837635993958) happy(0.9971157312393188) about(0.9981277585029602) my(0.9996392726898193) answer(0.9973575472831726) ?(0.8841530680656433) </s>(0.45494726300239563)]]
-
Source: > <sys> movie Do you mean 60s? </s>|<s> <usr> movie Nay . </s>|<s> <sys> movie Do you mean 60s? </s>|<s> <usr> movie Nope . </s>|<s> <sys> movie Movie in what years? </s>|<s> <usr> movie In 90s . </s>
movie:: True: <sys> movie Do you mean 90s? ||| Pred: <sys> movie Do you mean 60s?
[[Attention: <sys>(0.6202781200408936) <d>(0.1454649716615677) you(0.3670637309551239) mean(0.5912652611732483) 60s(0.5379784107208252) ?(0.6840059757232666) </s>(0.33878353238105774)]]
-
Source:  . I love Western ones . </s>|<s> <sys> movie I believe you said China . {" QUERY ": {"# genre ": " Western ", "# </s>|<s> <usr> movie Wrong . Movie from China Oh no, Mexico . hmm...{" RET ": {"# </s>
movie:: True: <sys> movie Movie 2 is a good choice . What else can I do? ||| Pred: <sys> movie Restaurant 30 is a good choice . Are you happy about my answer?
[[Attention: <sys>(0.4348112940788269) a(0.6131133437156677) .(0.5167179107666016) you(0.38586243987083435) ?(0.545647382736206) </s>(0.37836992740631104)]]
-
Source: id Germany . Do you mean 70s? </s>|<s> <usr> movie Yep . </s>|<s> <sys> movie I believe you said 70s . {" QUERY ": {"# genre ": " Music ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 1 "}} </s>
movie:: True: <sys> movie Movie 1 is a good choice . Are you happy about my answer? ||| Pred: <sys> 1 Restaurant 1 is a good choice . Are you happy about my answer?
[[Attention: <sys>(0.7643293738365173) 1(0.6227349042892456) 1(0.9999361038208008) .(0.8354089856147766) you(0.8024093508720398) ?(0.7644954919815063) </s>(0.5647297501564026)]]
-
Source: re you happy about my answer? </s>|<s> <usr> movie In 90s . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " 90s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 48 "}} </s>
movie:: True: <sys> movie Movie 48 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie No, The director is Drama . Are you happy about my answer?
[[Attention: <sys>(0.7774956822395325) 48(0.3636537492275238) ,(0.4518389105796814) is(0.9980241060256958) Drama(0.7848121523857117) .(0.9908649325370789) What(0.13862095773220062) you(0.5204653739929199) happy(0.9846826791763306) about(0.9922242164611816) my(0.9992191791534424) answer(0.9971253275871277) ?(0.8816201686859131) </s>(0.3750596046447754)]]
-
Source: ama ", "# years ": </s>|<s> <usr> movie Nay . {" RET ": {"# default ": " 79 "}} </s>|<s> <sys> movie Movie 79 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie From Germany . </s>
movie:: True: <sys> movie Do you mean Germany? ||| Pred: <sys> movie Do you mean Germany?
[[Attention: <sys>(0.9656084775924683) <d>(0.19016143679618835) you(0.4197191596031189) Germany(0.6629632711410522) ?(0.4955662786960602) </s>(0.4447447955608368)]]
-
Source: ? </s>|<s> <usr> movie Anything is fine . </s>|<s> <sys> movie Alright, dont_care . {" QUERY ": {"# genre ": " Family ", "# years ": </s>|<s> <usr> movie Nope . {" RET ": {"# default ": " 175 "}} </s>
movie:: True: <sys> movie Movie 175 is a good choice . What else can I do? ||| Pred: <sys> movie Movie 175 is a good choice . Anything else?
[[Attention: <sys>(0.9611579775810242) 182(0.19402188062667847) 175(0.9509401321411133) is(0.881924569606781) a(0.999774158000946) good(0.9890300631523132) choice(0.9868249297142029) .(0.6312177181243896) Anything(0.46261066198349) else(0.9998887777328491) ?(0.92186439037323) </s>(0.5744664072990417)]]
-
Source: rmany . Do you mean Crime? </s>|<s> <usr> movie Uh - huh . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 159 "}} </s>
movie:: True: <sys> movie Movie 159 is a good choice . Anything else? ||| Pred: <sys> movie No, The director is Crime . Are you happy about my answer?
[[Attention: <sys>(0.46136993169784546) Crime(0.9220206141471863) .(0.8357336521148682) you(0.6119070053100586) ?(0.7195711135864258) </s>(0.6344897747039795)]]
-
Source: lse can I do? </s>|<s> <usr> movie I like Action movies . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 80s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 111 "}} </s>
movie:: True: <sys> movie Movie 111 is a good choice . Anything else? ||| Pred: <sys> movie Movie 111 is a good choice . Are you happy about my answer?
[[Attention: <sys>(0.7321979403495789) 111(0.9998617172241211) is(0.9817171096801758) a(0.9998847246170044) good(0.9974328875541687) choice(0.99349445104599) .(0.5835717916488647) you(0.45339179039001465) ?(0.6976867914199829) </s>(0.590145468711853)]]
-
Source: vie {" RET ": {"# default ": " 163 "}} </s>|<s> <sys> movie Movie 163 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie Not done yet . Which uhm company produced this movie?. </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 2010 - present ", "# country ": " Germany "}, " GOALS ": ["# company "]} ||| Pred: <sys> restaurant {" QUERY ": {"# food_pref ": " Action ", "# loc ": " Action "}, " GOALS ": ["# parking "]}
[[Attention: <sys>(0.9829778075218201) {"(0.8488790988922119) QUERY(0.999599277973175) ":(0.95020991563797) {"#(0.9938350915908813) ":(0.9478835463523865) "(0.9783769845962524) Action(0.8535856008529663) ",(0.9473212361335754) "#(0.9963944554328918) ":(0.9513996839523315) "(0.9673271775245667) Action(0.5487459301948547) "(0.970170259475708) ":(0.9674387574195862) </s>(0.5025683641433716)]]
-
Source:  Wrong . Movies in 80s I hmm...like Action movies . </s>|<s> <sys> movie I believe you said Action . {" QUERY ": {"# genre ": " Action ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 65 "}} </s>
movie:: True: <sys> movie Movie 65 is a good choice . Are you happy about my answer? ||| Pred: <sys> 65 Restaurant 65 is a good choice . Are you happy about my answer?
[[Attention: <sys>(0.4693794548511505) 65(0.36065858602523804) 65(1.0) .(0.885586678981781) you(0.4457056522369385) ?(0.7341799139976501) </s>(0.5848649740219116)]]
-
Source:  . Which country' s </s>|<s> <usr> movie From Korea . </s>|<s> <sys> movie Do you mean Korea? </s>|<s> <usr> movie No . </s>|<s> <sys> movie Movie from what country? </s>|<s> <usr> movie Russia . </s>
movie:: True: <sys> movie Do you mean Russia? ||| Pred: <sys> movie Do you mean movie?
[[Attention: <sys>(0.5950393676757812) <d>(0.13432659208774567) you(0.4472922384738922) mean(0.994309663772583) movie(0.35480594635009766) ?(0.426673948764801) </s>(0.561103343963623)]]
-
Source: Movie from what country? </s>|<s> <usr> movie Russia . </s>|<s> <sys> movie Do you mean 90s? </s>|<s> <usr> movie That' s correct . </s>|<s> <sys> movie Do you mean 90s? </s>|<s> <usr> movie No . </s>
movie:: True: <sys> movie What' s the time period? ||| Pred: <sys> restaurant What kind of food do you like?
[[Attention: <sys>(0.9558963775634766) <d>(0.10368067771196365) What(0.5967974066734314) do(0.6660463213920593) you(0.5931156873703003) like(0.9344884157180786) ?(0.8064792156219482) </s>(0.7441317439079285)]]
-
Source:  ": " Documentary ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 17 "}} </s>|<s> <sys> movie Movie 17 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie Action movies . </s>
movie:: True: <sys> movie I believe you said Action . {" QUERY ": {"# genre ": " Action ", "# years ": " 90s ", "# country ": " Korea "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie I believe you said Documentary . {" QUERY ": {"# food_pref ": " Documentary ", "# loc ": " Korea "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.6526742577552795) {"(0.10493569821119308) believe(0.7128729820251465) you(0.5155390501022339) said(0.501950740814209) Documentary(0.7143027186393738) .(0.5593762993812561) {"(0.9188762903213501) QUERY(0.9996476173400879) ":(0.9529757499694824) {"#(0.9799748063087463) ":(0.9764348268508911) "(0.9974537491798401) Documentary(0.9756666421890259) ",(0.9844589233398438) "#(0.9866413474082947) ":(0.9376702308654785) "(0.9209029078483582) Korea(0.7626783847808838) "(0.9495224952697754) ":(0.9680401682853699) default(0.9984992742538452) </s>(0.5344128012657166)]]
-
Source:  <sys> movie Do you mean 70s? </s>|<s> <usr> movie Yeah . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 70s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 140 "}} </s>
movie:: True: <sys> movie Movie 140 is a good choice . What else can I do? ||| Pred: <sys> movie No, The director is 140 . Are you happy about my answer?
[[Attention: <sys>(0.2917426526546478) 140(0.328989714384079) 140(0.8373391628265381) .(0.7794162631034851) you(0.7966710329055786) ?(0.6488643884658813) </s>(0.5730330348014832)]]
-
Source: years ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# default ": " 105 "}} </s>|<s> <sys> movie Movie 105 is a good choice . What else can I do? </s>|<s> <usr> movie New request . In 90s . </s>
movie:: True: <sys> movie I believe you said 90s . Do you mean Family? ||| Pred: <sys> restaurant I believe you said 90s . Do you mean 2010 -
[[Attention: <sys>(0.6388247609138489) I(0.24353370070457458) believe(0.5344994068145752) you(0.4889657199382782) said(0.9361118674278259) 90s(0.9970809817314148) .(0.870964527130127) Do(0.2759801149368286) you(0.4057402014732361) mean(0.9502847194671631) 2010(0.8555262088775635) -(0.6719379425048828) </s>(0.6813240051269531)]]
-
Source: vie I have more requests . Is it directed hmm...by E? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " dont_care ", "# </s>|<s> <usr> movie {" RET ": {"# director ": " X "}} </s>
movie:: True: <sys> movie No, The director is X . Are you happy about my answer? ||| Pred: <sys> restaurant No, The restaurant serves X food . Anything else?
[[Attention: <sys>(0.9383326172828674) ,(0.9932761192321777) {"(0.24583061039447784) X(0.9818881154060364) .(0.4841841161251068) Anything(0.29921314120292664) else(0.9988497495651245) ?(0.9415590167045593) </s>(0.6418089866638184)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.388952 recall 0.590753 and f1 0.469069
Intent precision 0.814447 recall 0.776865 and f1 0.795212
KB precision 0.930348 recall 0.645384 and f1 0.762099
BLEU 0.377089 BEAK 0.572195

explicit_confirm: 0.17157654649498127
request: 0.2246127186622768
inform: 0.3641216384391266
query: 0.48971465655937185
implicit_confirm: 0.3760728128890412
greet: 0.0669865486355152
goodbye: 0.3661793071607643

Generation Done
Model Saved.

**** Epcoch 10/100 ****
200/1000-(0.000): Train nll 0.064 PPL 1.066 attn_loss 0.108 distance 0.297 distance_semantic 0.007 loss_pack_warm 1.475 distance1 0.024
400/1000-(0.000): Train nll 0.055 PPL 1.056 attn_loss 0.110 distance 0.300 distance_semantic 0.006 loss_pack_warm 1.644 distance1 0.025
600/1000-(0.000): Train nll 0.062 PPL 1.064 attn_loss 0.102 distance 0.312 distance_semantic 0.006 loss_pack_warm 1.494 distance1 0.025
800/1000-(0.000): Train nll 0.056 PPL 1.058 attn_loss 0.125 distance 0.309 distance_semantic 0.006 loss_pack_warm 1.553 distance1 0.027
0/1000-(0.000): Train nll 0.058 PPL 1.060 attn_loss 0.102 distance 0.308 distance_semantic 0.006 loss_pack_warm 1.618 distance1 0.025

=== Evaluating Model ===
Train nll 0.059 PPL 1.061 attn_loss 0.109 distance 0.305 distance_semantic 0.006 loss_pack_warm 1.557 distance1 0.025
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.112 PPL 1.119 attn_loss 0.136 distance 0.295 distance_semantic 0.241 loss_pack_warm 0.241 distance1 0.241
Total valid loss 0.16173580288887024
Generation: 50 batches
Source: : " T "}} </s>|<s> <sys> movie It' s director by T . What else can I do? </s>|<s> <usr> movie A new search . Movie from Korea </s>|<s> <sys> movie You dont_care, right? </s>|<s> <usr> movie Yep . </s>
movie:: True: <sys> movie Alright, dont_care . Do you mean 2010 - present? ||| Pred: <sys> movie Alright, dont_care . {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.5330026149749756) movie(0.47038304805755615) ,(0.967361330986023) dont_care(0.9639204144477844) .(0.7536094784736633) {"(0.8644776940345764) QUERY(0.6910196542739868) ":(0.9859541058540344) {"#(0.972590982913971) ":(0.9929942488670349) "(0.9821603298187256) dont_care(0.5349359512329102) ",(0.8167174458503723) ":(0.9898505210876465) "(0.9804334044456482) dont_care(0.9959483742713928) "(0.9851855635643005) ":(0.9734420776367188) default(0.9139716029167175) </s>(0.2952268123626709)]]
-
Source: r> movie That' s wrong . Movies in 2010 - present {" RET ": {"# default ": </s>|<s> <sys> movie Movie 73 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie In 2010 - present . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 2010 - present ", "# country ": " Mexico "}, " GOALS ": ["# default "]} ||| Pred: <sys> in {" QUERY ": {"# food_pref ": " 2000 ", "# loc ": " 2000 - 2010 ", "# country ": " Boston "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9938368201255798) in(0.6522829532623291) {"(0.41095006465911865) QUERY(0.548383891582489) ":(0.7997292280197144) {"#(0.5990138053894043) ":(0.8528779149055481) "(0.8535420894622803) 2000(0.6848081946372986) -(0.3080606162548065) "#(0.9864598512649536) ":(0.6664950251579285) "(0.5845650434494019) 2000(0.42415621876716614) "(0.5192179679870605) "(0.8077419996261597) ":(0.8053103089332581) default(0.9746026992797852) </s>(0.3609616160392761)]]
-
Source: QUERY ": {"# </s>|<s> <usr> movie Yeah . {" RET ": {"# default ": " 130 "}} </s>|<s> <sys> movie Movie 130 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie Movie from France </s>
movie:: True: <sys> movie I believe you said China . {" QUERY ": {"# genre ": " Family ", "# years ": " 70s ", "# country ": " China "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " China ", "# years ": " China ", "# country ": " China "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9786369800567627) movie(0.27343788743019104) {"(0.3597826659679413) QUERY(0.8744347095489502) ":(0.7723650932312012) {"#(0.4428464472293854) ":(0.6172842383384705) "(0.5374352335929871) China(0.9318591356277466) ":(0.76326984167099) "(0.594079852104187) China(0.9176004528999329) "(0.6702186465263367) China(0.8622831106185913) "(0.5293362736701965) ":(0.9155421257019043) default(0.5571706891059875) </s>(0.4640656113624573)]]
-
Source: , "# </s>|<s> <usr> movie Nope . {" RET ": {"# default ": " 184 "}} </s>|<s> <sys> movie Movie 184 is a good choice . Anything else? </s>|<s> <usr> movie From China . Uhm sorry, Movie from France </s>
movie:: True: <sys> movie I believe you said Korea . {" QUERY ": {"# genre ": " Crime ", "# years ": " 2010 - present ", "# country ": " Korea "}, " GOALS ": ["# default "]} ||| Pred: <sys> 184 {" QUERY ": {"# food_pref ": " Crime ", "# loc ": " Korea "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9672096371650696) 184(0.5562368035316467) {"(0.6634582281112671) QUERY(0.9966862797737122) ":(0.9952936768531799) {"#(0.6034926176071167) ":(0.992555558681488) "(0.9905016422271729) Crime(0.9526686072349548) ",(0.998673677444458) "#(0.988689124584198) ":(0.9902473092079163) "(0.982923686504364) Korea(0.8444816470146179) "(0.9425774216651917) ":(0.9752457141876221) default(0.9928756952285767) </s>(0.4388529658317566)]]
-
Source: > <sys> movie I believe you said Crime . Do you mean 60s? </s>|<s> <usr> movie No . Yes . </s>|<s> <sys> movie I believe you said 60s . Do you mean Germany? </s>|<s> <usr> movie That' s correct . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " 60s ", "# country ": " Germany "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " 60s ", "# years ": " 60s ", "# country ": " Los Angeles "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.5086338520050049) movie(0.19166520237922668) 60s(0.9877897500991821) 60s(0.9915041327476501) </s>(0.6979438662528992)]]
-
Source: <s> <usr> movie One more thing . Is it directed by G? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Documentary ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# director ": " D "}} </s>
movie:: True: <sys> movie No, It' s director by D . Are you happy about my answer? ||| Pred: <sys> restaurant No, The movie is D . What else can I do?
[[Attention: <sys>(0.9988821148872375) ,(0.9168818593025208) movie(0.7255892753601074) D(0.9923998713493347) .(0.8332622051239014) What(0.6496056318283081) can(0.7750668525695801) I(0.5568437576293945) do(0.966324508190155) ?(0.8291827440261841) </s>(0.33470168709754944)]]
-
Source: o? </s>|<s> <usr> movie In 60s . </s>|<s> <sys> movie I believe you said 90s . {" QUERY ": {"# genre ": " Action ", "# </s>|<s> <usr> movie That' s wrong . In 60s . uhm {" RET ": {"# default ": " </s>
movie:: True: <sys> movie Movie 166 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie No, This place has 60s . What else can I do?
[[Attention: <sys>(0.8623230457305908) uhm(0.14412689208984375) 60s(0.9948195815086365) .(0.3585662543773651) else(0.2645261287689209) can(0.8242897391319275) I(0.505029022693634) do(0.5412116050720215) ?(0.3016221821308136) </s>(0.3671645224094391)]]
-
Source:  {"# default ": " 32 "}} </s>|<s> <sys> movie Movie 32 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie I uhm yeah I have more requests . Which company produced this movie?. </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Western ", "# years ": " 60s ", "# country ": " USA "}, " GOALS ": ["# company "]} ||| Pred: <sys> restaurant {" QUERY ": {"# food_pref ": " Western ", "# loc ": " dont_care "}, " GOALS ": ["# parking "]}
[[Attention: <sys>(0.928788959980011) produced(0.2822250425815582) {"(0.5038284063339233) QUERY(0.9999412298202515) ":(0.9895800948143005) {"#(0.9581788778305054) ":(0.9946911931037903) "(0.9867466688156128) 60s(0.45058655738830566) ",(0.9979990124702454) "#(0.9983555674552917) ":(0.9827930927276611) "(0.7873831987380981) 60s(0.13132373988628387) "(0.9185964465141296) ":(0.9612077474594116) </s>(0.32004326581954956)]]
-
Source:  genre ": " Crime ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 5 "}} </s>|<s> <sys> movie Movie 5 is a good choice . What else can I do? </s>|<s> <usr> movie A new search . Movies in 90s </s>
movie:: True: <sys> movie I believe you said 90s . Do you mean Fantasy? ||| Pred: <sys> movie Do you mean Fantasy?
[[Attention: <sys>(0.988734781742096) movie(0.7380049824714661) you(0.6661561131477356) mean(0.27315157651901245) Fantasy(0.4369712173938751) ?(0.5397939085960388) </s>(0.5218942165374756)]]
-
Source:  65 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie New request . In 80s . </s>|<s> <sys> movie I believe you said 80s . Do you mean Action? </s>|<s> <usr> movie Uh - huh . </s>
movie:: True: <sys> movie Do you mean Action? ||| Pred: <sys> movie I believe you said Action . {" QUERY ": {"# genre ": " Action ", "# years ": " 80s ", "# country ": " 80s ", "# country ": " 80s "}, " GOALS ": ["# default
[[Attention: <sys>(0.9580812454223633) movie(0.7116987109184265) believe(0.7709091901779175) you(0.4220033586025238) said(0.59393709897995) Action(0.7773947715759277) .(0.446882039308548) {"(0.9737574458122253) QUERY(0.9997833371162415) ":(0.9790037274360657) {"#(0.9622344374656677) ":(0.5644491314888) "(0.9565486907958984) Action(0.9899285435676575) ",(0.8342717885971069) "#(0.6899868249893188) ":(0.25868821144104004) "(0.9920079708099365) 80s(0.48339974880218506) ",(0.1470051407814026) ":(0.5721522569656372) "(0.9773585796356201) 80s(0.9332576394081116) "(0.6282244324684143) 80s(0.9672209620475769) "(0.9950886368751526) ":(0.9249367117881775) default(0.9749831557273865)]]
-
Source: <s> <usr> movie One more thing . Is uhm it directed by E? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Western ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# director ": " L "}} </s>
movie:: True: <sys> movie No, The director is L . Anything else? ||| Pred: <sys> restaurant No, It is L right now . What else can I do?
[[Attention: <sys>(0.9992673993110657) is(0.9209975004196167) L(0.8597573041915894) .(0.624258816242218) can(0.7359040975570679) I(0.8685662150382996) do(0.9601123332977295) ?(0.8746718168258667) </s>(0.48387080430984497)]]
-
Source: pe . </s>|<s> <sys> movie Do you mean Korea? </s>|<s> <usr> movie Wrong . </s>|<s> <sys> movie Which country' s movie? </s>|<s> <usr> movie From USA . Oh no, Movie from Japan I love Family ones . </s>
movie:: True: <sys> movie I believe you said Japan . {" QUERY ": {"# genre ": " Family ", "# years ": " 60s ", "# country ": " Japan "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie Do you mean from?
[[Attention: <sys>(0.7462100982666016) movie(0.5671156644821167) Do(0.24527308344841003) you(0.4642714560031891) mean(0.9455137848854065) from(0.5046247839927673) ?(0.9111446142196655) </s>(0.7437350153923035)]]
-
Source: <usr> movie Not done yet . How people rate hmm...this movie? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 3 "}} </s>
movie:: True: <sys> movie This movie has a rating of 3 . What else can I do? ||| Pred: <sys> restaurant The movie is 3 . What else can I do?
[[Attention: <sys>(0.9979200959205627) movie(0.4489748179912567) 3(0.9982650876045227) .(0.9724563956260681) I(0.3662518858909607) do(0.8986008763313293) ?(0.8831977844238281) </s>(0.33757662773132324)]]
-
Source: |<s> <usr> movie One more thing . How people rate this movie? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Music ", "# years ": " 80s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 4 "}} </s>
movie:: True: <sys> movie The rating is 4 . Anything else? ||| Pred: <sys> rating The restaurant is 4 . Are you happy about my answer?
[[Attention: <sys>(0.9774208664894104) rating(0.3479517102241516) movie(0.19737139344215393) is(0.4006181061267853) 4(0.9999974966049194) .(0.9622278213500977) you(0.5587024092674255) happy(0.999136745929718) about(0.9991379976272583) my(0.9980706572532654) answer(0.9989838004112244) ?(0.959830641746521) </s>(0.41752904653549194)]]
-
Source:  </s>|<s> <usr> movie Yes . </s>|<s> <sys> movie I believe you said 60s . {" QUERY ": {"# genre ": " Fantasy ", "# </s>|<s> <usr> movie Uh - huh . Movies in 90s {" RET ": {"# default ": " 118 "}} </s>
movie:: True: <sys> movie Movie 118 is a good choice . Anything else? ||| Pred: <sys> movie Movie 118 is a good choice . What else can I do?
[[Attention: <sys>(0.5909344553947449) 118(0.9999743700027466) good(0.2202233225107193) good(0.9189236760139465) .(0.4684150516986847) What(0.12083768099546432) can(0.6767876744270325) I(0.45722153782844543) do(0.9357169270515442) ?(0.4068133234977722) </s>(0.5333419442176819)]]
-
Source:  "# </s>|<s> <usr> movie {" RET ": {"# director ": " D "}} </s>|<s> <sys> movie The director is D . Are you happy about my answer? </s>|<s> <usr> movie I want to search a new one . Drama movies . </s>
movie:: True: <sys> movie I believe you said Drama . Do you mean 70s? ||| Pred: <sys> movie Do you mean Fantasy?
[[Attention: <sys>(0.9774695038795471) movie(0.49758073687553406) you(0.5096168518066406) Fantasy(0.5497070550918579) ?(0.5910578966140747) </s>(0.3767589032649994)]]
-
Source: ntasy . Do you mean USA? </s>|<s> <usr> movie Yes . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Fantasy ", "# years ": " dont_care ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 66 "}} </s>
movie:: True: <sys> movie Movie 66 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie Movie 66 is a good choice . What else can I do?
[[Attention: <sys>(0.44842565059661865) 66(0.9999986886978149) good(0.22883696854114532) good(0.7931744456291199) .(0.6059595346450806) What(0.13316304981708527) can(0.7565785050392151) I(0.9315525889396667) do(0.944543182849884) ?(0.47050830721855164) </s>(0.4700482487678528)]]
-
Source: ppy about my answer? </s>|<s> <usr> movie Korea . </s>|<s> <sys> movie Do you mean Korea? </s>|<s> <usr> movie Wrong . </s>|<s> <sys> movie Do you mean Korea? </s>|<s> <usr> movie That' s wrong . </s>
movie:: True: <sys> movie Do you mean USA? ||| Pred: <sys> movie Do you mean Action?
[[Attention: <sys>(0.9509105086326599) wrong(0.2831205129623413) Do(0.2581493854522705) you(0.5957003235816956) mean(0.671481192111969) Action(0.2652881443500519) ?(0.8907639384269714) </s>(0.38310685753822327)]]
-
Source: 2010 - present </s>|<s> <sys> movie I believe you said 2010 - present . Do you mean Korea? </s>|<s> <usr> movie Nay . </s>|<s> <sys> movie Movie from what country? </s>|<s> <usr> movie From USA . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " 2010 - present ", "# country ": " USA "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " 2010 ", "# years ": " 2010 - present ", "# country ": " Los Angeles "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.4779778718948364) in(0.2324131280183792) 2010(0.928547739982605) 2010(0.5122341513633728) -(0.6916280388832092) </s>(0.521968424320221)]]
-
Source: ion </s>|<s> <usr> movie {" RET ": {"# default ": " 111 "}} </s>|<s> <sys> movie Movie 111 is a good choice . What else can I do? </s>|<s> <usr> movie One more thing . How people rate this movie? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 2010 - present ", "# country ": " France "}, " GOALS ": ["# rating "]} ||| Pred: <sys> restaurant {" QUERY ": {"# food_pref ": " 2010 ", "# loc ": " Action "}, " GOALS ": ["# parking "]}
[[Attention: <sys>(0.9579334855079651) {"(0.6998072266578674) QUERY(0.9999021291732788) ":(0.9929982423782349) {"#(0.8284667730331421) ":(0.9952890872955322) "(0.9040012359619141) 2010(0.8697177767753601) Action(0.17675338685512543) ":(0.9956368803977966) "(0.790961742401123) Action(0.6975597143173218) "(0.4986589252948761) ":(0.9895678162574768) </s>(0.35828298330307007)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.584286 recall 0.713787 and f1 0.642577
Intent precision 0.876965 recall 0.797390 and f1 0.835286
KB precision 0.900302 recall 0.652555 and f1 0.756665
BLEU 0.482040 BEAK 0.665176

implicit_confirm: 0.3667046927734353
explicit_confirm: 0.16431271028975597
query: 0.5295407225154816
request: 0.401985862322866
inform: 0.5631815693157396
greet: 0.08002997052767073

Generation Done
Update patience to 22.0
Model Saved.

**** Epcoch 11/100 ****
200/1000-(0.000): Train nll 0.055 PPL 1.057 attn_loss 0.102 distance 0.303 distance_semantic 0.006 loss_pack_warm 1.590 distance1 0.025
400/1000-(0.000): Train nll 0.055 PPL 1.056 attn_loss 0.110 distance 0.297 distance_semantic 0.006 loss_pack_warm 1.618 distance1 0.026
600/1000-(0.000): Train nll 0.060 PPL 1.062 attn_loss 0.096 distance 0.323 distance_semantic 0.006 loss_pack_warm 1.574 distance1 0.024
800/1000-(0.000): Train nll 0.053 PPL 1.055 attn_loss 0.111 distance 0.304 distance_semantic 0.006 loss_pack_warm 1.538 distance1 0.034
0/1000-(0.000): Train nll 0.057 PPL 1.059 attn_loss 0.128 distance 0.312 distance_semantic 0.006 loss_pack_warm 1.558 distance1 0.026

=== Evaluating Model ===
Train nll 0.056 PPL 1.058 attn_loss 0.109 distance 0.308 distance_semantic 0.006 loss_pack_warm 1.576 distance1 0.027
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.118 PPL 1.125 attn_loss 0.116 distance 0.297 distance_semantic 0.246 loss_pack_warm 0.246 distance1 0.246
Total valid loss 0.16818875074386597
Generation: 50 batches
Source:  know about movies? How can I help? </s>|<s> <usr> movie What' s up? Recommend a movie . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Documentary hmm ones . Movies in 60s </s>
movie:: True: <sys> movie Which country' s movie? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.5570089221000671) movie(0.7912814617156982) ?(0.223361074924469) ?(0.4908284544944763) </s>(0.7782377600669861)]]
-
Source: t movies? What do you need? </s>|<s> <usr> movie Hi . Recommend a movie . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I like War movies . uhm Oh sorry, Family movies . France . </s>
movie:: True: <sys> movie What' s the time period? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.848482072353363) movie(0.18447476625442505) ?(0.18353243172168732) ?(0.4671337306499481) </s>(0.7145821452140808)]]
-
Source:  movies? What can I do for you? </s>|<s> <usr> movie What' s up? What should I watch now </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Western ones . Oh no, Music movies . </s>
movie:: True: <sys> movie I believe you said Music . What' s the time period? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.6065165400505066) movie(0.167190283536911) ?(0.9556551575660706) </s>(0.8208082914352417)]]
-
Source: help? </s>|<s> <usr> movie Hello robot . Give me some hmm...good suggestions about movies . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I love Crime hmm ones . Movies in 60s </s>
movie:: True: <sys> movie I believe you said Crime . I believe you said 60s . Movie from what country? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.778953492641449) ?(0.10737244039773941) ?(0.8176829218864441) </s>(0.897887110710144)]]
-
Source:  can I do for you? </s>|<s> <usr> movie Hello robot . Give me some good suggestions about movies . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie Action movies . Movie from Russia </s>
movie:: True: <sys> movie I believe you said Action . I believe you said Russia . Movie in what years? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.6776090860366821) movie(0.22327552735805511) ?(0.9346767663955688) </s>(0.8636794686317444)]]
-
Source: t to know about movies? How can I help? </s>|<s> <usr> movie Hi . Recommend a movie . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Action . I don' t care . Oh sorry, Mexico . </s>
movie:: True: <sys> movie What' s the time period? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.652231752872467) movie(0.2226569652557373) ?(0.7620258331298828) </s>(0.8619662523269653)]]
-
Source: How can I help? </s>|<s> <usr> movie Hello robot . What should I watch now </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I love Crime ones . hmm...Oh no, I like Music movies . </s>
movie:: True: <sys> movie I believe you said Music . What' s the time period? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.8664708733558655) movie(0.13605962693691254) ?(0.5058188438415527) </s>(0.8940194845199585)]]
-
Source: now about movies? What can I do for you? </s>|<s> <usr> movie What' s up? What should I watch now </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Music ones . Oh no, Drama . </s>
movie:: True: <sys> movie I believe you said Drama . Movie in what years? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.6238167881965637) movie(0.3270263373851776) ?(0.9134296178817749) </s>(0.8299130201339722)]]
-
Source: s> movie Want to know about movies? What do you need? </s>|<s> <usr> movie What' s uhm up? Recommend a movie . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Whatever is good . </s>
movie:: True: <sys> movie What' s the time period? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.7300796508789062) movie(0.5511448979377747) ?(0.569093644618988) </s>(0.7190743684768677)]]
-
Source: ' s up? Give hmm...me some good suggestions about movies . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I like Drama movies . Uhm sorry, I like Family movies . Movie from France </s>
movie:: True: <sys> movie I believe you said Family . I believe you said France . What' s the time period? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.5980949997901917) movie(0.57796710729599) ?(0.5200172066688538) </s>(0.6171107292175293)]]
-
Source: > movie Want to know about movies? How can I help? </s>|<s> <usr> movie Hi . Give me some good suggestions about movies . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Crime . </s>
movie:: True: <sys> movie Movie in what years? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.8346443176269531) movie(0.1768314242362976) ?(0.7235801815986633) </s>(0.8525039553642273)]]
-
Source: o for you? </s>|<s> <usr> movie Hello robot . Give me some good hmm...suggestions about movies . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Sport movies . hmm Movies in 80s </s>
movie:: True: <sys> movie I believe you said Sport . I believe you said 80s . Which country' s movie? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.822314977645874) ?(0.962439239025116) </s>(0.9304278492927551)]]
-
Source: |<s> <sys> movie Want to know about movies? What can I do for you? </s>|<s> <usr> movie Hi . uhm What should I watch now </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Action . </s>
movie:: True: <sys> movie I believe you said Action . What' s the time period? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.9003847241401672) ?(0.9296772480010986) </s>(0.9065337181091309)]]
-
Source: ant to know about movies? How can I help? </s>|<s> <usr> movie Hi . What should I watch now </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I like Family movies . Movie from USA </s>
movie:: True: <sys> movie What' s the time period? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.9738860130310059) movie(0.10701769590377808) ?(0.1610078662633896) ?(0.6208751797676086) </s>(0.8154588937759399)]]
-
Source: <d> </s>|<s> <sys> movie Want to know about movies? How can I help? </s>|<s> <usr> movie Hi . Recommend a movie . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Horror movies . </s>
movie:: True: <sys> movie I believe you said Horror . Movie in what years? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.5404723882675171) movie(0.21083468198776245) ?(0.7452118396759033) </s>(0.8346393704414368)]]
-
Source: bout movies? What do you need? </s>|<s> <usr> movie What' s up? Give me some good suggestions about movies . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I love Family ones . </s>
movie:: True: <sys> movie I believe you said Family . Movie in what years? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.7052414417266846) movie(0.7085738182067871) ?(0.5269539952278137) </s>(0.7436081767082214)]]
-
Source: out movies? How can I help? </s>|<s> <usr> movie Hello robot . Give uhm me some good suggestions about movies . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie Documentary movies . </s>
movie:: True: <sys> movie I believe you said Documentary . What' s the time period? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.5812757015228271) movie(0.10488096624612808) ?(0.7902284264564514) </s>(0.8358039259910583)]]
-
Source: nt to know about movies? How can I help? </s>|<s> <usr> movie Hello robot . Give me some good suggestions about movies . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Family . </s>
movie:: True: <sys> movie I believe you said Family . Movie in what years? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.9251928329467773) movie(0.20096883177757263) ?(0.7871634364128113) </s>(0.8765377402305603)]]
-
Source:  movies? What do you need? </s>|<s> <usr> movie Hi . Recommend a movie . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Comedy ones . Oh sorry, I like Family movies . USA . </s>
movie:: True: <sys> movie I believe you said Family . I believe you said USA . What' s the time period? ||| Pred: <sys> movie I believe you said Washington DC . What type of restaurant?
[[Attention: <sys>(0.9242520928382874) movie(0.7450646758079529) you(0.9889294505119324) Family(0.2825790345668793) .(0.7260499000549316) What(0.11835597455501556) ?(0.6375091671943665) </s>(0.6331250071525574)]]
-
Source: out movies? How can I help? </s>|<s> <usr> movie What' s up? Recommend a movie . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love uhm yeah I love Drama ones . From Thailand . </s>
movie:: True: <sys> movie I believe you said Drama . I believe you said Thailand . What' s the time period? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.7014821171760559) movie(0.6207325458526611) ?(0.6432574391365051) </s>(0.745612621307373)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.503467 recall 0.639085 and f1 0.563227
Intent precision 0.854152 recall 0.775174 and f1 0.812749
KB precision 0.894068 recall 0.669841 and f1 0.765880
BLEU 0.487394 BEAK 0.642940

request: 0.39778937244428186
implicit_confirm: 0.38162651930373565
explicit_confirm: 0.15043695219450626
query: 0.5717922835804136
inform: 0.5955441873371098
greet: 0.08553316817809521
goodbye: 0.3666835682307181

Generation Done

**** Epcoch 12/100 ****
200/1000-(0.000): Train nll 0.059 PPL 1.061 attn_loss 0.092 distance 0.325 distance_semantic 0.006 loss_pack_warm 1.591 distance1 0.028
400/1000-(0.000): Train nll 0.054 PPL 1.056 attn_loss 0.108 distance 0.319 distance_semantic 0.005 loss_pack_warm 1.759 distance1 0.031
600/1000-(0.000): Train nll 0.053 PPL 1.055 attn_loss 0.101 distance 0.316 distance_semantic 0.005 loss_pack_warm 1.703 distance1 0.027
800/1000-(0.000): Train nll 0.060 PPL 1.062 attn_loss 0.124 distance 0.323 distance_semantic 0.006 loss_pack_warm 1.594 distance1 0.035
0/1000-(0.000): Train nll 0.051 PPL 1.052 attn_loss 0.090 distance 0.311 distance_semantic 0.006 loss_pack_warm 1.664 distance1 0.027

=== Evaluating Model ===
Train nll 0.056 PPL 1.057 attn_loss 0.103 distance 0.319 distance_semantic 0.006 loss_pack_warm 1.662 distance1 0.030
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.119 PPL 1.127 attn_loss 0.138 distance 0.303 distance_semantic 0.250 loss_pack_warm 0.250 distance1 0.250
Total valid loss 0.17073355615139008
Generation: 50 batches
Source: 010 - present </s>|<s> <sys> movie I believe you said 2010 - present . Which country' s movie? </s>|<s> <usr> movie From Japan . </s>|<s> <sys> movie Do you mean Japan? </s>|<s> <usr> movie Nay . </s>
movie:: True: <sys> movie Which country' s movie? ||| Pred: <sys> movie What' s the time?
[[Attention: <sys>(0.9659966826438904) movie(0.5817617177963257) What(0.24002225697040558) ?(0.4376809895038605) </s>(0.803158700466156)]]
-
Source: usr> movie In 70s . </s>|<s> <sys> movie Movie from what country? </s>|<s> <usr> movie From Germany . </s>|<s> <sys> movie I believe you said Germany . Do you mean 70s? </s>|<s> <usr> movie Nay . </s>
movie:: True: <sys> movie Movie in what years? ||| Pred: <sys> restaurant What type of restaurant?
[[Attention: <sys>(0.9844034910202026) movie(0.3177582621574402) What(0.6094294190406799) movie(0.14332495629787445) ?(0.375923752784729) </s>(0.3330187201499939)]]
-
Source: s> <sys> movie I believe you said 60s . Which country' s movie? </s>|<s> <usr> movie USA . </s>|<s> <sys> movie I believe you said USA . Do you mean Family? </s>|<s> <usr> movie That' s correct . </s>
movie:: True: <sys> movie Do you mean Family? ||| Pred: <sys> movie Do you mean 60s?
[[Attention: <sys>(0.517856776714325) movie(0.8641152381896973) you(0.4422648847103119) 60s(0.32875335216522217) ?(0.46497780084609985) </s>(0.26135119795799255)]]
-
Source: e I believe you said Drama . I believe you said 90s . Which country' s </s>|<s> <usr> movie Yeah . USA . Oh sorry, From Japan . </s>|<s> <sys> movie Do you mean Japan? </s>|<s> <usr> movie Nope . </s>
movie:: True: <sys> movie Movie from what country? ||| Pred: <sys> movie What' s the time?
[[Attention: <sys>(0.48489871621131897) movie(0.46491608023643494) What(0.2452450841665268) ?(0.4986904561519623) </s>(0.7447240948677063)]]
-
Source:  80s </s>|<s> <sys> movie I believe you said 80s . Do you mean Action? </s>|<s> <usr> movie No . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Action movies . Movie from China </s>
movie:: True: <sys> movie I believe you said Action . Do you mean China? ||| Pred: <sys> movie What' s the time?
[[Attention: <sys>(0.915308952331543) movie(0.9116548895835876) ?(0.25745368003845215) </s>(0.5620043277740479)]]
-
Source: d 2000 - 2010 . Movie from what country? </s>|<s> <usr> movie From Mexico . </s>|<s> <sys> movie I believe you said Mexico . Do you mean Family? </s>|<s> <usr> movie No . From Mexico . Uh - huh . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 2000 - 2010 ", "# country ": " Mexico "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie I believe you said 2000 - . {" QUERY ": {"# genre ": " 2000 ", "# years ": " 2000 - 2010 ", "# country ": " 2000 - 2010 ", "# country ": " <sys> "},
[[Attention: <sys>(0.9868952631950378) movie(0.495220422744751) believe(0.9203980565071106) you(0.6676777601242065) said(0.9459993839263916) 2000(0.9340952634811401) -(0.2931726574897766) .(0.48506492376327515) 2000(0.5555539727210999) 2000(0.9920293092727661) -(0.7083595395088196) 2000(0.2446064054965973) <sys>(0.17743000388145447)]]
-
Source:  <usr> movie No . From Thailand . </s>|<s> <sys> movie I believe you said 70s . {" QUERY ": {"# genre ": " Drama ", "# </s>|<s> <usr> movie That' s wrong . {" RET ": hmm...{"# default ": " 30 "}} </s>
movie:: True: <sys> movie Movie 30 is a good choice . What else can I do? ||| Pred: <sys> movie Movie 30 is a good choice . What else can I do?
[[Attention: <sys>(0.9746229648590088) movie(0.9127591252326965) 30(0.9106539487838745) good(0.9321005940437317) .(0.5212114453315735) can(0.9062967896461487) I(0.8084715008735657) do(0.9649574756622314) ?(0.8334678411483765) </s>(0.7314156293869019)]]
-
Source:  {"# </s>|<s> <usr> movie {" RET ": {"# default ": " 100 "}} </s>|<s> <sys> movie Movie 100 is a good choice . What else can I do? </s>|<s> <usr> movie I have more requests . Is it directed by C? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " 90s ", "# country ": " Russia "}, " GOALS ": ["# director "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 90s ", "# country ": " Russia "}, " GOALS ": ["# rating "]}
[[Attention: <sys>(0.5100317001342773) movie(0.6547785997390747) {"(0.13628949224948883) QUERY(0.9992849230766296) ":(0.996342122554779) {"#(0.7203868627548218) "(0.20669540762901306) 90s(0.18012504279613495) "(0.3817155659198761) 90s(0.9222052693367004) Russia(0.5313601493835449) "(0.9435462951660156) ":(0.9958102703094482) </s>(0.41281601786613464)]]
-
Source:  mean 60s? </s>|<s> <usr> movie That' s correct . </s>|<s> <sys> movie I believe you said 60s . {" QUERY ": {"# genre ": " Drama ", "# </s>|<s> <usr> movie No . {" RET ": {"# default ": " 172 "}} </s>
movie:: True: <sys> movie Movie 172 is a good choice . Anything else? ||| Pred: <sys> movie Movie 172 is a good choice . What else can I do?
[[Attention: <sys>(0.9422813653945923) movie(0.8080462217330933) 172(0.9943209886550903) good(0.9711289405822754) .(0.9123124480247498) can(0.8986711502075195) I(0.8390977382659912) do(0.9977352619171143) ?(0.955527663230896) </s>(0.5554659366607666)]]
-
Source:  period? </s>|<s> <usr> movie In 80s . Movie hmm...from USA </s>|<s> <sys> movie Do you mean 80s? </s>|<s> <usr> movie Uh - huh . </s>|<s> <sys> movie Do you mean 80s? </s>|<s> <usr> movie Nope . </s>
movie:: True: <sys> movie Movie in what years? ||| Pred: <sys> movie Movie from what country?
[[Attention: <sys>(0.9108184576034546) movie(0.6970698237419128) ?(0.6517413854598999) </s>(0.6494773030281067)]]
-
Source: , In 2010 - present . Korea </s>|<s> <sys> movie I believe you said 2010 - present . I believe you said Korea . {" QUERY </s>|<s> <usr> movie That' s wrong . uhm {" RET ": {"# default ": " 52 "}} </s>
movie:: True: <sys> movie Movie 52 is a good choice . Anything else? ||| Pred: <sys> 52 Restaurant 52 is a good choice . Anything else?
[[Attention: <sys>(0.6220634579658508) 52(0.3476561903953552) 52(0.9999638795852661) .(0.35957273840904236) ?(0.5297262668609619) </s>(0.40140751004219055)]]
-
Source: rom France . Sci - Fi . </s>|<s> <sys> movie I believe you said Sci - Fi . I believe you said France . {" QUERY </s>|<s> <usr> movie That' s wrong . Action movies . {" RET ": {"# default ": " 116 </s>
movie:: True: <sys> movie Movie 116 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie Movie 116 is a good choice . What else can I do?
[[Attention: <sys>(0.6848204135894775) movie(0.8995784521102905) 116(0.9988051652908325) a(0.9205989241600037) .(0.7859783172607422) I(0.7613147497177124) do(0.9755714535713196) ?(0.6023915410041809) </s>(0.5035308599472046)]]
-
Source:  <usr> movie In 70s . </s>|<s> <sys> movie Which country' s movie? </s>|<s> <usr> movie From Korea . </s>|<s> <sys> movie I believe you said Korea . Do you mean Drama? </s>|<s> <usr> movie Yeah . </s>
movie:: True: <sys> movie Do you mean 70s? ||| Pred: <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " Korea ", "# country ": " Korea "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.4449770152568817) movie(0.9910209774971008) Korea(0.9996349811553955) Korea(0.9921731948852539) </s>(0.9541943669319153)]]
-
Source: s in 2010 - present </s>|<s> <sys> movie Which country' s movie? </s>|<s> <usr> movie USA . </s>|<s> <sys> movie I believe you said USA . Do you mean Crime? </s>|<s> <usr> movie That' s correct . </s>
movie:: True: <sys> movie Do you mean 2010 - present? ||| Pred: <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 2010 - present ", "# country ": " Los Angeles "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.39133694767951965) movie(0.9544909000396729) 2010(0.9622079730033875) </s>(0.7505155205726624)]]
-
Source: ntry? </s>|<s> <usr> movie Movie from Germany </s>|<s> <sys> movie Do you mean Action? </s>|<s> <usr> movie Wrong . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie Romance movies . </s>
movie:: True: <sys> movie Do you mean Romance? ||| Pred: <sys> movie Do you mean 60s?
[[Attention: <sys>(0.8614445924758911) movie(0.5574806928634644) you(0.6290518045425415) mean(0.7327909469604492) 60s(0.29261720180511475) ?(0.6271081566810608) </s>(0.6907220482826233)]]
-
Source:  No . I don' t hmm...care </s>|<s> <sys> movie I believe you said War . I believe you said 60s . I believe you said </s>|<s> <usr> movie That' s wrong . Yep . Whatever is good . Uhm sorry, In 80s </s>
movie:: True: <sys> movie Movie 46 is a good choice . Anything else? ||| Pred: <sys> movie Goodbye.
[[Attention: <sys>(0.9868081212043762) movie(0.2906636595726013) .(0.3735679090023041)]]
-
Source: # genre ": " Crime ", "# </s>|<s> <usr> movie Yeah . {" RET ": {"# default ": " 77 "}} </s>|<s> <sys> movie Movie 77 is a good choice . Anything else? </s>|<s> <usr> movie I like Western movies . </s>
movie:: True: <sys> movie I believe you said Western . {" QUERY ": {"# genre ": " Western ", "# years ": " 2010 - present ", "# country ": " France "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie Alright, dont_care . {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9581378698348999) movie(0.5237451195716858) ,(0.7112289071083069) .(0.5643593668937683) {"(0.3389165997505188) QUERY(0.997539758682251) ":(0.9872758984565735) {"#(0.9000490307807922) ":(0.9930704236030579) "(0.6164485812187195) ",(0.9542845487594604) "#(0.9776521325111389) ":(0.9856265187263489) "(0.6608232259750366) 2010(0.290983647108078) "(0.6325802206993103) ":(0.9982136487960815) default(0.9453462958335876) </s>(0.8678210973739624)]]
-
Source: 0 - 2010 . Which country' s movie? </s>|<s> <usr> movie Wrong . Movie from USA Uhm sorry, France . </s>|<s> <sys> movie I believe you said France . Do you mean Family? </s>|<s> <usr> movie Yeah . </s>
movie:: True: <sys> movie Do you mean Family? ||| Pred: <sys> movie Do you mean 2000 -?
[[Attention: <sys>(0.3887619376182556) movie(0.8101476430892944) you(0.8507475256919861) mean(0.31220486760139465) 2000(0.9711083769798279) -(0.6160746812820435) ?(0.6063017249107361) </s>(0.7932005524635315)]]
-
Source: |<s> <sys> movie I believe you said 2010 - present . Which country' s movie? </s>|<s> <usr> movie USA . </s>|<s> <sys> movie I believe you said USA . Do you mean War? </s>|<s> <usr> movie Wrong . </s>
movie:: True: <sys> movie Do you mean War? ||| Pred: <sys> movie Do you mean War?
[[Attention: <sys>(0.42510560154914856) movie(0.6025819182395935) you(0.8095846772193909) mean(0.28496649861335754) War(0.8802109956741333) ?(0.4824596047401428) </s>(0.47419992089271545)]]
-
Source: movie Movie from what country? </s>|<s> <usr> movie From Russia . Western . </s>|<s> <sys> movie I believe you said Family . I believe you said Russia . Do you mean 80s </s>|<s> <usr> movie Nay . </s>
movie:: True: <sys> movie What' s the time period? ||| Pred: <sys> restaurant What type of restaurant?
[[Attention: <sys>(0.9778282642364502) movie(0.2850479483604431) What(0.19120031595230103) movie(0.29169130325317383) ?(0.5383747220039368) </s>(0.4475463926792145)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.532020 recall 0.598891 and f1 0.563478
Intent precision 0.849558 recall 0.770846 and f1 0.808290
KB precision 0.915116 recall 0.578251 and f1 0.708690
BLEU 0.471907 BEAK 0.624725

request: 0.40103708933178533
explicit_confirm: 0.2051328000782861
implicit_confirm: 0.29749825943896296
query: 0.4826954595687974
inform: 0.6129796160226268
goodbye: 0.10884487320136543
greet: 0.2168495175823124

Generation Done

**** Epcoch 13/100 ****
200/1000-(0.000): Train nll 0.056 PPL 1.058 attn_loss 0.092 distance 0.325 distance_semantic 0.006 loss_pack_warm 1.624 distance1 0.025
400/1000-(0.000): Train nll 0.051 PPL 1.052 attn_loss 0.085 distance 0.313 distance_semantic 0.006 loss_pack_warm 1.635 distance1 0.026
600/1000-(0.000): Train nll 0.052 PPL 1.053 attn_loss 0.082 distance 0.314 distance_semantic 0.006 loss_pack_warm 1.630 distance1 0.023
800/1000-(0.000): Train nll 0.052 PPL 1.053 attn_loss 0.095 distance 0.327 distance_semantic 0.005 loss_pack_warm 1.501 distance1 0.024
0/1000-(0.000): Train nll 0.048 PPL 1.050 attn_loss 0.079 distance 0.315 distance_semantic 0.005 loss_pack_warm 1.554 distance1 0.023

=== Evaluating Model ===
Train nll 0.052 PPL 1.053 attn_loss 0.087 distance 0.319 distance_semantic 0.005 loss_pack_warm 1.589 distance1 0.024
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.116 PPL 1.123 attn_loss 0.125 distance 0.301 distance_semantic 0.247 loss_pack_warm 0.247 distance1 0.247
Total valid loss 0.16647669672966003
Generation: 50 batches
Source: movie Which type of movie? </s>|<s> <usr> movie Horror . </s>|<s> <sys> movie I believe you said Horror . Movie in what years? </s>|<s> <usr> movie That' s hmm wrong . In 70s . Oh sorry, In 90s . </s>
movie:: True: <sys> movie I believe you said Horror . Which country' s movie? ||| Pred: <sys> movie I believe you said 90s . {" QUERY ": {"# genre ": " Korean ", "# years ": " 90s ", "# country ": " 90s "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9449028968811035) movie(0.6209513545036316) believe(0.9925945401191711) you(0.9717176556587219) said(0.9821564555168152) 90s(0.5434815287590027) .(0.7375566959381104) 90s(0.8976542949676514) 90s(0.9966610670089722) </s>(0.7957034111022949)]]
-
Source: ut movies . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Action . </s>|<s> <sys> movie I believe you said Action . What' s the time period? </s>|<s> <usr> movie Movies in 60s </s>
movie:: True: <sys> movie I believe you said 60s . Movie from what country? ||| Pred: <sys> movie I believe you said 60s . {" QUERY ": {"# genre ": " American ", "# years ": " Action ", "# country ": " Action "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9957175850868225) movie(0.7788560390472412) believe(0.9935670495033264) you(0.9578911066055298) said(0.9825608134269714) 60s(0.7775518298149109) .(0.5644723176956177) Action(0.8888852000236511) Action(0.9619227647781372) </s>(0.8572728037834167)]]
-
Source: ies . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Fantasy ones . </s>|<s> <sys> movie I believe you said Fantasy . What' s the time period? </s>|<s> <usr> movie In 90s . </s>
movie:: True: <sys> movie I believe you said 90s . Movie from what country? ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Fantasy ", "# years ": " Fantasy ", "# country ": " 90s "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.838516354560852) movie(0.8205673694610596) Fantasy(0.9510186910629272) Fantasy(0.9620646238327026) 90s(0.9917095303535461) </s>(0.6267334818840027)]]
-
Source:  a movie . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I love Drama ones . </s>|<s> <sys> movie What' s the time period? </s>|<s> <usr> movie Movies in 2000 - 2010 Germany . </s>
movie:: True: <sys> movie Do you mean Drama? ||| Pred: <sys> movie Do you mean 2000 -?
[[Attention: <sys>(0.9836140871047974) movie(0.777812123298645) you(0.9993759989738464) 2000(0.9623002409934998) -(0.6575605869293213) ?(0.4584234356880188) </s>(0.9805856347084045)]]
-
Source: Which type of movie? </s>|<s> <usr> movie Sci - Fi . hmm...Oh sorry, Western movies . </s>|<s> <sys> movie What' s the time period? </s>|<s> <usr> movie In 60s . uhm yeah In 60s . I don' t care . </s>
movie:: True: <sys> movie Do you mean Western? ||| Pred: <sys> movie I believe you said Washington DC . Alright, dont_care . {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.8558704257011414) movie(0.5989159941673279) you(0.9613478779792786) .(0.9693547487258911) ,(0.901918351650238) .(0.5527193546295166) </s>(0.49671098589897156)]]
-
Source: d uhm suggestions about movies . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie Whatever is good . </s>|<s> <sys> movie What' s the time period? </s>|<s> <usr> movie Movies in 60s </s>
movie:: True: <sys> movie Which country' s movie? ||| Pred: <sys> movie Do you mean 60s?
[[Attention: <sys>(0.876781165599823) movie(0.647873044013977) you(0.999954342842102) 60s(0.9944943785667419) ?(0.5685716867446899) </s>(0.916443407535553)]]
-
Source: m yeah Fantasy movies . Oh sorry, Music movies . </s>|<s> <sys> movie I believe you said Music . Movie in what years? </s>|<s> <usr> movie In 2010 - present . I like Crime movies . Oh no, Music . </s>
movie:: True: <sys> movie I believe you said 2010 - present . Which country' s movie? ||| Pred: <sys> movie Do you mean 2010 -?
[[Attention: <sys>(0.989918053150177) movie(0.5484082698822021) you(0.694176197052002) 2010(0.8893036842346191) -(0.9988002777099609) ?(0.44781142473220825) </s>(0.567155122756958)]]
-
Source: vie? </s>|<s> <usr> movie I like Comedy movies . </s>|<s> <sys> movie I believe you said Comedy . What' s the time period? </s>|<s> <usr> movie That' s wrong . I like Drama movies . Movies in 80s </s>
movie:: True: <sys> movie I believe you said Drama . I believe you said 80s . Movie from what country? ||| Pred: <sys> movie I believe you said 80s . I believe you said movie . {" QUERY ": {"# food_pref ": " American ", "# loc ": " 80s "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9472399353981018) movie(0.7341150045394897) I(0.5350001454353333) believe(0.9959897398948669) you(0.952604353427887) said(0.7062575817108154) 80s(0.9094443917274475) .(0.8657147288322449) I(0.5536405444145203) believe(0.7299112677574158) you(0.790411114692688) said(0.8758153915405273) movie(0.3652263879776001) .(0.5451674461364746) 80s(0.9898539185523987) </s>(0.5460495352745056)]]
-
Source: s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I like Crime movies . </s>|<s> <sys> movie I believe you said Crime . Movie in what years? </s>|<s> <usr> movie In 2010 - present . </s>
movie:: True: <sys> movie I believe you said 2010 - present . Which country' s movie? ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Korean ", "# years ": " Crime ", "# country ": " Crime "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9927856922149658) movie(0.6598901748657227) Crime(0.8490946888923645) Crime(0.5120970010757446) </s>(0.5523855090141296)]]
-
Source:  type of movie? </s>|<s> <usr> movie Sci - Fi movies . Uhm sorry, I love Action ones . </s>|<s> <sys> movie I believe you said Action . What' s the time period? </s>|<s> <usr> movie Movies in 80s </s>
movie:: True: <sys> movie Which country' s movie? ||| Pred: <sys> movie Do you mean 80s?
[[Attention: <sys>(0.9708465337753296) movie(0.3878936767578125) you(0.9320938587188721) 80s(0.8614104390144348) ?(0.8540723323822021) </s>(0.8286678791046143)]]
-
Source: s> <sys> movie What genre do you like? </s>|<s> <usr> movie I love Fantasy ones . </s>|<s> <sys> movie What' s the time period? </s>|<s> <usr> movie Movies in 2010 - present uhm Movie from France </s>
movie:: True: <sys> movie I believe you said 2010 - present . I believe you said France . Do you mean Fantasy? ||| Pred: <sys> movie Do you mean Fantasy?
[[Attention: <sys>(0.9947336912155151) movie(0.33882641792297363) you(0.9999330043792725) Fantasy(0.6197949051856995) ?(0.8326278328895569) </s>(0.9002419114112854)]]
-
Source:  watch now </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie Anything is fine . </s>|<s> <sys> movie Okay, you dont_care . What' s the time period? </s>|<s> <usr> movie Movies in 90s </s>
movie:: True: <sys> movie Which country' s movie? ||| Pred: <sys> movie Alright, dont_care . {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9167982935905457) movie(0.4971940219402313) ,(0.9450090527534485) .(0.8749030232429504) dont_care(0.12232785671949387) dont_care(0.852508544921875) </s>(0.5055984258651733)]]
-
Source: ood suggestions about movies . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Family ones . </s>|<s> <sys> movie What' s the time period? </s>|<s> <usr> movie Movies in 90s </s>
movie:: True: <sys> movie Which country' s movie? ||| Pred: <sys> movie Do you mean 90s?
[[Attention: <sys>(0.7546914219856262) movie(0.7308986783027649) you(0.9995715022087097) 90s(0.9228523373603821) ?(0.5555274486541748) </s>(0.9699885249137878)]]
-
Source:  movie . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Horror movies . </s>|<s> <sys> movie Movie in what years? </s>|<s> <usr> movie In 70s . Uhm sorry, Movies in 80s Crime . </s>
movie:: True: <sys> movie Movie from what country? ||| Pred: <sys> in Do you mean 80s?
[[Attention: <sys>(0.9967846870422363) in(0.5070670247077942) you(0.8297604918479919) 80s(0.7848895788192749) ?(0.9931918978691101) </s>(0.8321094512939453)]]
-
Source: e . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Crime ones . Oh no, Anything is fine . </s>|<s> <sys> movie Movie in what years? </s>|<s> <usr> movie In 2010 - present . </s>
movie:: True: <sys> movie I believe you said 2010 - present . Which country' s movie? ||| Pred: <sys> movie What' s the time?
[[Attention: <sys>(0.8428612947463989) movie(0.6233072280883789) ?(0.5959258675575256) </s>(0.44485360383987427)]]
-
Source: movie What genre do you like? </s>|<s> <usr> movie Romance . </s>|<s> <sys> movie I believe you said Romance . Movie in what years? </s>|<s> <usr> movie Movies in 2010 - present Movie from Mexico </s>
movie:: True: <sys> movie I believe you said 2010 - present . I believe you said Mexico . {" QUERY ": {"# genre ": " Romance ", "# years ": " 2010 - present ", "# country ": " Mexico "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Korean ", "# years ": " 2010 - present ", "# country ": " Los Angeles "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9608380198478699) movie(0.4915975034236908) 2010(0.9567383527755737) -(0.49914970993995667) </s>(0.6529640555381775)]]
-
Source: do you like? </s>|<s> <usr> movie I like Sci - Fi movies . Oh no, Comedy . </s>|<s> <sys> movie I believe you said Comedy . Movie in what years? </s>|<s> <usr> movie Movies in 90s Comedy movies . </s>
movie:: True: <sys> movie I believe you said 90s . Movie from what country? ||| Pred: <sys> movie I believe you said Washington DC . {" QUERY ": {"# genre ": " Korean ", "# loc ": " 90s ", "# country ": " 90s "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9937121868133545) movie(0.5659058690071106) believe(0.9968233108520508) you(0.8782987594604492) said(0.9024308323860168) 90s(0.22212429344654083) .(0.5088973641395569) 90s(0.6255099177360535) 90s(0.4927745759487152) </s>(0.7895530462265015)]]
-
Source: ove Documentary ones . Movies in 60s </s>|<s> <sys> movie I believe you said Documentary . I believe you said 60s . Movie from what country </s>|<s> <usr> movie That' s wrong . Whatever is good . </s>
movie:: True: <sys> movie Alright, dont_care . {" QUERY ": {"# genre ": " Documentary ", "# years ": " 60s ", "# country ": " dont_care "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie Goodbye.
[[Attention: <sys>(0.9986617565155029) movie(0.8266953229904175) .(0.6990764737129211) </s>(0.6877657771110535)]]
-
Source: m me some good suggestions about movies . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie Anything is fine . </s>|<s> <sys> movie Movie in what years? </s>|<s> <usr> movie In 80s . </s>
movie:: True: <sys> movie I believe you said 80s . Movie from what country? ||| Pred: <sys> movie Do you mean 80s?
[[Attention: <sys>(0.9831191897392273) movie(0.5924248099327087) 80s(0.9999200105667114) ?(0.7534056901931763) </s>(0.596472442150116)]]
-
Source:  I watch now </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I like Family movies . </s>|<s> <sys> movie Movie in what years? </s>|<s> <usr> movie Movies in 70s Uhm sorry, In 60s . </s>
movie:: True: <sys> movie I believe you said 60s . Which country' s movie? ||| Pred: <sys> movie I believe you said 60s . {" QUERY ": {"# food_pref ": " American ", "# loc ": " 60s "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9012460708618164) movie(0.5290035605430603) you(0.9955400824546814) 60s(0.9910632371902466) .(0.909399151802063) 60s(0.23412294685840607) 60s(0.9811604619026184) </s>(0.616080641746521)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.422914 recall 0.545620 and f1 0.476494
Intent precision 0.822615 recall 0.727955 and f1 0.772395
KB precision 0.900585 recall 0.640777 and f1 0.748784
BLEU 0.519098 BEAK 0.615001

request: 0.4105354370884029
implicit_confirm: 0.38126432284971856
explicit_confirm: 0.16370385106580362
query: 0.5759263351741456
inform: 0.5241944596237326
greet: 0.7127385899512512
goodbye: 0.4029196165041339

Generation Done

**** Epcoch 14/100 ****
200/1000-(0.000): Train nll 0.050 PPL 1.052 attn_loss 0.077 distance 0.315 distance_semantic 0.005 loss_pack_warm 1.664 distance1 0.023
400/1000-(0.000): Train nll 0.055 PPL 1.057 attn_loss 0.091 distance 0.332 distance_semantic 0.005 loss_pack_warm 1.593 distance1 0.022
600/1000-(0.000): Train nll 0.053 PPL 1.054 attn_loss 0.085 distance 0.333 distance_semantic 0.005 loss_pack_warm 1.663 distance1 0.025
800/1000-(0.000): Train nll 0.050 PPL 1.051 attn_loss 0.089 distance 0.331 distance_semantic 0.005 loss_pack_warm 1.627 distance1 0.026
0/1000-(0.000): Train nll 0.050 PPL 1.052 attn_loss 0.096 distance 0.336 distance_semantic 0.005 loss_pack_warm 1.684 distance1 0.025

=== Evaluating Model ===
Train nll 0.052 PPL 1.053 attn_loss 0.088 distance 0.329 distance_semantic 0.005 loss_pack_warm 1.646 distance1 0.024
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.142 PPL 1.152 attn_loss 0.209 distance 0.322 distance_semantic 0.269 loss_pack_warm 0.269 distance1 0.269
Total valid loss 0.19753213226795197
Generation: 50 batches
Source: ney . Are you happy about my answer? </s>|<s> <usr> movie I want to search a new one . From Korea . </s>|<s> <sys> movie I believe you said Korea . Do you mean Fantasy? </s>|<s> <usr> movie Yep . </s>
movie:: True: <sys> movie Do you mean 80s? ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Fantasy ", "# years ": " Korea ", "# country ": " Korea "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.91560959815979) movie(0.7499375343322754) QUERY(0.8526691794395447) ":(0.7057773470878601) {"#(0.5633037090301514) ":(0.7179568409919739) "(0.8663179874420166) Fantasy(0.7295964956283569) ",(0.7840427756309509) "#(0.46286264061927795) ":(0.770717978477478) "(0.580608606338501) Korea(0.9876618385314941) ":(0.36930474638938904) "(0.23391881585121155) Korea(0.976658046245575) "(0.7200332880020142) ":(0.9639957547187805) default(0.10477601736783981) </s>(0.5242120623588562)]]
-
Source: /s>|<s> <usr> movie {" RET ": {"# default ": " 126 "}} </s>|<s> <sys> movie Movie 126 is a good choice . Anything else? </s>|<s> <usr> movie I have more requests . Is this movie from Walt Disney? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Comedy ", "# years ": " 2010 - present ", "# country ": " USA "}, " GOALS ": ["# company "]} ||| Pred: <sys> 126 {" QUERY ": {"# food_pref ": " 2010 ", "# loc ": " 2010 Walt "}, " GOALS ": ["# open "]}
[[Attention: <sys>(0.897770881652832) 126(0.9965128302574158) {"(0.2807861268520355) QUERY(0.6579076647758484) ":(0.9165734052658081) {"#(0.5138126015663147) ":(0.8734869360923767) "(0.43775713443756104) 2010(0.7014840245246887) ",(0.7420361638069153) "#(0.4925519526004791) ":(0.9030864834785461) "(0.625792384147644) 2010(0.9744963645935059) Walt(0.5463146567344666) "(0.7253403663635254) ":(0.8119218945503235) </s>(0.9682270884513855)]]
-
Source: s> <usr> movie {" RET ": {"# default ": " 131 "}} </s>|<s> <sys> movie Movie 131 is a good choice . Anything else? </s>|<s> <usr> movie I have more requests . Is this movie from 20th Century Fox? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Sci - Fi ", "# years ": " dont_care ", "# country ": " Russia "}, " GOALS ": ["# company "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Sport ", "# years ": " Russia "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9844881296157837) movie(0.7238025665283203) {"(0.47522515058517456) QUERY(0.5160840153694153) ":(0.5264380574226379) {"#(0.4825606346130371) ":(0.2607263922691345) "(0.48851820826530457) Sport(0.599354088306427) ",(0.9075886011123657) "#(0.7618235945701599) ":(0.7532409429550171) "(0.48213478922843933) Russia(0.9654850363731384) "#(0.13582353293895721) "(0.8077818751335144) ":(0.9903399348258972) default(0.14450572431087494) </s>(0.8761875033378601)]]
-
Source: ars </s>|<s> <usr> movie {" RET ": {"# default ": " 147 "}} </s>|<s> <sys> movie Movie 147 is a good choice . What else can I do? </s>|<s> <usr> movie One more thing . How people rate this movie? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 60s ", "# country ": " Russia "}, " GOALS ": ["# rating "]} ||| Pred: <sys> 147 {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# parking "]}
[[Attention: <sys>(0.7290197610855103) 147(0.8776941299438477) QUERY(0.51938796043396) ":(0.7068565487861633) {"#(0.37467604875564575) ":(0.5166734457015991) "(0.30228617787361145) dont_care(0.931481659412384) ",(0.4835973381996155) "#(0.5567131638526917) ":(0.720969021320343) "(0.47030773758888245) dont_care(0.9121862649917603) "(0.4276162087917328) ":(0.6547331213951111) </s>(0.4711320996284485)]]
-
Source: |<s> <sys> movie I believe you said 2000 - 2010 . You dont_care, right? </s>|<s> <usr> movie Uh - huh . </s>|<s> <sys> movie Alright, dont_care . Do you mean Thailand? </s>|<s> <usr> movie Yeah . </s>
movie:: True: <sys> movie I believe you said Thailand . {" QUERY ": {"# genre ": " dont_care ", "# years ": " 2000 - 2010 ", "# country ": " Thailand "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie Do you mean Thailand?
[[Attention: <sys>(0.8487694263458252) movie(0.5791430473327637) you(0.3629678189754486) mean(0.41681456565856934) Thailand(0.926750659942627) ?(0.7457292079925537) </s>(0.4052087068557739)]]
-
Source: i - Fi </s>|<s> <usr> movie {" RET ": {"# default ": " 109 "}} </s>|<s> <sys> movie Movie 109 is a good choice . What else can I do? </s>|<s> <usr> movie I have more hmm requests . Which company? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Sci - Fi ", "# years ": " 70s ", "# country ": " Russia "}, " GOALS ": ["# company "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " company ", "# years ": " Russia "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.42201104760169983) movie(0.4138653874397278) QUERY(0.9986068606376648) ":(0.9982935786247253) {"#(0.6763859391212463) "(0.687225341796875) company(0.9999858140945435) "(0.7886526584625244) Russia(0.661127507686615) "(0.7336974143981934) ":(0.5942003726959229) </s>(0.8573427796363831)]]
-
Source: present </s>|<s> <usr> movie {" RET ": {"# default ": " 188 "}} </s>|<s> <sys> movie Movie 188 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie Not done yet . Which company? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Fantasy ", "# years ": " 2010 - present ", "# country ": " Mexico "}, " GOALS ": ["# company "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Fantasy ", "# years ": " 2010 - present ", "# country ": " 2010 "}, " GOALS ": ["# company "]}
[[Attention: <sys>(0.41921165585517883) movie(0.8501612544059753) QUERY(0.5565221309661865) ":(0.8113073706626892) {"#(0.7788705825805664) "#(0.16811974346637726) "(0.866765558719635) Fantasy(0.9977478384971619) ",(0.6488935947418213) "#(0.9681425094604492) ":(0.588797390460968) "(0.5056949853897095) 2010(0.9304679036140442) -(0.9924679398536682) present(0.22993098199367523) present(0.21171168982982635) 2010(0.23229575157165527) "(0.5859125256538391) ":(0.5138504505157471) </s>(0.5117456912994385)]]
-
Source:  said Documentary . I believe you said 90s . Do you mean Mexico </s>|<s> <usr> movie Nope . Sci - Fi . That' s wrong . </s>|<s> <sys> movie Do you mean USA? </s>|<s> <usr> movie That' s correct . </s>
movie:: True: <sys> movie I believe you said USA . {" QUERY ": {"# genre ": " Sci - Fi ", "# years ": " 90s ", "# country ": " USA "}, " GOALS ": ["# default "]} ||| Pred: <sys> Documentary Do you mean Fantasy?
[[Attention: <sys>(0.5318259596824646) Documentary(0.7268121242523193) you(0.5492777228355408) mean(0.5228917598724365) Fantasy(0.543815016746521) ?(0.8496308326721191) </s>(0.5641603469848633)]]
-
Source: s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 35 "}} </s>|<s> <sys> movie Movie 35 is a good choice . What else can I do? </s>|<s> <usr> movie I have more requests . What' s the rating? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Horror ", "# years ": " 80s ", "# country ": " France "}, " GOALS ": ["# rating "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Horror ", "# years ": " 80s ", "# country ": " 80s "}, " GOALS ": ["# company "]}
[[Attention: <sys>(0.5918920636177063) movie(0.6611029505729675) {"(0.4443349242210388) QUERY(0.5981682538986206) ":(0.8774600028991699) {"#(0.4567333161830902) ":(0.1310635805130005) "(0.5810926556587219) Horror(0.9997770190238953) ",(0.3760617673397064) "#(0.3936462104320526) ":(0.6738246083259583) "(0.46827349066734314) 80s(0.9928312301635742) ",(0.12562131881713867) ":(0.1694508194923401) "(0.2906995415687561) 80s(0.9843511581420898) "(0.5392258167266846) ":(0.6982814073562622) </s>(0.6693856716156006)]]
-
Source: > movie Not done yet . Does it have a hmm...very bad rating? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 4 "}} </s>
movie:: True: <sys> movie No, This movie has a rating of 4 . What else can I do? ||| Pred: <sys> movie No, The restaurant serves 4 food . Anything else?
[[Attention: <sys>(0.38331398367881775) movie(0.9804409742355347) 4(0.9999955892562866) .(0.6571789979934692) else(0.9884109497070312) ?(0.5528054237365723) </s>(0.5351845026016235)]]
-
Source: What' s the time period? </s>|<s> <usr> movie In 60s . </s>|<s> <sys> movie Do you mean 60s? </s>|<s> <usr> movie Uh - huh . </s>|<s> <sys> movie Do you mean Thailand? </s>|<s> <usr> movie Yeah . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 60s ", "# country ": " Thailand "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Thailand ", "# years ": " Thailand ", "# country ": " Thailand "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9131039977073669) movie(0.790967583656311) QUERY(0.9922612309455872) ":(0.9538156986236572) {"#(0.9154195189476013) "#(0.1535937637090683) "(0.8053657412528992) Thailand(0.9882547855377197) ",(0.9988852143287659) "#(0.6821547150611877) ":(0.9308592081069946) "(0.7671781182289124) Thailand(0.5506057739257812) ",(0.6519885063171387) ":(0.7602553963661194) "(0.5371522903442383) Thailand(0.8692154288291931) "(0.7081775665283203) ":(0.9934244155883789) </s>(0.7626097798347473)]]
-
Source: ovie 43 is a good choice . Anything else? </s>|<s> <usr> movie I have more requests . uhm How people rate this movie? </s>|<s> <sys> movie How can I help? </s>|<s> <usr> movie What' s the rating? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Romance ", "# years ": " 2010 - present ", "# country ": " dont_care "}, " GOALS ": ["# rating "]} ||| Pred: <sys> 43 {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# open "]}
[[Attention: <sys>(0.6951464414596558) 43(0.673458456993103) {"(0.6229236125946045) QUERY(0.9954556226730347) ":(0.950264573097229) {"#(0.7234807014465332) ":(0.8938469290733337) "(0.9873627424240112) dont_care(0.6740170121192932) ",(0.9708134531974792) "#(0.8561379313468933) ":(0.984811544418335) "(0.5897537469863892) dont_care(0.9873599410057068) "(0.9318715333938599) ":(0.7971651554107666) </s>(0.9087672829627991)]]
-
Source: movie {" RET ": {"# default ": " 180 "}} </s>|<s> <sys> movie Movie 180 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie Documentary . hmm Uhm sorry, I like Fantasy movies . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 70s ", "# country ": " Germany "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 70s ", "# country ": " <sys> "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.8522759675979614) movie(0.8613065481185913) QUERY(0.5170473456382751) ":(0.6848607659339905) {"#(0.6102907657623291) ":(0.6309086084365845) "(0.4488028287887573) Family(0.5249245166778564) ",(0.440180242061615) "#(0.2730018198490143) ":(0.576576828956604) "(0.6856513619422913) 70s(0.6353140473365784) "(0.12506090104579926) <sys>(0.34826526045799255) "(0.4827526807785034) ":(0.6879837512969971) default(0.34775522351264954) </s>(0.3968622386455536)]]
-
Source: vie 82 is a good choice . What else can I do? </s>|<s> <usr> movie Not done yet . How people hmm...rate this movie? </s>|<s> <sys> movie What do you need? </s>|<s> <usr> movie What' s the rating? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 2010 - present ", "# country ": " Japan "}, " GOALS ": ["# rating "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 2010 - present ", "# country ": " dont_care "}, " GOALS ": ["# company "]}
[[Attention: <sys>(0.7442592978477478) 82(0.4078840911388397) {"(0.5158852338790894) QUERY(0.9912405610084534) ":(0.9778469800949097) {"#(0.43307924270629883) "(0.35611632466316223) dont_care(0.9833998084068298) ",(0.9985299110412598) "#(0.5705358386039734) ":(0.883129894733429) "(0.6838338375091553) 2010(0.5941892266273499) -(0.5167251825332642) present(0.23031532764434814) dont_care(0.5942702293395996) "(0.4699264466762543) ":(0.9682713150978088) </s>(0.6357153654098511)]]
-
Source:  . Do you mean 80s? </s>|<s> <usr> movie Uh - huh . </s>|<s> <sys> movie Do you mean Thailand? </s>|<s> <usr> movie Nay . </s>|<s> <sys> movie Do you mean Germany? </s>|<s> <usr> movie Uh - huh . </s>
movie:: True: <sys> movie I believe you said Germany . {" QUERY ": {"# genre ": " Action ", "# years ": " 80s ", "# country ": " Germany "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie Do you mean Germany?
[[Attention: <sys>(0.4680739641189575) movie(0.4662832021713257) you(0.4445801079273224) mean(0.46692466735839844) Germany(0.6408572793006897) ?(0.5552958846092224) </s>(0.3595091700553894)]]
-
Source: s? </s>|<s> <usr> movie That' s correct . </s>|<s> <sys> movie I believe you said 60s . Do you mean USA? </s>|<s> <usr> movie No . </s>|<s> <sys> movie Do you mean USA? </s>|<s> <usr> movie Yep . </s>
movie:: True: <sys> movie I believe you said USA . {" QUERY ": {"# genre ": " Romance ", "# years ": " 60s ", "# country ": " USA "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " 60s ", "# years ": " 60s ", "# country ": " <sys> "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.710872232913971) movie(0.5558109283447266) QUERY(0.9742386937141418) ":(0.7605025768280029) {"#(0.7425926327705383) ":(0.511864960193634) "(0.33462029695510864) 60s(0.5050565004348755) ",(0.5240137577056885) "#(0.7672622799873352) ":(0.6527135372161865) "(0.6128333210945129) 60s(0.8561630249023438) "(0.5586298704147339) <sys>(0.6943967938423157) "(0.820057213306427) ":(0.8541046977043152) default(0.14807990193367004) </s>(0.5485803484916687)]]
-
Source: y about my answer? </s>|<s> <usr> movie Anything is fine . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Comedy ", "# years ": " 80s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 74 "}} </s>
movie:: True: <sys> movie Movie 74 is a good choice . What else can I do? ||| Pred: <sys> 74 Restaurant 74 is a good choice . Anything else?
[[Attention: <sys>(0.6903197169303894) 74(0.6204507946968079) 74(0.15296301245689392) 74(0.9999816417694092) is(0.5893756151199341) a(0.8036931753158569) good(0.3716490566730499) choice(0.8070790767669678) .(0.3649419844150543) else(0.9881105422973633) ?(0.8334593176841736) </s>(0.54682856798172)]]
-
Source:  <usr> movie Not done yet . Is this movie from Universal? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " 90s ", "# </s>|<s> <usr> movie {" RET ": {"# company ": " Sony "}} </s>
movie:: True: <sys> movie No, It' s made by Sony . Anything else? ||| Pred: <sys> movie No, The restaurant serves Sony food . Anything else?
[[Attention: <sys>(0.4930322766304016) movie(0.8864031434059143) ,(0.6396176218986511) Sony(0.9918676018714905) .(0.4396064877510071) else(0.981673002243042) ?(0.5461586117744446) </s>(0.4125117063522339)]]
-
Source: wer? </s>|<s> <usr> movie Not done yet . Which company? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Sci - Fi ", "# years ": " 60s </s>|<s> <usr> movie {" RET ": {"# company ": " Universal "}} </s>
movie:: True: <sys> movie It' s made by Universal . Are you happy about my answer? ||| Pred: <sys> movie The restaurant serves Universal food . Are you happy about my answer?
[[Attention: <sys>(0.5509131550788879) movie(0.8457116484642029) Universal(0.9818615913391113) .(0.5552611947059631) you(0.7356094717979431) happy(0.4865323603153229) about(0.5772104263305664) my(0.7994830012321472) answer(0.8989682197570801) ?(0.6010758280754089) </s>(0.588611364364624)]]
-
Source: re thing . Is this movie uhm from Universal? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 70s ", "# </s>|<s> <usr> movie {" RET ": {"# company ": " 20th Century Fox "}} </s>
movie:: True: <sys> movie No, The movie is from 20th Century Fox . What else can I do? ||| Pred: <sys> movie No, The restaurant has 20th . What else can I do?
[[Attention: <sys>(0.4141528010368347) movie(0.8055875897407532) 20th(0.8044700026512146) .(0.12092651426792145) else(0.6198157668113708) can(0.9837318658828735) I(0.6335753798484802) do(0.9956100583076477) ?(0.6029612421989441) </s>(0.39483514428138733)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.503876 recall 0.523139 and f1 0.513327
Intent precision 0.820958 recall 0.736154 and f1 0.776247
KB precision 0.892077 recall 0.541011 and f1 0.673543
BLEU 0.423955 BEAK 0.580791

explicit_confirm: 0.21965846417520066
query: 0.43167848412282955
implicit_confirm: 0.2608456625627521
request: 0.378499563131522
inform: 0.34737371352248203
goodbye: 0.4061365670395829
greet: 0.7095957373618551

Generation Done

**** Epcoch 15/100 ****
200/1000-(0.000): Train nll 0.048 PPL 1.049 attn_loss 0.097 distance 0.332 distance_semantic 0.004 loss_pack_warm 1.698 distance1 0.025
400/1000-(0.000): Train nll 0.056 PPL 1.057 attn_loss 0.186 distance 0.341 distance_semantic 0.005 loss_pack_warm 1.613 distance1 0.023
600/1000-(0.000): Train nll 0.046 PPL 1.047 attn_loss 0.087 distance 0.332 distance_semantic 0.004 loss_pack_warm 1.770 distance1 0.023
800/1000-(0.000): Train nll 0.053 PPL 1.054 attn_loss 0.120 distance 0.334 distance_semantic 0.006 loss_pack_warm 1.742 distance1 0.043
0/1000-(0.000): Train nll 0.050 PPL 1.052 attn_loss 0.097 distance 0.343 distance_semantic 0.006 loss_pack_warm 1.522 distance1 0.033

=== Evaluating Model ===
Train nll 0.051 PPL 1.052 attn_loss 0.117 distance 0.336 distance_semantic 0.005 loss_pack_warm 1.669 distance1 0.029
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.138 PPL 1.148 attn_loss 0.152 distance 0.322 distance_semantic 0.266 loss_pack_warm 0.266 distance1 0.266
Total valid loss 0.19251731038093567
Generation: 50 batches
Source:  " Family ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 40 "}} </s>|<s> <sys> movie Movie 40 is a good choice . Anything else? </s>|<s> <usr> movie Not done yet . Is this movie from Sony? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 60s ", "# country ": " USA "}, " GOALS ": ["# company "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 60s ", "# country ": " <sys> "}, " GOALS ": ["# company "]}
[[Attention: <sys>(0.6520283222198486) movie(0.7181850075721741) {"(0.8001749515533447) QUERY(0.9998219609260559) ":(0.9901847839355469) {"#(0.6746892333030701) ":(0.9223824143409729) "(0.9682809114456177) Family(0.6769723296165466) ",(0.9988859295845032) "#(0.9994914531707764) ":(0.8099274635314941) "(0.8765779137611389) 60s(0.6053605079650879) <sys>(0.9896872639656067) "(0.3135484755039215) ":(0.9759904742240906) </s>(0.9779730439186096)]]
-
Source: |<s> <usr> movie {" RET ": {"# rating ": " 4 "}} </s>|<s> <sys> movie This movie has a rating of 4 . What else can I do? </s>|<s> <usr> movie I have uhm yeah I have more requests . Which company? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 80s ", "# country ": " USA "}, " GOALS ": ["# company "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " company ", "# years ": " 80s ", "# country ": " 80s "}, " GOALS ": ["# rating "]}
[[Attention: <sys>(0.5323612093925476) movie(0.6188798546791077) QUERY(0.7585190534591675) ":(0.6176720857620239) {"#(0.7997239828109741) ":(0.21471136808395386) "(0.5478565096855164) company(0.9990624785423279) ",(0.2871927320957184) "#(0.44564634561538696) ":(0.20900271832942963) "(0.6263362169265747) 80s(0.9794955849647522) "(0.35002660751342773) 80s(0.803629457950592) "(0.5770704746246338) ":(0.7734186053276062) </s>(0.6273941993713379)]]
-
Source: s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 3 "}} </s>|<s> <sys> movie The rating is 3 . Anything else? </s>|<s> <usr> movie One more thing . Is this hmm...movie from 20th Century Fox? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Western ", "# years ": " 90s ", "# country ": " USA "}, " GOALS ": ["# company "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " France ", "# years ": " 90s ", "# country ": " hmm "}, " GOALS ": ["# rating "]}
[[Attention: <sys>(0.4910963475704193) movie(0.7378303408622742) {"(0.4300818145275116) QUERY(0.8064199686050415) ":(0.47613805532455444) {"#(0.5833876729011536) ":(0.5253426432609558) "(0.891960620880127) France(0.49913614988327026) ",(0.3408677875995636) "#(0.6482563018798828) ":(0.5619754195213318) "(0.4658748209476471) 90s(0.9376200437545776) ",(0.10595648735761642) hmm(0.4412037134170532) "(0.7033547163009644) ":(0.8224127292633057) </s>(0.9934533834457397)]]
-
Source: ly ", "# years ": " 80s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 4 "}} </s>|<s> <sys> movie The rating is 4 . Anything else? </s>|<s> <usr> movie One more thing . Is it directed by G? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 80s ", "# country ": " Thailand "}, " GOALS ": ["# director "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 80s ", "# country ": " 80s "}, " GOALS ": ["# rating "]}
[[Attention: <sys>(0.6807135343551636) movie(0.8233559131622314) {"(0.4916289150714874) QUERY(0.9231238961219788) ":(0.6057063341140747) {"#(0.4631647765636444) ":(0.6653001308441162) "(0.5961311459541321) Family(0.9960727691650391) ",(0.6852808594703674) "#(0.8295326828956604) ":(0.6774948239326477) "(0.47807577252388) 80s(0.8228983879089355) ":(0.1682579070329666) 80s(0.7767996191978455) "(0.6682138442993164) ":(0.8946774005889893) </s>(0.5234552621841431)]]
-
Source: ars ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# default ": " 146 "}} </s>|<s> <sys> movie Movie 146 is a good choice . What else can I do? </s>|<s> <usr> movie I like Sci - Fi movies . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Sci - Fi ", "# years ": " 2010 - present ", "# country ": " Russia "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Music ", "# years ": " 2010 -
[[Attention: <sys>(0.8563578128814697) movie(0.5893325209617615) {"(0.428790420293808) QUERY(0.9106578826904297) ":(0.9995074272155762) {"#(0.5783895254135132) ":(0.926893949508667) "(0.6424943804740906) Music(0.8922604322433472) ",(0.9824799299240112) "#(0.6719631552696228) ":(0.28074774146080017) "(0.866880476474762) 2010(0.9433352947235107) -(0.9794825911521912) </s>(0.5686802268028259)]]
-
Source: 0s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 123 "}} </s>|<s> <sys> movie Movie 123 is a good choice . Anything else? </s>|<s> <usr> movie I have more requests . Who is the director?. </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " 90s ", "# country ": " Thailand "}, " GOALS ": ["# director "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " 90s ", "# country ": " 90s "}, " GOALS ": ["# rating "]}
[[Attention: <sys>(0.600374698638916) movie(0.5148216485977173) {"(0.3246186077594757) QUERY(0.8732695579528809) ":(0.6179597973823547) {"#(0.6675230860710144) ":(0.1874682903289795) "(0.36139053106307983) Drama(0.9159126877784729) ",(0.9213002920150757) "#(0.775785505771637) "(0.20066054165363312) 90s(0.6800550222396851) ?(0.10214637219905853) 90s(0.9625590443611145) "(0.8934090733528137) ":(0.9180939793586731) </s>(0.9396359920501709)]]
-
Source: <s> <usr> movie {" RET ": {"# company ": " Walt Disney "}} </s>|<s> <sys> movie The movie is from Walt Disney . What else can I do? </s>|<s> <usr> movie Not done yet . How people rate this movie? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Music ", "# years ": " 80s ", "# country ": " France "}, " GOALS ": ["# rating "]} ||| Pred: <sys> company What can I do for you?
[[Attention: <sys>(0.7380015850067139) company(0.7161810398101807) What(0.52556973695755) I(0.20608867704868317) do(0.40593764185905457) you(0.6916675567626953) ?(0.3817010521888733) </s>(0.5081424713134766)]]
-
Source: "# </s>|<s> <usr> movie {" RET ": {"# default ": " 169 "}} </s>|<s> <sys> movie Movie 169 is a good choice . Anything else? </s>|<s> <usr> movie Not done yet . Which company produced this movie?. </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 60s ", "# country ": " USA "}, " GOALS ": ["# company "]} ||| Pred: <sys> 169 See you next time.
[[Attention: <sys>(0.5064870715141296) 169(0.6523041129112244) you(0.9004214406013489) .(0.4780181646347046) </s>(0.46155667304992676)]]
-
Source: ": " Action </s>|<s> <usr> movie {" RET ": {"# default ": " 185 "}} </s>|<s> <sys> movie Movie 185 is a good choice . What else can I do? </s>|<s> <usr> movie Not done yet . Who is the director?. </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 2010 - present ", "# country ": " USA "}, " GOALS ": ["# director "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " 2010 ", "# years ": " 2010 -
[[Attention: <sys>(0.568374752998352) movie(0.7279592752456665) {"(0.5694794058799744) QUERY(0.9825878739356995) ":(0.586155354976654) {"#(0.5455964207649231) ":(0.8408465385437012) "(0.7825736999511719) 2010(0.7219439148902893) ",(0.9872719645500183) "#(0.9992757439613342) ":(0.3701726794242859) "(0.30737820267677307) 2010(0.8615468740463257) -(0.8010627627372742) </s>(0.3855031430721283)]]
-
Source: " RET ": hmm {"# default ": " 76 "}} </s>|<s> <sys> movie Movie 76 is a good choice . Anything else? </s>|<s> <usr> movie In 70s . </s>|<s> <sys> movie Do you mean 70s? </s>|<s> <usr> movie Yep . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Music ", "# years ": " 70s ", "# country ": " USA "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " 70s ", "# years ": " 90s ", "# country ": " <sys> "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.7021089196205139) movie(0.9107514023780823) {"(0.3174373209476471) QUERY(0.9951856732368469) ":(0.9872289896011353) {"#(0.8908851742744446) ":(0.9111887812614441) "(0.9412953853607178) 70s(0.703210175037384) ",(0.9895039796829224) "#(0.9940215945243835) ":(0.4412292242050171) "(0.1797308474779129) 90s(0.7076231837272644) <sys>(0.7372280359268188) "(0.21168549358844757) ":(0.9468880295753479) default(0.369176983833313) </s>(0.9761557579040527)]]
-
Source: 90s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 4 "}} </s>|<s> <sys> movie The rating is 4 . What else can I do? </s>|<s> <usr> movie One more thing . Which company produced this movie?. </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 90s ", "# country ": " Japan "}, " GOALS ": ["# company "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " Action ", "# country ": " 90s "}, " GOALS ": ["# rating "]}
[[Attention: <sys>(0.5149295926094055) movie(0.844379723072052) QUERY(0.9390800595283508) ":(0.5340261459350586) {"#(0.7147089242935181) ":(0.605678141117096) "(0.6453924179077148) Action(0.9870851635932922) ",(0.4753490388393402) "#(0.8213664889335632) "(0.7725926041603088) Action(0.5613375306129456) "(0.23932646214962006) 90s(0.9038907885551453) "(0.7740840315818787) ":(0.8715653419494629) </s>(0.6157089471817017)]]
-
Source: > <usr> movie {" RET ": {"# default ": " 177 "}} </s>|<s> <sys> movie Movie 177 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie One more thing . How people rate this movie? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 80s ", "# country ": " Germany "}, " GOALS ": ["# rating "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 80s ", "# country ": " 80s "}, " GOALS ": ["# rating "]}
[[Attention: <sys>(0.5498344302177429) 177(0.4628339409828186) {"(0.5240459442138672) QUERY(0.8688580989837646) ":(0.7685440182685852) {"#(0.5239730477333069) ":(0.31451213359832764) "(0.43380460143089294) Action(0.9660800099372864) ",(0.8188073039054871) "#(0.8237690329551697) ":(0.2613926827907562) "(0.7733749747276306) 80s(0.6581901907920837) "(0.16901616752147675) 80s(0.7630745768547058) "(0.7702353000640869) ":(0.8702362179756165) </s>(0.39460989832878113)]]
-
Source: ean Action? </s>|<s> <usr> movie Yeah . </s>|<s> <sys> movie Do you mean Action? </s>|<s> <usr> movie Wrong . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I like Action movies . </s>
movie:: True: <sys> movie I believe you said Action . {" QUERY ": {"# genre ": " Action ", "# years ": " 2010 - present ", "# country ": " Germany "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie Do you mean movie?
[[Attention: <sys>(0.39454594254493713) movie(0.748242974281311) you(0.5706670880317688) mean(0.40323394536972046) movie(0.8198961615562439) ?(0.8618400692939758) </s>(0.5461911559104919)]]
-
Source: 10 - present </s>|<s> <usr> movie {" RET ": {"# director ": " Y "}} </s>|<s> <sys> movie No, The director is Y . Anything else? </s>|<s> <usr> movie I have more requests . Is this movie from MGM? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Romance ", "# years ": " 2010 - present ", "# country ": " Mexico "}, " GOALS ": ["# company "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Romance ", "# years ": " 2010 - present ", "# country ": " is "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9947020411491394) movie(0.47619709372520447) {"(0.28082168102264404) QUERY(0.5014662146568298) ":(0.6762704253196716) {"#(0.5378838181495667) ":(0.7356410622596741) "(0.4443325698375702) movie(0.35005587339401245) ",(0.5939344763755798) "#(0.9489980936050415) ":(0.7182930707931519) "(0.4936124086380005) 2010(0.9852279424667358) -(0.6253275871276855) </s>(0.18275082111358643) "(0.117125004529953) is(0.4255392253398895) "(0.6682661175727844) ":(0.7533891797065735) </s>(0.9112852811813354)]]
-
Source: n ", "# years ": " 80s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 4 "}} </s>|<s> <sys> movie The rating is 4 . What else can I do? </s>|<s> <usr> movie One more thing . Who directed it? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Western ", "# years ": " 80s ", "# country ": " dont_care "}, " GOALS ": ["# director "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Western ", "# years ": " 80s ", "# country ": " 80s "}, " GOALS ": ["# rating "]}
[[Attention: <sys>(0.5212605595588684) movie(0.8845295906066895) {"(0.47781243920326233) QUERY(0.9470930695533752) ":(0.6877449750900269) {"#(0.42777788639068604) ":(0.22223174571990967) "(0.9706064462661743) Western(0.9291645288467407) ",(0.9009383320808411) "#(0.818507730960846) ":(0.13789226114749908) "(0.9489552974700928) 80s(0.9849323630332947) 80s(0.5468847751617432) "(0.9803323745727539) ":(0.8056804537773132) </s>(0.7870545387268066)]]
-
Source: |<s> <usr> movie {" RET ": {"# director ": " E "}} </s>|<s> <sys> movie It' s director by E . What else can I do? </s>|<s> <usr> movie Not done uhm yeah Not done yet . How people rate this movie? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 60s ", "# country ": " USA "}, " GOALS ": ["# rating "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " 60s ", "# years ": " E ", "# country ": " E "}, " GOALS ": ["# rating "]}
[[Attention: <sys>(0.588211715221405) movie(0.49305087327957153) {"(0.5515221357345581) QUERY(0.8051817417144775) ":(0.6907846331596375) {"#(0.9700100421905518) ":(0.170372873544693) "(0.6522553563117981) 60s(0.8850671648979187) ",(0.5148041844367981) "#(0.9092738628387451) ":(0.26322123408317566) "(0.5340800285339355) E(0.9372773766517639) E(0.9956672191619873) "(0.4387655556201935) ":(0.8629308938980103) </s>(0.5416128039360046)]]
-
Source:  years ": " 80s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 158 "}} </s>|<s> <sys> movie Movie 158 is a good choice . Anything else? </s>|<s> <usr> movie Not done yet . Who directed it? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 80s ", "# country ": " Thailand "}, " GOALS ": ["# director "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 80s ", "# country ": " 80s "}, " GOALS ": ["# rating "]}
[[Attention: <sys>(0.6435744166374207) movie(0.4347849190235138) {"(0.6841050386428833) QUERY(0.9966752529144287) ":(0.9650407433509827) {"#(0.9870226979255676) ":(0.20746128261089325) "(0.6352493166923523) Action(0.9919881820678711) ",(0.9126157760620117) "#(0.9132092595100403) "(0.4739043712615967) 80s(0.71261066198349) ?(0.15382981300354004) 80s(0.5323545336723328) "(0.8804439306259155) ":(0.9426231384277344) </s>(0.25752827525138855)]]
-
Source: # years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# director ": " D "}} </s>|<s> <sys> movie No, The director is D . What else can I do? </s>|<s> <usr> movie One more thing . Which company? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 60s ", "# country ": " Thailand "}, " GOALS ": ["# company "]} ||| Pred: <sys> movie Goodbye.
[[Attention: <sys>(0.9419751167297363) movie(0.4726850986480713) .(0.596199631690979) </s>(0.6682834029197693)]]
-
Source: /s>|<s> <usr> movie I uhm yeah I have more requests . Is this movie from 20th Century Fox? </s>|<s> <sys> movie What can I do for you? </s>|<s> <usr> movie Which company uhm produced this movie?. </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " dont_care ", "# country ": " USA "}, " GOALS ": ["# company "]} ||| Pred: <sys> movie Do you mean movie?
[[Attention: <sys>(0.5244277715682983) movie(0.6365551948547363) you(0.3087010979652405) mean(0.972285270690918) Family(0.3553348183631897) ?(0.32702213525772095) </s>(0.32318437099456787)]]
-
Source: <usr> movie {" RET ": {"# company ": " Universal "}} </s>|<s> <sys> movie No, The movie is from Universal . What else can I do? </s>|<s> <usr> movie Not done yet . How uhm people rate this movie? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 90s ", "# country ": " Germany "}, " GOALS ": ["# rating "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " Universal ", "# country ": " Universal "}, " GOALS ": ["# rating "]}
[[Attention: <sys>(0.9551475048065186) movie(0.9149247407913208) {"(0.6587598919868469) QUERY(0.9638473391532898) ":(0.8038604855537415) {"#(0.42637619376182556) ":(0.21640366315841675) "(0.5898774862289429) Action(0.9685757756233215) ",(0.47222861647605896) "#(0.7851520776748657) "(0.5228686928749084) Universal(0.990054726600647) Universal(0.9999994039535522) "(0.5226932764053345) ":(0.9296154379844666) </s>(0.5962107181549072)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.504261 recall 0.616319 and f1 0.554688
Intent precision 0.842632 recall 0.735331 and f1 0.785333
KB precision 0.891435 recall 0.596449 and f1 0.714700
BLEU 0.466391 BEAK 0.617297

query: 0.5093522517286463
implicit_confirm: 0.31599849724692036
explicit_confirm: 0.19147722365826234
request: 0.40236480891801174
inform: 0.4333131419774229
goodbye: 0.3312215602244575
greet: 0.6999010999925328

Generation Done

**** Epcoch 16/100 ****
200/1000-(0.000): Train nll 0.046 PPL 1.047 attn_loss 0.087 distance 0.331 distance_semantic 0.006 loss_pack_warm 1.614 distance1 0.028
400/1000-(0.000): Train nll 0.053 PPL 1.055 attn_loss 0.085 distance 0.340 distance_semantic 0.005 loss_pack_warm 1.520 distance1 0.025
600/1000-(0.000): Train nll 0.046 PPL 1.047 attn_loss 0.089 distance 0.333 distance_semantic 0.005 loss_pack_warm 1.623 distance1 0.023
800/1000-(0.000): Train nll 0.049 PPL 1.050 attn_loss 0.083 distance 0.336 distance_semantic 0.005 loss_pack_warm 1.673 distance1 0.025
0/1000-(0.000): Train nll 0.046 PPL 1.047 attn_loss 0.094 distance 0.337 distance_semantic 0.005 loss_pack_warm 1.544 distance1 0.024

=== Evaluating Model ===
Train nll 0.048 PPL 1.049 attn_loss 0.088 distance 0.335 distance_semantic 0.005 loss_pack_warm 1.595 distance1 0.025
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.134 PPL 1.143 attn_loss 0.144 distance 0.332 distance_semantic 0.273 loss_pack_warm 0.273 distance1 0.273
Total valid loss 0.1896805465221405
Generation: 50 batches
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? What do you need? </s>|<s> <usr> movie What' s up? Recommend a movie . </s>
movie:: True: <sys> movie What genre do you like? ||| Pred: <sys> restaurant Which place?
[[Attention: <sys>(0.9999998807907104) ?(0.9986005425453186) </s>(0.625041663646698)]]
-
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? How can I help? </s>|<s> <usr> movie Hi . What should I watch now </s>
movie:: True: <sys> movie What genre do you like? ||| Pred: <sys> restaurant What can I do for you?
[[Attention: <sys>(0.9999998807907104) I(0.996065080165863) ?(0.9989683628082275) </s>(0.9830290675163269)]]
-
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? What can I do for you? </s>|<s> <usr> movie What' s up? What hmm...should I watch now </s>
movie:: True: <sys> movie Which type of movie? ||| Pred: <sys> restaurant Which city are you interested in?
[[Attention: <sys>(1.0) you(0.9999409914016724) ?(0.9960235357284546) </s>(0.9993575215339661)]]
-
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? How can I help? </s>|<s> <usr> movie Hi . Recommend a movie . </s>
movie:: True: <sys> movie Which type of movie? ||| Pred: <sys> restaurant What kind of food do you like?
[[Attention: <sys>(0.999998927116394) ?(0.9998570680618286) </s>(0.9561173915863037)]]
-
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? How can I help? </s>|<s> <usr> movie What' s up? What should hmm...I watch now </s>
movie:: True: <sys> movie What genre do you like? ||| Pred: <sys> restaurant Which place?
[[Attention: <sys>(1.0) ?(0.9996354579925537) </s>(0.5748418569564819)]]
-
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? What can I do for you? </s>|<s> <usr> movie Hi . Recommend a movie . </s>
movie:: True: <sys> movie Which type of movie? ||| Pred: <sys> restaurant What can I do for you?
[[Attention: <sys>(0.9999998807907104) <d>(0.2506580054759979) What(0.10022423416376114) I(0.9987009763717651) do(0.9559270739555359) you(0.9995026588439941) ?(0.9979887008666992) </s>(0.996085524559021)]]
-
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? How can I help? </s>|<s> <usr> movie Hello robot . Recommend a movie . </s>
movie:: True: <sys> movie Which type of movie? ||| Pred: <sys> restaurant What do you need?
[[Attention: <sys>(0.9999977350234985) ?(0.9994409680366516) </s>(0.9761665463447571)]]
-
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? What do you need? </s>|<s> <usr> movie What' s up? Give me some good suggestions about movies . </s>
movie:: True: <sys> movie What genre do you like? ||| Pred: <sys> restaurant Which place?
[[Attention: <sys>(1.0) ?(0.9986259937286377) </s>(0.6303979158401489)]]
-
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? How can I help? </s>|<s> <usr> movie Hi . Recommend a movie . </s>
movie:: True: <sys> movie Which type of movie? ||| Pred: <sys> restaurant What can I do for you?
[[Attention: <sys>(0.9999998807907104) I(0.9984649419784546) ?(0.9991299510002136) </s>(0.9787092208862305)]]
-
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? How can I help? </s>|<s> <usr> movie Hi . Recommend a movie . </s>
movie:: True: <sys> movie Which type of movie? ||| Pred: <sys> restaurant What can I do for you?
[[Attention: <sys>(1.0) I(0.9986433386802673) ?(0.9993274211883545) </s>(0.9803870320320129)]]
-
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? What can I do for you? </s>|<s> <usr> movie Hello robot . hmm...What should I watch now </s>
movie:: True: <sys> movie What genre do you like? ||| Pred: <sys> restaurant Which city are you interested in?
[[Attention: <sys>(0.9999998807907104) you(0.9998908042907715) ?(0.9929446578025818) </s>(0.9994006156921387)]]
-
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? How can I help? </s>|<s> <usr> movie Hi . Give me some good suggestions about movies . </s>
movie:: True: <sys> movie Which type of movie? ||| Pred: <sys> restaurant What can I do for you?
[[Attention: <sys>(1.0) I(0.9985585808753967) ?(0.9993045330047607) </s>(0.9832267165184021)]]
-
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? How can I help? </s>|<s> <usr> movie What' s up? Give me uhm some good suggestions about movies . </s>
movie:: True: <sys> movie Which type of movie? ||| Pred: <sys> restaurant Which place?
[[Attention: <sys>(1.0) ?(0.9997739195823669) </s>(0.5336741805076599)]]
-
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? What can I do for you? </s>|<s> <usr> movie What' s up? Recommend a movie . </s>
movie:: True: <sys> movie What genre do you like? ||| Pred: <sys> restaurant Which place?
[[Attention: <sys>(1.0) ?(0.999880313873291) </s>(0.7583361268043518)]]
-
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? What do you need? </s>|<s> <usr> movie Hello uhm yeah Hello robot . hmm...Recommend a movie . </s>
movie:: True: <sys> movie What genre do you like? ||| Pred: <sys> restaurant Which city are you interested in?
[[Attention: <sys>(1.0) you(0.9996654987335205) ?(0.995711088180542) </s>(0.9796450138092041)]]
-
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? What can I do for you? </s>|<s> <usr> movie What' s up? Recommend a movie . </s>
movie:: True: <sys> movie Which type of movie? ||| Pred: <sys> restaurant Which place?
[[Attention: <sys>(1.0) ?(0.9998701810836792) </s>(0.7444535493850708)]]
-
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? What do you need? </s>|<s> <usr> movie Hi . Give me some hmm good suggestions about movies . </s>
movie:: True: <sys> movie Which type of movie? ||| Pred: <sys> restaurant Goodbye.
[[Attention: <sys>(0.9999994039535522) .(0.227848619222641) </s>(0.9946424961090088)]]
-
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? What can I do for you? </s>|<s> <usr> movie Hi . Recommend a movie . </s>
movie:: True: <sys> movie What genre do you like? ||| Pred: <sys> restaurant Which place?
[[Attention: <sys>(1.0) ?(0.9996533393859863) </s>(0.7737078070640564)]]
-
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? How can I help? </s>|<s> <usr> movie Hi . Give me some good suggestions about movies . </s>
movie:: True: <sys> movie What genre do you like? ||| Pred: <sys> restaurant Which city are you interested in?
[[Attention: <sys>(0.9999959468841553) ?(0.9965224266052246) </s>(0.9889361262321472)]]
-
Source: <s> movie <d> </s>|<s> <sys> movie Want to know about movies? How can I help? </s>|<s> <usr> movie Hello robot . What should I watch now </s>
movie:: True: <sys> movie Which type of movie? ||| Pred: <sys> restaurant What kind of food do you like?
[[Attention: <sys>(0.9999992847442627) ?(0.9998488426208496) </s>(0.9740964770317078)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.529197 recall 0.677570 and f1 0.594262
Intent precision 0.829161 recall 0.725048 and f1 0.773617
KB precision 0.851064 recall 0.566572 and f1 0.680272
BLEU 0.425045 BEAK 0.603817

request: 0.35295521010741676
query: 0.4415254073513999
implicit_confirm: 0.2669812252715813
inform: 0.4156427440651725
explicit_confirm: 0.20058862949615933
goodbye: 0.14653449419893136
greet: 0.5679319659578685

Generation Done

**** Epcoch 17/100 ****
200/1000-(0.000): Train nll 0.047 PPL 1.049 attn_loss 0.083 distance 0.349 distance_semantic 0.005 loss_pack_warm 1.701 distance1 0.023
400/1000-(0.000): Train nll 0.047 PPL 1.048 attn_loss 0.072 distance 0.353 distance_semantic 0.004 loss_pack_warm 1.653 distance1 0.021
600/1000-(0.000): Train nll 0.045 PPL 1.046 attn_loss 0.079 distance 0.342 distance_semantic 0.005 loss_pack_warm 1.616 distance1 0.024
800/1000-(0.000): Train nll 0.044 PPL 1.045 attn_loss 0.080 distance 0.346 distance_semantic 0.005 loss_pack_warm 1.665 distance1 0.023
0/1000-(0.000): Train nll 0.045 PPL 1.046 attn_loss 0.070 distance 0.353 distance_semantic 0.004 loss_pack_warm 1.605 distance1 0.022

=== Evaluating Model ===
Train nll 0.046 PPL 1.047 attn_loss 0.077 distance 0.349 distance_semantic 0.004 loss_pack_warm 1.648 distance1 0.023
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.144 PPL 1.155 attn_loss 0.136 distance 0.333 distance_semantic 0.276 loss_pack_warm 0.276 distance1 0.276
Total valid loss 0.2002301812171936
Generation: 50 batches
Source:  </s>|<s> <usr> movie Hi . Give me some good suggestions about movies . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I like Documentary movies . Oh no, I like Family movies . </s>
movie:: True: <sys> movie I believe you said Family . What' s the time period? ||| Pred: <sys> movie What kind of food do you like?
[[Attention: <sys>(0.9989848732948303) do(0.8852518796920776) you(0.6099219918251038) like(0.5719138979911804) ?(0.9843124747276306) </s>(0.8954773545265198)]]
-
Source: vie Want to know about movies? What can I do for you? </s>|<s> <usr> movie What' s hmm up? Recommend a movie . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Whatever is good . </s>
movie:: True: <sys> movie Alright, dont_care . Movie in what years? ||| Pred: <sys> restaurant Okay, you dont_care . What type of restaurant?
[[Attention: <sys>(0.9807033538818359) you(0.9519431591033936) .(0.9664026498794556) What(0.3340805470943451) ?(0.9543660879135132) </s>(0.757965624332428)]]
-
Source: ow about movies? What do you need? </s>|<s> <usr> movie What' s uhm yeah What' s up? What hmm...should I watch </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Fantasy ones . </s>
movie:: True: <sys> movie I believe you said Fantasy . What' s the time period? ||| Pred: <sys> restaurant Okay, you dont_care . What type of restaurant?
[[Attention: <sys>(0.956315815448761) you(0.9995529055595398) .(0.9959442019462585) of(0.5290402173995972) ?(0.5855310559272766) </s>(0.6233963966369629)]]
-
Source:  </s>|<s> <usr> movie Hello robot . Give me some good suggestions about movies . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I like Horror movies . Uhm sorry, Drama movies . </s>
movie:: True: <sys> movie I believe you said Drama . Movie in what years? ||| Pred: <sys> restaurant What kind of food do you like?
[[Attention: <sys>(0.9976919889450073) do(0.7497156262397766) you(0.9048214554786682) like(0.9545198678970337) ?(0.9577590227127075) </s>(0.5094649195671082)]]
-
Source: /s>|<s> <sys> movie Want to know about movies? What do you need? </s>|<s> <usr> movie Hi . What should I watch now </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Drama movies . </s>
movie:: True: <sys> movie I believe you said Drama . Movie in what years? ||| Pred: <sys> restaurant What kind of food do you like?
[[Attention: <sys>(0.9254416823387146) What(0.2437964379787445) do(0.5170627236366272) you(0.8814583420753479) like(0.9374181032180786) ?(0.92528235912323) </s>(0.5901411771774292)]]
-
Source: </s>|<s> <usr> movie Hello robot . Give hmm me some good suggestions about movies . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Sport . From hmm Mexico . Uhm sorry, Russia . </s>
movie:: True: <sys> movie I believe you said Sport . I believe you said Russia . What' s the time period? ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Sport ", "# years ": " Sport ", "# country ": " Russia "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.997841477394104) Sport(0.7142791748046875) Sport(0.9915125966072083) Russia(0.9613304734230042) </s>(0.5956624150276184)]]
-
Source: w about movies? What do you need? </s>|<s> <usr> movie Hi . Recommend a movie . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Action . Movies in hmm...60s Oh no, Movies in 70s </s>
movie:: True: <sys> movie I believe you said Action . I believe you said 70s . Which country' s movie? ||| Pred: <sys> restaurant What kind of food do you like?
[[Attention: <sys>(0.8113064765930176) What(0.6007063388824463) do(0.5029730796813965) you(0.849361777305603) like(0.9779675006866455) ?(0.9008406400680542) </s>(0.6355075836181641)]]
-
Source: p? </s>|<s> <usr> movie Hello robot . hmm...Give me some good suggestions about movies . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I love Family ones . Movies hmm...in 60s </s>
movie:: True: <sys> movie I believe you said Family . I believe you said 60s . Movie from what country? ||| Pred: <sys> movie Alright, dont_care . I believe you said Indian . {" QUERY ": {"# food_pref ": " Indian ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9865988492965698) .(0.9959053993225098) I(0.2221481204032898) you(0.9991055130958557) 60s(0.19147704541683197) .(0.9840152263641357) </s>(0.7514535188674927)]]
-
Source: w about movies? How can I help? </s>|<s> <usr> movie What' s up? uhm yeah What' s up? What should I watch </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I like Fantasy movies . </s>
movie:: True: <sys> movie I believe you said Fantasy . What' s the time period? ||| Pred: <sys> restaurant What kind of food do you like?
[[Attention: <sys>(0.9843724966049194) do(0.9853943586349487) you(0.9998635053634644) like(0.4957379698753357) ?(0.5714694857597351) </s>(0.6302928328514099)]]
-
Source: nt to know about movies? What can I do for you? </s>|<s> <usr> movie Hello robot . What uhm should I watch now </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Anything is fine . </s>
movie:: True: <sys> movie Alright, dont_care . Movie in what years? ||| Pred: <sys> restaurant What kind of food do you like?
[[Attention: <sys>(0.8332134485244751) What(0.38156890869140625) do(0.8169683218002319) you(0.7017162442207336) like(0.9327031373977661) ?(0.9735994935035706) </s>(0.9104167222976685)]]
-
Source: ovies? What do you need? </s>|<s> <usr> movie Hello uhm robot . Recommend a movie . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I love Music ones . Oh no, Anything is fine . </s>
movie:: True: <sys> movie Movie in what years? ||| Pred: <sys> restaurant Goodbye.
[[Attention: <sys>(0.5892727971076965) What(0.11484158039093018) .(0.9260187149047852) </s>(0.5363196134567261)]]
-
Source: <sys> movie Want to know about movies? What do you need? </s>|<s> <usr> movie Hello robot . Recommend a movie . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Sci - Fi movies . </s>
movie:: True: <sys> movie I believe you said Sci - Fi . Movie in what years? ||| Pred: <sys> restaurant What kind of food do you like?
[[Attention: <sys>(0.9187270402908325) do(0.6097530126571655) you(0.873857855796814) like(0.9694865942001343) ?(0.8975337743759155) </s>(0.6205182671546936)]]
-
Source: ies? What do you need? </s>|<s> <usr> movie Hello robot . Recommend a movie . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie Whatever is good . Oh no, Music movies . Movies in 80s </s>
movie:: True: <sys> movie Which country' s movie? ||| Pred: <sys> movie What kind of food do you like?
[[Attention: <sys>(0.9896190762519836) do(0.99191814661026) you(0.9998764991760254) ?(0.7598473429679871) </s>(0.7806249260902405)]]
-
Source:  for you? </s>|<s> <usr> movie What' s up? Recommend a movie . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie Crime hmm uhm yeah Crime hmm movies . Oh sorry, Anything is fine . In </s>
movie:: True: <sys> movie Okay, you dont_care . I believe you said 90s . Which country' s movie? ||| Pred: <sys> restaurant Okay, you dont_care . {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9487519860267639) ,(0.9902282953262329) you(0.9994710087776184) .(0.5890060067176819) </s>(0.9922986626625061)]]
-
Source: out movies? What can I do for you? </s>|<s> <usr> movie Hello robot . uhm yeah Hello robot . Recommend a movie . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Drama ones . </s>
movie:: True: <sys> movie What' s the time period? ||| Pred: <sys> restaurant What kind of food do you like?
[[Attention: <sys>(0.9836913347244263) What(0.9667419195175171) of(0.9148616790771484) do(0.9962173104286194) you(0.9999430179595947) ?(0.9998853206634521) </s>(0.9746818542480469)]]
-
Source: > <sys> movie Want to know about movies? How can I help? </s>|<s> <usr> movie Hi . What should I watch now </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Documentary ones . </s>
movie:: True: <sys> movie I believe you said Documentary . Movie in what years? ||| Pred: <sys> restaurant What kind of food do you like?
[[Attention: <sys>(0.998069703578949) of(0.2763979732990265) ?(0.9273717403411865) </s>(0.8588900566101074)]]
-
Source:  movies? How can I help? </s>|<s> <usr> movie What' s up? Give me uhm some good suggestions about movies . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Documentary ones . </s>
movie:: True: <sys> movie I believe you said Documentary . What' s the time period? ||| Pred: <sys> restaurant What kind of food do you like?
[[Attention: <sys>(0.9712550044059753) What(0.5938755869865417) of(0.6752000451087952) ?(0.9892761707305908) </s>(0.9532833099365234)]]
-
Source: <sys> movie Want to know about movies? How can I help? </s>|<s> <usr> movie What' s up? Recommend a movie . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I love Romance ones . </s>
movie:: True: <sys> movie Movie in what years? ||| Pred: <sys> restaurant Which city are you interested in?
[[Attention: <sys>(0.6772392988204956) you(0.9999923706054688) ?(0.8802716135978699) </s>(0.8699685335159302)]]
-
Source: ovie Want to know about movies? What do you need? </s>|<s> <usr> movie Hi . What should I watch now </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Family movies . From Russia . </s>
movie:: True: <sys> movie I believe you said Family . I believe you said Russia . What' s the time period? ||| Pred: <sys> movie What kind of food do you like?
[[Attention: <sys>(0.9922583699226379) do(0.6397655010223389) you(0.5914151072502136) like(0.5284817814826965) ?(0.9820339679718018) </s>(0.5770072340965271)]]
-
Source: do you need? </s>|<s> <usr> movie What' s up? What should I watch now </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I uhm yeah I hmm like Family movies . Movies in 2010 - present </s>
movie:: True: <sys> movie I believe you said Family . I believe you said 2010 - present . Which country' s movie? ||| Pred: <sys> movie What kind of food do you like?
[[Attention: <sys>(0.9665530920028687) do(0.993850827217102) you(0.9999297857284546) ?(0.7671973705291748) </s>(0.8751322031021118)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.567474 recall 0.551261 and f1 0.559250
Intent precision 0.873270 recall 0.745647 and f1 0.804428
KB precision 0.889133 recall 0.600445 and f1 0.716814
BLEU 0.403222 BEAK 0.600497

request: 0.2587640914220016
implicit_confirm: 0.2743182639946558
greet: 0.08750521557158857
query: 0.4853709977010567
inform: 0.4403771904190094
explicit_confirm: 0.22351552638519626
goodbye: 0.31533024651366265

Generation Done

**** Epcoch 18/100 ****
200/1000-(0.000): Train nll 0.048 PPL 1.049 attn_loss 0.090 distance 0.355 distance_semantic 0.004 loss_pack_warm 1.596 distance1 0.023
400/1000-(0.000): Train nll 0.048 PPL 1.049 attn_loss 0.103 distance 0.361 distance_semantic 0.005 loss_pack_warm 1.628 distance1 0.028
600/1000-(0.000): Train nll 0.048 PPL 1.049 attn_loss 0.086 distance 0.365 distance_semantic 0.004 loss_pack_warm 1.624 distance1 0.023
800/1000-(0.000): Train nll 0.044 PPL 1.045 attn_loss 0.099 distance 0.336 distance_semantic 0.005 loss_pack_warm 1.755 distance1 0.027
0/1000-(0.000): Train nll 0.052 PPL 1.053 attn_loss 0.075 distance 0.363 distance_semantic 0.004 loss_pack_warm 1.633 distance1 0.025

=== Evaluating Model ===
Train nll 0.048 PPL 1.049 attn_loss 0.091 distance 0.356 distance_semantic 0.004 loss_pack_warm 1.647 distance1 0.025
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.150 PPL 1.162 attn_loss 0.118 distance 0.344 distance_semantic 0.285 loss_pack_warm 0.285 distance1 0.285
Total valid loss 0.20847366750240326
Generation: 50 batches
Source: et . Which company produced this movie?. </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# company ": " 20th Century Fox "}} </s>
movie:: True: <sys> movie It' s made by 20th Century Fox . Are you happy about my answer? ||| Pred: <sys> movie No, The restaurant has 20th 20th . Are you happy about my answer?
[[Attention: <sys>(0.6285153031349182) movie(0.9324380159378052) 20th(0.9809087514877319) 20th(0.4097188413143158) .(0.25510406494140625) What(0.3085564970970154) you(0.28864413499832153) happy(0.9984326958656311) about(0.99925297498703) my(0.9953268766403198) answer(0.9996342658996582) ?(0.7369515299797058) </s>(0.9170233011245728)]]
-
Source: > movie I have more requests . Who is the director?. </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " dont_care ", "# </s>|<s> <usr> movie {" RET ": {"# director ": " Q "}} </s>
movie:: True: <sys> movie The director is Q . Are you happy about my answer? ||| Pred: <sys> movie The movie is Q . What else can I do?
[[Attention: <sys>(0.979786217212677) movie(0.9281679391860962) Q(0.87947016954422) .(0.9605107307434082) What(0.24678988754749298) else(0.5990639328956604) can(0.5625744462013245) I(0.49385225772857666) do(0.7534051537513733) ?(0.8604158759117126) </s>(0.5648811459541321)]]
-
Source: m requests . Which company produced this movie?. </s>|<s> <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# company ": " Sony "}} </s>
movie:: True: <sys> movie It' s made by Sony . Anything else? ||| Pred: <sys> movie The movie is Sony . What else can I do?
[[Attention: <sys>(0.9272630214691162) movie(0.8907678723335266) is(0.629670262336731) Sony(0.9537143111228943) .(0.7831387519836426) What(0.23256978392601013) else(0.9986861348152161) can(0.9975825548171997) I(0.868489146232605) do(0.9740325808525085) ?(0.8055891394615173) </s>(0.8700811266899109)]]
-
Source: > <sys> movie Do you mean 90s? </s>|<s> <usr> movie Yes . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 90s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 175 "}} </s>
movie:: True: <sys> movie Movie 175 is a good choice . What else can I do? ||| Pred: <sys> 175 175 175 is 175 . Anything else?
[[Attention: <sys>(0.5172432065010071) 175(0.608182966709137) 175(0.5535460114479065) 175(0.8143996000289917) 175(0.9989668130874634) ?(0.8515123724937439) </s>(0.4741348326206207)]]
-
Source: re, do you? </s>|<s> <usr> movie That' s correct . </s>|<s> <sys> movie Alright, dont_care . {" QUERY ": {"# genre ": " Music ", "# years ": </s>|<s> <usr> movie {" RET ": {"# default ": " 61 "}} </s>
movie:: True: <sys> movie Movie 61 is a good choice . Anything else? ||| Pred: <sys> movie Movie 61 is a good choice . Anything else?
[[Attention: <sys>(0.8112680912017822) movie(0.34072190523147583) 61(0.9999967813491821) good(0.5886629819869995) .(0.6889881491661072) What(0.12191158533096313) ?(0.9610105156898499) </s>(0.7234705090522766)]]
-
Source: > <usr> movie One more thing . uhm Which company? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# company ": " MGM "}} </s>
movie:: True: <sys> movie The movie is from MGM . Anything else? ||| Pred: <sys> movie The movie is MGM . Anything else?
[[Attention: <sys>(0.5599001049995422) movie(0.9017085433006287) MGM(0.9944413304328918) .(0.5472825765609741) else(0.9984740614891052) ?(0.6276726126670837) </s>(0.7198565602302551)]]
-
Source: tern ones . Uhm sorry, hmm...I like Family movies . </s>|<s> <sys> movie I believe you said Family . {" QUERY ": {"# genre ": " Family ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 11 "}} </s>
movie:: True: <sys> movie Movie 11 is a good choice . Anything else? ||| Pred: <sys> movie Movie 11 is a good choice . Anything else?
[[Attention: <sys>(0.8459893465042114) 11(0.4519070088863373) 11(0.9999405145645142) is(0.807488203048706) a(0.9933043122291565) good(0.9458683133125305) choice(0.99772709608078) .(0.47460615634918213) else(0.9974289536476135) ?(0.5398769974708557) </s>(0.46981826424598694)]]
-
Source: uhm yeah One more thing . Who is hmm...the director?. </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Documentary ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# director ": " Q "}} </s>
movie:: True: <sys> movie The director is Q . Are you happy about my answer? ||| Pred: <sys> movie The movie is Q . What else can I do?
[[Attention: <sys>(0.5043387413024902) movie(0.7603884339332581) Q(0.9941933751106262) .(0.5318546295166016) What(0.32887232303619385) else(0.9655210375785828) I(0.5500196814537048) do(0.9968589544296265) ?(0.7344860434532166) </s>(0.47761350870132446)]]
-
Source: e . You dont_care, right? </s>|<s> <usr> movie Yeah . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " dont_care ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 62 "}} </s>
movie:: True: <sys> movie Movie 62 is a good choice . Are you happy about my answer? ||| Pred: <sys> 62 Restaurant 62 is a good choice . Anything else?
[[Attention: <sys>(0.7164002656936646) 62(0.7296895980834961) 62(1.0) is(0.9973577857017517) good(0.8870648741722107) .(0.6705209016799927) ?(0.4443516731262207) </s>(0.6728894114494324)]]
-
Source:  movie I have more requests . How people rate this movie? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 90s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 4 "}} </s>
movie:: True: <sys> movie This movie has a rating of 4 . Anything else? ||| Pred: <sys> movie The movie is 4 . Anything else?
[[Attention: <sys>(0.8282053470611572) 38(0.4348396360874176) is(0.9448817372322083) 4(0.9998601675033569) .(0.8437169790267944) Anything(0.2436482459306717) else(0.9991890788078308) ?(0.9812405705451965) </s>(0.6554611921310425)]]
-
Source: </s>|<s> <usr> movie Not hmm done yet . What' s the rating? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Western ", "# years ": " 80s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 0 "}} </s>
movie:: True: <sys> movie The rating is 0 . Anything else? ||| Pred: <sys> movie The movie is 0 . What else can I do?
[[Attention: <sys>(0.683739185333252) movie(0.15695461630821228) is(0.15836596488952637) 0(0.9856040477752686) .(0.7471806406974792) What(0.16786110401153564) can(0.3869996666908264) I(0.45388370752334595) do(0.7754379510879517) ?(0.8395921587944031) </s>(0.9452228546142578)]]
-
Source: s>|<s> <usr> movie Not done yet . Is it directed by J? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# director ": " H "}} </s>
movie:: True: <sys> movie No, The director is H . What else can I do? ||| Pred: <sys> movie No, The restaurant serves H food . What else can I do?
[[Attention: <sys>(0.9978061318397522) movie(0.8838964700698853) H(0.9908633828163147) .(0.8109154105186462) What(0.2822805941104889) I(0.8589147329330444) do(0.6150084733963013) ?(0.7313489317893982) </s>(0.2648831009864807)]]
-
Source: <sys> movie Do you mean Germany? </s>|<s> <usr> movie Yep . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 34 "}} </s>
movie:: True: <sys> movie Movie 34 is a good choice . What else can I do? ||| Pred: <sys> 34 Restaurant 34 is a good choice . Anything else?
[[Attention: <sys>(0.8749117851257324) 34(0.9315889477729797) 34(0.9999998807907104) is(0.9994489550590515) a(0.9996602535247803) good(0.9924224019050598) choice(0.9981135129928589) .(0.4485852122306824) else(0.9979475140571594) ?(0.5446192622184753) </s>(0.5126438140869141)]]
-
Source: |<s> <usr> movie Not done yet . Who is the director?. </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# director ": " T "}} </s>
movie:: True: <sys> movie It' s director by T . What else can I do? ||| Pred: <sys> movie The restaurant serves T food . What else can I do?
[[Attention: <sys>(0.5440455079078674) movie(0.7590616941452026) T(0.9999902248382568) .(0.7740179896354675) What(0.23065514862537384) else(0.9995276927947998) can(0.9997747540473938) I(0.9484047889709473) do(0.8485726118087769) ?(0.9351022839546204) </s>(0.7400625944137573)]]
-
Source: an I help? </s>|<s> <usr> movie Who is the director?. </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# director ": " R "}} </s>
movie:: True: <sys> movie It' s director by R . What else can I do? ||| Pred: <sys> movie No, The restaurant serves R food . What else can I do?
[[Attention: <sys>(0.9971957206726074) movie(0.8018352389335632) ,(0.6952072381973267) R(0.9995632767677307) .(0.9003167152404785) What(0.28506726026535034) can(0.4290643632411957) I(0.4131632447242737) do(0.9927595853805542) ?(0.6210290789604187) </s>(0.5053002834320068)]]
-
Source:  <usr> movie Not uhm yeah Not done yet . What' s the rating? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 0 "}} </s>
movie:: True: <sys> movie The rating is 0 . What else can I do? ||| Pred: <sys> movie The movie is 0 . Anything else?
[[Attention: <sys>(0.9666669368743896) 126(0.35513225197792053) 0(0.5961328148841858) .(0.9298901557922363) else(0.6999748945236206) ?(0.7116483449935913) </s>(0.7422900795936584)]]
-
Source: >|<s> <usr> movie Not done yet . How people rate this movie? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 70s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 3 "}} </s>
movie:: True: <sys> movie This movie has a rating of 3 . Anything else? ||| Pred: <sys> movie The restaurant has 3 a . Are you happy about my answer?
[[Attention: <sys>(0.6281225681304932) 12(0.23385921120643616) 3(0.9981120824813843) a(0.8318444490432739) .(0.5144650340080261) What(0.1798417717218399) you(0.466097891330719) happy(0.9993312358856201) about(0.9998682737350464) my(0.999349057674408) answer(0.9999409914016724) ?(0.7234756350517273) </s>(0.7807003259658813)]]
-
Source: ? </s>|<s> <usr> movie Not done yet . Who is the director?. </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " 90s ", "# </s>|<s> <usr> movie {" RET ": {"# director ": " E "}} </s>
movie:: True: <sys> movie It' s director by E . What else can I do? ||| Pred: <sys> movie The restaurant serves E food . What else can I do?
[[Attention: <sys>(0.9437019228935242) movie(0.952489972114563) E(0.9912466406822205) .(0.9831076860427856) What(0.24967004358768463) else(0.8431958556175232) can(0.999574601650238) I(0.6371670961380005) do(0.9626878499984741) ?(0.6747521758079529) </s>(0.8991019129753113)]]
-
Source: Movie in what years? </s>|<s> <usr> movie Movies in 90s </s>|<s> <sys> movie I believe you said 90s . {" QUERY ": {"# genre ": " Drama ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 42 "}} </s>
movie:: True: <sys> movie Movie 42 is a good choice . What else can I do? ||| Pred: <sys> 42 Restaurant 42 is a good choice . What else can I do?
[[Attention: <sys>(0.7646903395652771) 42(0.6960028409957886) 42(1.0) .(0.8082557320594788) can(0.6967887878417969) I(0.625744104385376) ?(0.47809749841690063) </s>(0.33797749876976013)]]
-
Source: nswer? </s>|<s> <usr> movie Not done yet . Who directed it? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " 90s ", "# </s>|<s> <usr> movie {" RET ": {"# director ": " R "}} </s>
movie:: True: <sys> movie The director is R . Anything else? ||| Pred: <sys> movie The movie is R . Anything else?
[[Attention: <sys>(0.4596024453639984) movie(0.825982928276062) R(0.8752650022506714) .(0.8917235732078552) What(0.21999365091323853) else(0.9879941940307617) ?(0.7131115794181824) </s>(0.8381736874580383)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.530882 recall 0.609797 and f1 0.567610
Intent precision 0.885359 recall 0.783140 and f1 0.831118
KB precision 0.868783 recall 0.636928 and f1 0.735004
BLEU 0.455344 BEAK 0.630355

request: 0.3784604200678816
inform: 0.482274500998154
query: 0.5013875632118516
goodbye: 0.5189423591608955
implicit_confirm: 0.36824698821956564
explicit_confirm: 0.20636332113273628
greet: 0.376659206461704

Generation Done

**** Epcoch 19/100 ****
200/1000-(0.000): Train nll 0.042 PPL 1.043 attn_loss 0.085 distance 0.359 distance_semantic 0.004 loss_pack_warm 1.669 distance1 0.028
400/1000-(0.000): Train nll 0.044 PPL 1.045 attn_loss 0.093 distance 0.359 distance_semantic 0.004 loss_pack_warm 1.637 distance1 0.025
600/1000-(0.000): Train nll 0.047 PPL 1.048 attn_loss 0.064 distance 0.377 distance_semantic 0.004 loss_pack_warm 1.629 distance1 0.020
800/1000-(0.000): Train nll 0.041 PPL 1.042 attn_loss 0.078 distance 0.347 distance_semantic 0.004 loss_pack_warm 1.749 distance1 0.024
0/1000-(0.000): Train nll 0.042 PPL 1.043 attn_loss 0.083 distance 0.362 distance_semantic 0.004 loss_pack_warm 1.749 distance1 0.026

=== Evaluating Model ===
Train nll 0.043 PPL 1.044 attn_loss 0.080 distance 0.361 distance_semantic 0.004 loss_pack_warm 1.687 distance1 0.025
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.142 PPL 1.153 attn_loss 0.119 distance 0.343 distance_semantic 0.284 loss_pack_warm 0.284 distance1 0.284
Total valid loss 0.2005683183670044
Generation: 50 batches
Source: <s> <usr> movie I have more requests . Is it directed by B? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# director ": " D "}} </s>
movie:: True: <sys> movie No, The director is D . Anything else? ||| Pred: <sys> movie No, The movie is D . Are you happy about my answer?
[[Attention: <sys>(0.4958925247192383) movie(0.6891237497329712) ,(0.24670690298080444) movie(0.22783873975276947) D(0.9996721744537354) .(0.5284816026687622) you(0.7974007725715637) ?(0.4709288775920868) </s>(0.6395511627197266)]]
-
Source: I uhm yeah I have more requests . Is this movie from Sony? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# company ": " MGM "}} </s>
movie:: True: <sys> movie No, The movie is from MGM . Anything else? ||| Pred: <sys> movie No, It is MGM right now . Anything else?
[[Attention: <sys>(0.9506734013557434) movie(0.4673622250556946) is(0.9305891394615173) MGM(0.9998774528503418) .(0.5898512005805969) ?(0.4944077730178833) </s>(0.42021700739860535)]]
-
Source: > movie Movies in 2010 - present Oh sorry, Movies in 60s </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Fantasy ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 151 "}} </s>
movie:: True: <sys> movie Movie 151 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie Movie 151 is a good choice . Anything else?
[[Attention: <sys>(0.37549909949302673) movie(0.7394229769706726) 151(0.9834339618682861) is(0.5344095826148987) a(0.42279955744743347) good(0.6053050756454468) choice(0.5785108208656311) .(0.5018302798271179) else(0.9995662569999695) ?(0.7273814678192139) </s>(0.5396113991737366)]]
-
Source: r> movie One more thing . How people rate hmm this movie? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 0 "}} </s>
movie:: True: <sys> movie This movie has a rating of 0 . Anything else? ||| Pred: <sys> movie The movie is 0 . Anything else?
[[Attention: <sys>(0.9977874755859375) is(0.8930743336677551) 0(0.8909744024276733) .(0.57319176197052) else(0.9956310987472534) ?(0.8074846863746643) </s>(0.5966255068778992)]]
-
Source:  <usr> movie Not done yet . How people rate this movie? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Music ", "# years ": " dont_care ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 3 "}} </s>
movie:: True: <sys> movie This movie has a rating of 3 . Are you happy about my answer? ||| Pred: <sys> 107 The restaurant serves 3 food . Are you happy about my answer?
[[Attention: <sys>(0.44424325227737427) 107(0.9892964959144592) 3(0.99777752161026) .(0.7227339744567871) you(0.4654633402824402) happy(0.8215144276618958) about(0.5633702874183655) my(0.6594002842903137) answer(0.6968715786933899) ?(0.7367343902587891) </s>(0.6232572197914124)]]
-
Source: " 80s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 4 "}} </s>|<s> <sys> movie Yes, The rating is 4 . Anything else? </s>|<s> <usr> movie Not done yet . Which company produced this movie?. </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " 80s ", "# country ": " Germany "}, " GOALS ": ["# company "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " 80s ", "# country ": " 80s "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.6797793507575989) 198(0.33057552576065063) QUERY(0.9803072810173035) ":(0.5131822824478149) {"#(0.5546778440475464) genre(0.329402893781662) ":(0.10007067024707794) "(0.9718458652496338) Drama(0.998241662979126) ",(0.39022088050842285) "#(0.8180182576179504) ":(0.36550188064575195) "(0.7518017888069153) 80s(0.9800171852111816) ":(0.15985548496246338) "(0.49847763776779175) 80s(0.9893733859062195) "(0.970571756362915) ":(0.7178214192390442) </s>(0.9291043281555176)]]
-
Source:  ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 62 "}} </s>|<s> <sys> movie Movie 62 is a good choice . What else can I do? </s>|<s> <usr> movie Not done yet . What' s the rating? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 60s ", "# country ": " Russia "}, " GOALS ": ["# rating "]} ||| Pred: <sys> 62 {" QUERY ": {"# food_pref ": " Family ", "# loc ": " 60s "}, " GOALS ": ["# open "]}
[[Attention: <sys>(0.6993862390518188) 62(0.5102793574333191) {"(0.34876930713653564) QUERY(0.7908636927604675) ":(0.8847240805625916) {"#(0.5800609588623047) ":(0.4947423040866852) "(0.6955814361572266) Family(0.8589504361152649) ",(0.37750211358070374) "#(0.8125720620155334) ":(0.7514706254005432) "(0.36068636178970337) 60s(0.9925089478492737) "(0.5205019116401672) ":(0.5262200832366943) </s>(0.4267025291919708)]]
-
Source:  60s ", "# </s>|<s> <usr> movie {" RET ": {"# director ": " U "}} </s>|<s> <sys> movie The director is U . Anything else? </s>|<s> <usr> movie I have more requests . Is this movie from Universal? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Documentary ", "# years ": " 60s ", "# country ": " USA "}, " GOALS ": ["# company "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Documentary ", "# years ": " Universal ", "# country ": " Universal "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.6556819081306458) <d>(0.2944243848323822) {"(0.6769808530807495) QUERY(0.5050451755523682) ":(0.454476535320282) {"#(0.5100337266921997) ":(0.23415933549404144) "(0.9135547876358032) Documentary(0.6695383191108704) ",(0.5798436403274536) "#(0.5609399676322937) ":(0.48169851303100586) "(0.5030820369720459) Universal(0.9999761581420898) ":(0.3527713716030121) "(0.48755353689193726) Universal(0.9851166605949402) "(0.7075881361961365) ":(0.44329842925071716) </s>(0.8296613693237305)]]
-
Source: : " 2010 - present </s>|<s> <usr> movie {" RET ": {"# director ": " C "}} </s>|<s> <sys> movie The director is C . Anything else? </s>|<s> <usr> movie One more thing . How people rate this movie? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " 2010 - present ", "# country ": " Thailand "}, " GOALS ": ["# rating "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " 2010 - present ", "# country ": " How "}, " GOALS ": ["# company "]}
[[Attention: <sys>(0.777799129486084) movie(0.38890746235847473) {"(0.24213182926177979) QUERY(0.881095290184021) ":(0.7622981071472168) {"#(0.6538436412811279) ":(0.311328262090683) "(0.48447248339653015) Drama(0.9327991008758545) ",(0.9746893048286438) "#(0.7511239051818848) ":(0.3506574332714081) "(0.5046594738960266) 2010(0.8510077595710754) -(0.7230837941169739) present(0.1305736005306244) ":(0.6193939447402954) "(0.4069514274597168) How(0.7849435806274414) "(0.5903488993644714) ":(0.9890660047531128) </s>(0.5218825340270996)]]
-
Source: ys> movie The director is J . Anything else? </s>|<s> <usr> movie Not done yet . hmm Which company? </s>|<s> <sys> movie What do you need? </s>|<s> <usr> movie Which company produced this movie?. </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " 2010 - present ", "# country ": " France "}, " GOALS ": ["# company "]} ||| Pred: <sys> <d> Do you mean J?
[[Attention: <sys>(0.8942058086395264) <d>(0.5491187572479248) Do(0.16119958460330963) you(0.5512789487838745) mean(0.9945171475410461) J(0.9960972666740417) ?(0.6909491419792175) </s>(0.3511486053466797)]]
-
Source: ys> movie I believe you said 2000 - 2010 . Do you mean Documentary? </s>|<s> <usr> movie Yes . </s>|<s> <sys> movie I believe you said Documentary . Do you mean Korea? </s>|<s> <usr> movie Yeah . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Documentary ", "# years ": " 2000 - 2010 ", "# country ": " Korea "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Documentary ", "# years ": " 2000 - 2010 ", "# country ": " 2000 2010 ", "# country ": " a "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.29245826601982117) movie(0.48365554213523865) QUERY(0.9997624754905701) ":(0.9915258288383484) {"#(0.9550312757492065) ":(0.7335817813873291) "(0.9958128333091736) Documentary(0.9840323328971863) ",(0.859614908695221) "#(0.5942709445953369) ":(0.8598458766937256) "(0.7762366533279419) 2000(0.8919710516929626) -(0.6640059947967529) "#(0.4085027277469635) ":(0.6605588793754578) "(0.3077816665172577) 2000(0.3487564027309418) ":(0.2695980966091156) "(0.6716471314430237) a(0.5479357838630676) "(0.9044401049613953) ":(0.9501269459724426) default(0.9544046521186829) </s>(0.7176110148429871)]]
-
Source: usr> movie Yep . </s>|<s> <sys> movie I believe you said Sci - Fi . Do you mean 2010 - present? </s>|<s> <usr> movie Uh - huh . </s>|<s> <sys> movie Do you mean Japan? </s>|<s> <usr> movie Yeah . </s>
movie:: True: <sys> movie I believe you said Japan . {" QUERY ": {"# genre ": " Sci - Fi ", "# years ": " 2010 - present ", "# country ": " Japan "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Japan ", "# years ": " <sys> ", "# country ": " <sys> "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.3412761390209198) movie(0.6539332270622253) QUERY(0.9999628067016602) ":(0.9903340935707092) {"#(0.8666024804115295) ":(0.7414759397506714) "(0.9765415191650391) Japan(0.9958205223083496) ",(0.993671178817749) "#(0.9993672966957092) ":(0.49286630749702454) "(0.8987079858779907) <sys>(0.7299811244010925) "#(0.11448695510625839) ":(0.3141638934612274) "(0.7179864048957825) <sys>(0.7435757517814636) "(0.9152222871780396) ":(0.6911851167678833) default(0.9868013858795166) </s>(0.8246193528175354)]]
-
Source: > movie That' s correct . </s>|<s> <sys> movie I believe you said 60s . Do you mean Thailand? </s>|<s> <usr> movie Uh - huh . </s>|<s> <sys> movie Do you mean Thailand? </s>|<s> <usr> movie Yes . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " 60s ", "# country ": " Thailand "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " 60s ", "# years ": " 60s ", "# country ": " 60s "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9004639983177185) movie(0.5025579929351807) QUERY(0.999975323677063) ":(0.991424024105072) {"#(0.8007097840309143) ":(0.1866389364004135) "(0.9748528599739075) 60s(0.9621413350105286) ",(0.9995575547218323) "#(0.9997805953025818) ":(0.4981762766838074) "(0.49931472539901733) 60s(0.9942289590835571) ":(0.38625937700271606) "(0.9246086478233337) 60s(0.9910169839859009) "(0.9984128475189209) ":(0.7760920524597168) default(0.8894891738891602) </s>(0.844654381275177)]]
-
Source: <s> <usr> movie {" RET ": {"# company ": " 20th Century Fox "}} </s>|<s> <sys> movie The movie is from 20th Century Fox . Anything else? </s>|<s> <usr> movie One more thing . Is it directed by B? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 60s ", "# country ": " USA "}, " GOALS ": ["# director "]} ||| Pred: <sys> 62 {" QUERY ": {"# food_pref ": " 60s ", "# loc ": " by "}, " GOALS ": ["# price "]}
[[Attention: <sys>(0.8828770518302917) 62(0.8671945333480835) {"(0.6101946234703064) QUERY(0.8184674382209778) ":(0.6085388660430908) {"#(0.898917019367218) ":(0.9436449408531189) "(0.64384925365448) 60s(0.783589243888855) ",(0.5939040780067444) "#(0.6549388766288757) ":(0.6363464593887329) "(0.5416209697723389) by(0.661148190498352) "(0.5779772996902466) ":(0.8515042066574097) </s>(0.7151888608932495)]]
-
Source: movie New request . I love War ones . </s>|<s> <sys> movie I believe you said War . Do you mean 90s? </s>|<s> <usr> movie Yes . </s>|<s> <sys> movie Do you mean Mexico? </s>|<s> <usr> movie Yes . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " War ", "# years ": " 90s ", "# country ": " Mexico "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " War ", "# years ": " 90s ", "# country ": " 90s "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.8794054985046387) movie(0.19109205901622772) QUERY(0.6490045189857483) ":(0.632439374923706) {"#(0.6306813955307007) ":(0.33761119842529297) "(0.6972659230232239) War(0.9997671246528625) ",(0.548191487789154) "#(0.5407929420471191) ":(0.3684224486351013) "(0.4531933069229126) 90s(0.7601597309112549) ":(0.29682204127311707) "(0.4434095025062561) 90s(0.9872776865959167) "(0.6103325486183167) ":(0.4809321463108063) default(0.9120355844497681) </s>(0.6262199282646179)]]
-
Source: ", "# years ": " 80s </s>|<s> <usr> movie {" RET ": {"# rating ": " 4 "}} </s>|<s> <sys> movie The rating is 4 . What else can I do? </s>|<s> <usr> movie One more thing . hmm Is it directed by H? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Sci - Fi ", "# years ": " 80s ", "# country ": " Mexico "}, " GOALS ": ["# director "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Sci ", "# years ": " 80s ", "# country ": " 80s "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.6490320563316345) <d>(0.14102989435195923) {"(0.39122217893600464) QUERY(0.4884066581726074) ":(0.8962626457214355) {"#(0.5264462232589722) ":(0.6209275722503662) "(0.5988650321960449) Sci(0.9822730422019958) ",(0.8604080080986023) "#(0.7653627991676331) ":(0.5629118084907532) "(0.5636738538742065) 80s(0.9323874711990356) ":(0.6612340211868286) "(0.5216237902641296) 80s(0.8335209488868713) "(0.6837428212165833) ":(0.6106456518173218) </s>(0.8518714904785156)]]
-
Source: movie {" RET ": {"# default ": " 110 "}} </s>|<s> <sys> movie Movie 110 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie One more thing . Which company produced this movie?. </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 2010 - present ", "# country ": " France "}, " GOALS ": ["# company "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 2010 - present ", "# country ": " 2010 "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.4440244138240814) movie(0.7121524214744568) {"(0.5404640436172485) QUERY(0.6122688055038452) ":(0.5981503129005432) {"#(0.500998318195343) ":(0.4541565179824829) "(0.6001491546630859) Family(0.609603762626648) ",(0.9230133295059204) "#(0.5591226816177368) ":(0.6298365592956543) "(0.8059996962547302) 2010(0.8590230941772461) -(0.8160651326179504) ":(0.13103878498077393) ":(0.5697358846664429) "(0.4418987035751343) 2010(0.3434242606163025) "(0.8819799423217773) ":(0.3652399480342865) default(0.6640123724937439) </s>(0.9395685195922852)]]
-
Source:  The director is P . Are you happy about my answer? </s>|<s> <usr> movie Not done yet . How people rate this movie? </s>|<s> <sys> movie What do you need? </s>|<s> <usr> movie What' s the rating? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 90s ", "# country ": " Germany "}, " GOALS ": ["# rating "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 90s ", "# country ": " 90s "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.5841840505599976) 172(0.1591138243675232) {"(0.1820329874753952) QUERY(0.9719759225845337) ":(0.6275694370269775) {"#(0.7657669186592102) ":(0.3668365180492401) "(0.849322497844696) Action(0.9981117248535156) ",(0.4521222412586212) "#(0.4914812445640564) ":(0.5110328197479248) "(0.8314873576164246) 90s(0.6814237236976624) ":(0.3391900062561035) "(0.92083340883255) 90s(0.9781660437583923) "(0.8961841464042664) ":(0.7840132117271423) </s>(0.6072490215301514)]]
-
Source: Family ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 115 "}} </s>|<s> <sys> movie Movie 115 is a good choice . Anything else? </s>|<s> <usr> movie Not done yet . Who is uhm the director?. </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 90s ", "# country ": " Mexico "}, " GOALS ": ["# director "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 90s ", "# country ": " 90s "}, " GOALS ": ["# parking "]}
[[Attention: <sys>(0.29690080881118774) 115(0.16727879643440247) {"(0.8381902575492859) QUERY(0.6251630783081055) ":(0.5115289092063904) {"#(0.7646540403366089) ":(0.27629971504211426) "(0.7875082492828369) Family(0.9998681545257568) ",(0.45684534311294556) "#(0.9899812340736389) ":(0.2708694636821747) "(0.667812168598175) 90s(0.31456831097602844) ":(0.28077787160873413) "(0.5560544729232788) 90s(0.639644980430603) "(0.6230120658874512) ":(0.44223999977111816) </s>(0.6109707951545715)]]
-
Source: > <usr> movie {" RET ": {"# default ": " 80 "}} </s>|<s> <sys> movie Movie 80 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie Not done yet . Does it have a rating of 4 / 5? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Fantasy ", "# years ": " dont_care ", "# country ": " USA "}, " GOALS ": ["# rating "]} ||| Pred: <sys> 80 {" QUERY ": {"# food_pref ": " Fantasy ", "# loc ": " dont_care "}, " GOALS ": ["# open "]}
[[Attention: <sys>(0.9114014506340027) 80(0.9590736627578735) {"(0.3963560163974762) QUERY(0.9421794414520264) ":(0.9451742768287659) {"#(0.6355915069580078) ":(0.80296790599823) "(0.4938993453979492) Fantasy(0.9424806237220764) ",(0.6238466501235962) "#(0.5503921508789062) ":(0.8736830353736877) "(0.8141587376594543) dont_care(0.9555050134658813) "(0.9309380054473877) ":(0.882064938545227) </s>(0.4873649775981903)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.406706 recall 0.583682 and f1 0.479381
Intent precision 0.845170 recall 0.767247 and f1 0.804326
KB precision 0.889590 recall 0.718929 and f1 0.795206
BLEU 0.505926 BEAK 0.627581

request: 0.31268011679658353
inform: 0.34278470839594855
query: 0.598926791252123
implicit_confirm: 0.44589044257257415
explicit_confirm: 0.1493111346189344
greet: 0.5804261980836528
goodbye: 0.4201843409604515

Generation Done

**** Epcoch 20/100 ****
200/1000-(0.000): Train nll 0.046 PPL 1.048 attn_loss 0.103 distance 0.368 distance_semantic 0.005 loss_pack_warm 1.583 distance1 0.030
400/1000-(0.000): Train nll 0.039 PPL 1.040 attn_loss 0.098 distance 0.358 distance_semantic 0.005 loss_pack_warm 1.688 distance1 0.026
600/1000-(0.000): Train nll 0.045 PPL 1.046 attn_loss 0.078 distance 0.373 distance_semantic 0.004 loss_pack_warm 1.639 distance1 0.025
800/1000-(0.000): Train nll 0.044 PPL 1.045 attn_loss 0.081 distance 0.375 distance_semantic 0.005 loss_pack_warm 1.722 distance1 0.031
0/1000-(0.000): Train nll 0.040 PPL 1.041 attn_loss 0.079 distance 0.367 distance_semantic 0.004 loss_pack_warm 1.742 distance1 0.027

=== Evaluating Model ===
Train nll 0.043 PPL 1.044 attn_loss 0.088 distance 0.368 distance_semantic 0.004 loss_pack_warm 1.675 distance1 0.028
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.149 PPL 1.161 attn_loss 0.147 distance 0.351 distance_semantic 0.294 loss_pack_warm 0.294 distance1 0.294
Total valid loss 0.20938757061958313
Generation: 50 batches
Source: # </s>|<s> <usr> movie {" RET ": {"# default ": " 32 "}} </s>|<s> <sys> movie Movie 32 is a good choice . What else can I do? </s>|<s> <usr> movie Not uhm yeah Not done yet . Is it directed by T? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 80s ", "# country ": " Thailand "}, " GOALS ": ["# director "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 80s ", "# country ": " 80s "}, " GOALS ": ["# open "]}
[[Attention: <sys>(0.8103004097938538) 32(0.32041043043136597) {"(0.9679335951805115) QUERY(0.9999196529388428) ":(0.9705642461776733) {"#(0.9648240804672241) "(0.5995530486106873) Family(0.9999561309814453) ",(0.978659451007843) "#(0.9793568849563599) ":(0.28815218806266785) "(0.26910850405693054) 80s(0.7348096966743469) ":(0.8140177726745605) "(0.2650688886642456) 80s(0.6340721249580383) "(0.5002312660217285) ":(0.9381642937660217) </s>(0.6802467107772827)]]
-
Source: s>|<s> <usr> movie {" RET ": {"# default ": " 41 "}} </s>|<s> <sys> movie Movie 41 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie One hmm more thing . Is it directed by K? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Fantasy ", "# years ": " dont_care ", "# country ": " Mexico "}, " GOALS ": ["# director "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Fantasy ", "# years ": " China ", "# country ": " China "}, " GOALS ": ["# open "]}
[[Attention: <sys>(0.8878973126411438) movie(0.17318934202194214) {"(0.7085028886795044) QUERY(0.5903908610343933) ":(0.8094988465309143) {"#(0.9565920233726501) "(0.9793468117713928) Fantasy(1.0) ",(0.999935507774353) "#(0.9998326301574707) ":(0.415687620639801) "(0.9102756381034851) China(0.4929153621196747) ":(0.1849067211151123) "(0.8590201139450073) China(0.7692671418190002) "(0.5524131655693054) ":(0.3919042944908142) </s>(0.37182095646858215)]]
-
Source: movie I believe you said Crime . Do you mean China? </s>|<s> <usr> movie Nope . </s>|<s> <sys> movie Which country' s movie? </s>|<s> <usr> movie Anything is fine . Uhm sorry, Movie from Thailand </s>
movie:: True: <sys> movie I believe you said Thailand . {" QUERY ": {"# genre ": " Crime ", "# years ": " 90s ", "# country ": " Thailand "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie I believe you said Thailand . {" QUERY ": {"# food_pref ": " Thailand ", "# loc ": " 90s "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9250155687332153) movie(0.9246588945388794) believe(0.9951266050338745) you(0.7459088563919067) said(0.7824302911758423) Thailand(0.8588050603866577) .(0.8301905393600464) Thailand(0.5530301332473755) 90s(0.9995297193527222) </s>(0.7623084187507629)]]
-
Source: genre ": " Family ", "# </s>|<s> <usr> movie No . From uhm Russia . {" RET ": {"# default ": " 86 "}} </s>|<s> <sys> movie Movie 86 is a good choice . Anything else? </s>|<s> <usr> movie Russia . </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 2010 - present ", "# country ": " Russia "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " movie ", "# years ": " Russia ", "# country ": " China "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.8764877915382385) movie(0.891620397567749) {"(0.6437960267066956) QUERY(0.99952232837677) ":(0.9400709271430969) {"#(0.9080606698989868) ":(0.4214029312133789) "(0.6124323010444641) movie(0.8063019514083862) ",(0.6086943745613098) "#(0.985246479511261) ":(0.5251526236534119) "(0.5406235456466675) Russia(0.9367182850837708) ":(0.3038945198059082) "(0.5860077738761902) China(0.8045803904533386) "(0.7745901942253113) ":(0.8079404234886169) default(0.9878210425376892) </s>(0.5678997039794922)]]
-
Source: >|<s> <usr> movie Not done yet . Is it directed by K? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Documentary ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# director ": " F "}} </s>
movie:: True: <sys> movie No, It' s director by F . What else can I do? ||| Pred: <sys> movie No, The restaurant serves F food . What else can I do?
[[Attention: <sys>(0.9076582789421082) movie(0.622575044631958) F(0.8578497171401978) .(0.6222900152206421) else(0.9992071986198425) I(0.5088040828704834) do(0.9632060527801514) ?(0.886555552482605) </s>(0.6246036291122437)]]
-
Source: pe of movie? </s>|<s> <usr> movie I love Drama ones . </s>|<s> <sys> movie I believe you said Drama . {" QUERY ": {"# genre ": " Drama ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 70 "}} </s>
movie:: True: <sys> movie Movie 70 is a good choice . What else can I do? ||| Pred: <sys> 70 Restaurant 70 is a good choice . Anything else?
[[Attention: <sys>(0.8830775618553162) 70(0.560536801815033) 70(0.9999998807907104) is(0.9830101728439331) good(0.9726511836051941) .(0.5347206592559814) ?(0.5115242600440979) </s>(0.46195104718208313)]]
-
Source: e {" RET ": {"# company ": hmm..." 20th Century Fox "}} </s>|<s> <sys> movie It' s made by 20th Century Fox . What else can I do? </s>|<s> <usr> movie One more thing . How people rate this movie? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Comedy ", "# years ": " 80s ", "# country ": " Russia "}, " GOALS ": ["# rating "]} ||| Pred: <sys> movie What' s the time?
[[Attention: <sys>(0.8906723856925964) movie(0.45772191882133484) ?(0.23352877795696259) </s>(0.47417208552360535)]]
-
Source: sr> movie Nope . I uhm love Family ones . Uh - huh . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# default ": " 152 "}} </s>
movie:: True: <sys> movie Movie 152 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie The restaurant has 152 . Anything else?
[[Attention: <sys>(0.9872675538063049) movie(0.3627583384513855) 152(0.996825098991394) .(0.8487567901611328) ?(0.49395379424095154) </s>(0.26949259638786316)]]
-
Source: usr> movie I hmm have more requests . Which company? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " 90s ", "# </s>|<s> <usr> movie {" RET ": {"# company ": " Universal "}} </s>
movie:: True: <sys> movie It' s made by Universal . What else can I do? ||| Pred: <sys> restaurant The restaurant serves Universal food . Are you happy about my answer?
[[Attention: <sys>(0.9181347489356995) Universal(0.9940010905265808) .(0.8471337556838989) you(0.7442139983177185) ?(0.5038254261016846) </s>(0.4197988212108612)]]
-
Source: ng else? </s>|<s> <usr> movie From Japan . </s>|<s> <sys> movie I believe you said Thailand . {" QUERY ": {"# genre ": " Family ", "# </s>|<s> <usr> movie Nope . {" RET ": {"# default ": " 43 "}} </s>
movie:: True: <sys> movie Movie 43 is a good choice . What else can I do? ||| Pred: <sys> 43 Restaurant 43 is a good choice . Anything else?
[[Attention: <sys>(0.7412395477294922) 43(0.48142874240875244) 43(0.9999958276748657) is(0.9997126460075378) a(0.998224675655365) good(0.9977408647537231) choice(0.9980765581130981) .(0.8369642496109009) else(0.9992318153381348) ?(0.4579538404941559) </s>(0.3539266884326935)]]
-
Source: UERY ": {"# genre ": " Western ", "# </s>|<s> <usr> movie Wrong . {" RET ": {"# default ": " 36 "}} </s>|<s> <sys> movie Movie 36 is a good choice . What else can I do? </s>|<s> <usr> movie USA . </s>
movie:: True: <sys> movie I believe you said USA . {" QUERY ": {"# genre ": " Western ", "# years ": " 60s ", "# country ": " USA "}, " GOALS ": ["# default "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " Russia ", "# country ": " Russia "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.4151674509048462) movie(0.7928284406661987) {"(0.7252146005630493) QUERY(0.998063862323761) ":(0.9818882346153259) {"#(0.6189684271812439) ":(0.20972324907779694) "(0.7162752747535706) Western(0.23066797852516174) ",(0.9386916756629944) "#(0.9929853081703186) ":(0.6150667667388916) "(0.40540480613708496) Russia(0.9008917212486267) ":(0.5759639739990234) "(0.9765287041664124) Russia(0.9999629259109497) "(0.6963271498680115) ":(0.49922430515289307) default(0.990182101726532) </s>(0.6563686728477478)]]
-
Source: r> movie I hmm have more requests . Who directed it? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Western ", "# years ": " 2010 - present </s>|<s> <usr> movie {" RET ": {"# director ": " V "}} </s>
movie:: True: <sys> movie It' s director by V . What else can I do? ||| Pred: <sys> movie The restaurant serves V food . Are you happy about my answer?
[[Attention: <sys>(0.9808827042579651) movie(0.4956858158111572) V(0.9277054071426392) .(0.7203903198242188) you(0.4289548695087433) ?(0.5179618000984192) </s>(0.7651838660240173)]]
-
Source: o search a new one . hmm...Movie from Korea </s>|<s> <sys> movie Do you mean Drama? </s>|<s> <usr> movie That' s wrong . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Family . </s>
movie:: True: <sys> movie I believe you said Family . Do you mean 60s? ||| Pred: <sys> movie Do you mean Russia?
[[Attention: <sys>(0.8591365814208984) want(0.4226638674736023) Do(0.9267989993095398) you(0.6329073905944824) mean(0.7996408939361572) Russia(0.9354283213615417) ?(0.6280378699302673) </s>(0.5562925934791565)]]
-
Source: e . Anything else? </s>|<s> <usr> movie Anything is fine . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Crime ", "# years ": " 80s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 171 "}} </s>
movie:: True: <sys> movie Movie 171 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie Movie 171 is a good choice . Anything else?
[[Attention: <sys>(0.9919201135635376) movie(0.3065377175807953) 171(0.9895657300949097) is(0.6368266940116882) a(0.9369258284568787) good(0.9994500279426575) choice(0.9996300935745239) .(0.2895074188709259) Anything(0.20644696056842804) else(0.996644139289856) ?(0.6749377846717834) </s>(0.9373390674591064)]]
-
Source: <s> <usr> movie Germany . </s>|<s> <sys> movie I believe you said Germany . {" QUERY ": {"# genre ": " Drama ", "# </s>|<s> <usr> movie Nope . Japan . uhm Oh no, Mexico . {" RET ": {"# default ": </s>
movie:: True: <sys> movie Movie 189 is a good choice . Are you happy about my answer? ||| Pred: <sys> movie Restaurant 34 is a good choice . Anything else?
[[Attention: <sys>(0.39396369457244873) movie(0.2980745732784271) .(0.5613657236099243) ?(0.36701861023902893) </s>(0.5020609498023987)]]
-
Source: " 70s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 152 "}} </s>|<s> <sys> movie Movie 152 is a good choice . Anything else? </s>|<s> <usr> movie I have uhm more requests . Which company? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 70s ", "# country ": " Russia "}, " GOALS ": ["# company "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " Russia ", "# country ": " Russia "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.7240198254585266) movie(0.8339306712150574) QUERY(0.9494381546974182) ":(0.8369777798652649) {"#(0.7538620829582214) "#(0.19598203897476196) "(0.5220616459846497) Family(0.5514242649078369) ",(0.7853440642356873) "#(0.9325651526451111) ":(0.4770278334617615) "(0.5823950171470642) Russia(0.9292075634002686) ":(0.8537694215774536) "(0.8877246975898743) Russia(0.9998941421508789) "(0.9670128226280212) ":(0.863964855670929) default(0.3345189392566681) </s>(0.5372930765151978)]]
-
Source: s>|<s> <usr> movie Movie from Germany Uhm sorry, France . </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Family ", "# years ": " 60s ", "# </s>|<s> <usr> movie {" RET ": {"# default ": " 183 "}} </s>
movie:: True: <sys> movie Movie 183 is a good choice . What else can I do? ||| Pred: <sys> movie Movie 183 is a good choice . Anything else?
[[Attention: <sys>(0.9353232979774475) movie(0.4779685437679291) 183(0.9999676942825317) is(0.9651941061019897) a(0.9992085099220276) good(0.9955171942710876) choice(0.9570268988609314) .(0.6406757831573486) ?(0.8139472603797913) </s>(0.7615205645561218)]]
-
Source:  movie New request . From China . </s>|<s> <sys> movie You dont_care, right? </s>|<s> <usr> movie That' s wrong . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie Anything is fine . </s>
movie:: True: <sys> movie Do you mean 90s? ||| Pred: <sys> movie {" QUERY ": {"# food_pref ": " dont_care ", "# loc ": " China "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.5444033741950989) movie(0.48479923605918884) QUERY(0.9816462397575378) ":(0.9992307424545288) {"#(0.925700306892395) ":(0.9998923540115356) "(0.9998538494110107) dont_care(0.27503713965415955) ":(0.9998149275779724) "(0.9999505281448364) China(0.9995508790016174) "(0.991534948348999) ":(0.9986771941184998) default(0.999852180480957) </s>(0.44923821091651917)]]
-
Source: >|<s> <usr> movie {" RET ": {"# default ": " 25 "}} </s>|<s> <sys> movie Movie 25 is a good choice . Are you happy about my answer? </s>|<s> <usr> movie I have more requests . What' s the rating? </s>
movie:: True: <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " 60s ", "# country ": " Thailand "}, " GOALS ": ["# rating "]} ||| Pred: <sys> movie {" QUERY ": {"# genre ": " Action ", "# years ": " Thailand ", "# country ": " Thailand "}, " GOALS ": ["# parking "]}
[[Attention: <sys>(0.3465701937675476) movie(0.3229634165763855) {"(0.822087824344635) QUERY(0.9998452663421631) ":(0.919390082359314) {"#(0.860179603099823) "(0.7059540748596191) Action(0.9765104055404663) ",(0.5678231716156006) "#(0.8606953620910645) ":(0.3405829668045044) "(0.2412809431552887) Thailand(0.9170965552330017) "#(0.5109771490097046) ":(0.6568163633346558) "(0.5472612380981445) Thailand(0.5130844116210938) "(0.544143795967102) ":(0.9353264570236206) </s>(0.3467785716056824)]]
-
Source: e Not uhm yeah Not done yet . Does it have a very bad rating? </s>|<s> <sys> movie {" QUERY ": {"# genre ": " Drama ", "# years ": " 90s ", "# </s>|<s> <usr> movie {" RET ": {"# rating ": " 4 "}} </s>
movie:: True: <sys> movie No, This movie has a rating of 4 . Anything else? ||| Pred: <sys> movie No, The restaurant serves 4 food . Are you happy about my answer?
[[Attention: <sys>(0.9093543291091919) 143(0.16269177198410034) ,(0.9269620776176453) 4(0.9992578625679016) .(0.9881101846694946) you(0.40503016114234924) happy(0.9957028031349182) about(0.9993632435798645) my(0.9992061257362366) answer(0.9900957345962524) ?(0.9609707593917847) </s>(0.48187294602394104)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.553897 recall 0.646035 and f1 0.596429
Intent precision 0.846803 recall 0.761213 and f1 0.801730
KB precision 0.882653 recall 0.613040 and f1 0.723547
BLEU 0.443694 BEAK 0.625942

query: 0.531417579708723
implicit_confirm: 0.3337777312699535
request: 0.2675479962571039
inform: 0.3905007744007284
explicit_confirm: 0.25009804456699125
goodbye: 0.4620957231081174
greet: 0.1369141783987295

Generation Done

**** Epcoch 21/100 ****
200/1000-(0.000): Train nll 0.044 PPL 1.045 attn_loss 0.079 distance 0.363 distance_semantic 0.004 loss_pack_warm 1.599 distance1 0.023
400/1000-(0.000): Train nll 0.040 PPL 1.040 attn_loss 0.074 distance 0.364 distance_semantic 0.004 loss_pack_warm 1.724 distance1 0.023
600/1000-(0.000): Train nll 0.040 PPL 1.041 attn_loss 0.076 distance 0.363 distance_semantic 0.004 loss_pack_warm 1.780 distance1 0.024
800/1000-(0.000): Train nll 0.043 PPL 1.044 attn_loss 0.082 distance 0.370 distance_semantic 0.004 loss_pack_warm 1.677 distance1 0.026
0/1000-(0.000): Train nll 0.043 PPL 1.044 attn_loss 0.095 distance 0.371 distance_semantic 0.004 loss_pack_warm 1.727 distance1 0.030

=== Evaluating Model ===
Train nll 0.042 PPL 1.043 attn_loss 0.081 distance 0.366 distance_semantic 0.004 loss_pack_warm 1.701 distance1 0.025
Valid init with 65 batches with 0 left over samples
Valid add with 10 warm up batches
Valid nll 0.153 PPL 1.165 attn_loss 0.160 distance 0.354 distance_semantic 0.295 loss_pack_warm 0.295 distance1 0.295
Total valid loss 0.21333837509155273
Generation: 50 batches
Source: s? What can I do for you? </s>|<s> <usr> movie Hi . What should uhm I watch now </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Drama uhm yeah Drama movies . Movie from Thailand </s>
movie:: True: <sys> movie I believe you said Drama . I believe you said Thailand . Movie in what years? ||| Pred: <sys> movie What kind of food do you like?
[[Attention: <sys>(0.9964579939842224) do(0.9972934126853943) you(0.9450226426124573) like(0.18991024792194366) ?(0.626356303691864) </s>(0.7964087128639221)]]
-
Source: s>|<s> <usr> movie Hello uhm robot . What should I watch now </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love uhm yeah I love Action ones . Uhm sorry, Music movies . Whatever </s>
movie:: True: <sys> movie What' s the time period? ||| Pred: <sys> movie {" QUERY ": {"# genre ": " dont_care ", "# years ": " dont_care ", "# country ": " dont_care "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.8597343564033508) movie(0.9646506905555725) Music(0.11111940443515778) </s>(0.9816747307777405)]]
-
Source:  about movies? How can I help? </s>|<s> <usr> movie What' s up? Recommend a movie . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I like uhm yeah I like Drama movies . Korea . </s>
movie:: True: <sys> movie I believe you said Drama . I believe you said Korea . What' s the time period? ||| Pred: <sys> movie What kind of food do you like?
[[Attention: <sys>(0.8327394723892212) do(0.9947522878646851) you(0.9999489784240723) like(0.5654708743095398) ?(0.9394935369491577) </s>(0.8190260529518127)]]
-
Source: Want to know about movies? What can I do for you? </s>|<s> <usr> movie Hello robot . What uhm should I watch now </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Drama ones . </s>
movie:: True: <sys> movie What' s the time period? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.9852670431137085) movie(0.291934996843338) ?(0.9733607769012451) </s>(0.9718833565711975)]]
-
Source:  What do you need? </s>|<s> <usr> movie Hello robot . What should hmm...I watch now </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I love Family ones . Movies in 2010 - present </s>
movie:: True: <sys> movie I believe you said Family . I believe you said 2010 - present . Which country' s movie? ||| Pred: <sys> movie I believe you said Washington DC . I believe you said Chinese . {" QUERY ": {"# food_pref ": " Korean ", "# loc ": " Washington DC "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9758157730102539) movie(0.8975113034248352) you(0.9460011124610901) .(0.3282305598258972) you(0.6347917318344116) .(0.44494709372520447) -(0.23643794655799866) </s>(0.7775918245315552)]]
-
Source: r you? </s>|<s> <usr> movie What' s up? Give me some good suggestions about movies . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Sci - Fi movies . Oh no, uhm I don' t care . </s>
movie:: True: <sys> movie Okay, you dont_care . What' s the time period? ||| Pred: <sys> movie Goodbye.
[[Attention: <sys>(0.9993780851364136) movie(0.16792920231819153) .(0.9447864890098572) </s>(0.5471621751785278)]]
-
Source: movies? How can I help? </s>|<s> <usr> movie What' s uhm yeah What' s up? Recommend a movie . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie Family . From USA . Oh sorry, France . </s>
movie:: True: <sys> movie What' s the time period? ||| Pred: <sys> movie Do you mean Washington DC?
[[Attention: <sys>(0.845849871635437) movie(0.5084828734397888) Family(0.22915753722190857) ?(0.8627873659133911) </s>(0.6232773661613464)]]
-
Source:  movies? What do you need? </s>|<s> <usr> movie Hello robot . Give me some good suggestions about movies . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I like Action movies . </s>
movie:: True: <sys> movie I believe you said Action . Movie in what years? ||| Pred: <sys> movie What kind of food do you like?
[[Attention: <sys>(0.9980112314224243) do(0.8645594716072083) you(0.8169056177139282) like(0.8133818507194519) ?(0.6692365407943726) </s>(0.6797146797180176)]]
-
Source: bout movies? How can I help? </s>|<s> <usr> movie Hello robot . Give me some good suggestions about movies . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I love Family ones . </s>
movie:: True: <sys> movie I believe you said Family . Movie in what years? ||| Pred: <sys> movie What' s the time?
[[Attention: <sys>(0.959480345249176) ?(0.7154293656349182) </s>(0.9295209646224976)]]
-
Source: ys> movie Want to know about movies? What do you need? </s>|<s> <usr> movie What' s hmm...up? Recommend a movie . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie Whatever is good . </s>
movie:: True: <sys> movie What' s the time period? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.9439729452133179) movie(0.9594243764877319) ?(0.48793748021125793) </s>(0.8984724879264832)]]
-
Source: vie Want to know about movies? What do you need? </s>|<s> <usr> movie Hello hmm...robot . What should I watch now </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Action movies . </s>
movie:: True: <sys> movie I believe you said Action . What' s the time period? ||| Pred: <sys> movie I believe you said Washington DC . {" QUERY ": {"# food_pref ": " American ", "# loc ": " Los Angeles "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.9998308420181274) movie(0.7406226992607117) you(0.9636563062667847) movie(0.1611713021993637) .(0.9980140924453735) </s>(0.5568975806236267)]]
-
Source: <s> <sys> movie Want to know about movies? How can I help? </s>|<s> <usr> movie Hi . What should I watch now </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie I love Family ones . </s>
movie:: True: <sys> movie I believe you said Family . Movie in what years? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.9127025604248047) movie(0.501736044883728) do(0.1267990916967392) ?(0.3252708613872528) ?(0.6390608549118042) </s>(0.9627364873886108)]]
-
Source:  need? </s>|<s> <usr> movie Hello robot . uhm Give me some good suggestions about movies . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I don' t hmm care . Oh no, Music movies . </s>
movie:: True: <sys> movie I believe you said Music . Movie in what years? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.8871374130249023) movie(0.13790330290794373) ?(0.18773405253887177) ?(0.9466518759727478) </s>(0.8088205456733704)]]
-
Source: ovies? How can I help? </s>|<s> <usr> movie Hi . uhm yeah Hi . Give me some good hmm suggestions about movies . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Family ones . </s>
movie:: True: <sys> movie I believe you said Family . What' s the time period? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.9665762782096863) movie(0.19123144447803497) ?(0.8041076064109802) </s>(0.544544517993927)]]
-
Source:  Want to know about movies? What can I do for you? </s>|<s> <usr> movie Hello robot . What should I watch now </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I like Family movies . </s>
movie:: True: <sys> movie I believe you said Family . Movie in what years? ||| Pred: <sys> movie What kind of food do you like?
[[Attention: <sys>(0.6955641508102417) do(0.9999679327011108) you(0.9999985694885254) like(0.4623265266418457) ?(0.9930925369262695) </s>(0.9821478128433228)]]
-
Source: o know about movies? What can I do for you? </s>|<s> <usr> movie Hello robot . Give me some good suggestions about movies . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie Family . </s>
movie:: True: <sys> movie I believe you said Family . Movie in what years? ||| Pred: <sys> movie What' s the time?
[[Attention: <sys>(0.528091549873352) ?(0.48526066541671753) </s>(0.8590039014816284)]]
-
Source: |<s> <usr> movie Hi . hmm...Give me some good suggestions about movies . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Sci - Fi movies . uhm yeah Sci - Fi movies . Oh sorry, I </s>
movie:: True: <sys> movie I believe you said Action . Movie in what years? ||| Pred: <sys> movie I believe you said Washington DC . I believe you said Korean . {" QUERY ": {"# food_pref ": " Korean ", "# loc ": " Washington DC "}, " GOALS ": ["# default "]}
[[Attention: <sys>(0.998760461807251) movie(0.5935119986534119) I(0.32642680406570435) you(0.8481727242469788) .(0.9868673086166382) I(0.7462138533592224) you(0.9695163369178772) .(0.9632146954536438) </s>(0.7859386801719666)]]
-
Source:  <sys> movie Want to know about movies? What do you need? </s>|<s> <usr> movie What' s up? Recommend a movie . </s>|<s> <sys> movie What genre do you like? </s>|<s> <usr> movie Western . In 60s . </s>
movie:: True: <sys> movie I believe you said Western . I believe you said 60s . Movie from what country? ||| Pred: <sys> movie I believe you said 60s . {" QUERY ": {"# genre ": " movie ", "# years ": " 60s ", "# country ": " San Jose "}, " GOALS ": ["# company "]}
[[Attention: <sys>(0.9999414682388306) movie(0.9389488101005554) you(0.8784250020980835) 60s(0.9966000914573669) .(0.8462169766426086) movie(0.6216804385185242) 60s(0.9999759197235107) </s>(0.7578046321868896)]]
-
Source: vie Want to know about movies? What do you need? </s>|<s> <usr> movie What' s up? What uhm should I watch now </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I like Family movies . </s>
movie:: True: <sys> movie Movie in what years? ||| Pred: <sys> movie What' s the time period?
[[Attention: <sys>(0.9183712601661682) ?(0.9374743700027466) </s>(0.9067372679710388)]]
-
Source: ow about movies? How can I help? </s>|<s> <usr> movie Hi . Recommend a movie . </s>|<s> <sys> movie Which type of movie? </s>|<s> <usr> movie I love Drama ones . Oh sorry, I like Fantasy movies . </s>
movie:: True: <sys> movie I believe you said Fantasy . Movie in what years? ||| Pred: <sys> movie What kind of food do you like?
[[Attention: <sys>(0.9553254842758179) like(0.4921927750110626) ?(0.9744404554367065) </s>(0.7229776382446289)]]
-
Generate report for movie for 1000 samples

==== REPORT====
Domain: movie
Entity precision 0.460342 recall 0.560606 and f1 0.505551
Intent precision 0.816388 recall 0.686662 and f1 0.745927
KB precision 0.917064 recall 0.606557 and f1 0.730171
BLEU 0.498212 BEAK 0.608590

request: 0.41315890152723955
implicit_confirm: 0.3388167137312234
inform: 0.5454146100730553
explicit_confirm: 0.16285109470101833
query: 0.533156388168135
goodbye: 0.397345736813628
greet: 0.30666229357785835

Generation Done
!!Early stop due to run out of patience!!
Best validation loss 0.161736
Test init with 185 batches with 20 left over samples
Test add with 5 warm up batches
